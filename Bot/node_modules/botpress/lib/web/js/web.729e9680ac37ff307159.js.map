{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/web/components/Layout/index.jsx","webpack:///./src/web/components/Authentication/index.jsx","webpack:///./src/web/components/Routes/index.jsx","webpack:///./src/web/components/App/index.jsx","webpack:///./src/web/theme.scss","webpack:///./src/web/theme.scss?6463","webpack:///./src/web/components/Content/Select/style.scss","webpack:///./src/web/components/Content/style.scss","webpack:///./src/web/components/Content/style.scss?f0d0","webpack:///.-util-roles/dist/resources.js","webpack:///.-util-roles/dist/index.js","webpack:///./src/web/components/ContentForm/UploadWidget.js","webpack:///./src/web/components/ContentForm/RefWidget.js","webpack:///./src/web/components/ContentForm/index.js","webpack:///./src/web/components/Content/Select/Widget.js-exposed","webpack:///./src/web/components/PluginInjectionSite/module.jsx","webpack:///./src/web/util/EventBus.js","webpack:///./src/web/index.jsx","webpack:///./src/web/util.js","webpack:///./src/web/actions/index.js","webpack:///./src/web/store.js","webpack:///./src/web/util/Modules.js","webpack:///./src/web/views/FlowBuilder/nodeProps/TransitionSection.jsx","webpack:///./src/web/components/Injected/index.jsx","webpack:///./src/web/views/FlowBuilder/common/condition.jsx","webpack:///./src/web/views/FlowBuilder/common/style.scss?58f1","webpack:///./src/web/views/FlowBuilder/common/action.jsx","webpack:///./src/web/views/FlowBuilder/diagram/nodes/style.scss?7c2b","webpack:///./src/web/views/GhostContent/util.js","webpack:///./src/web/components/Util/Loading.js","webpack:///./src/web/components/Content/CreateOrEditModal.js","webpack:///./src/web/reducers/notifications.js","webpack:///./src/web/reducers/skills.js","webpack:///./src/web/reducers/modules.js","webpack:///./src/web/reducers/bot.js","webpack:///./src/web/reducers/user.js","webpack:///./src/web/reducers/ui.js","webpack:///./src/web/reducers/license.js","webpack:///./src/web/reducers/flows.js","webpack:///./src/web/reducers/content.js","webpack:///./src/web/reducers/selectors.js","webpack:///./src/web/actions/BatchRunner.js","webpack:///./src/web/components/Content/Select/Widget.js","webpack:///./src/web/views/FlowBuilder/nodeProps/ActionSection.jsx","webpack:///./src/web/views/FlowBuilder/common/EditableInput.jsx","webpack:///./src/web/views/FlowBuilder/sidePanel/flows/style.scss?99b6","webpack:///./src/web/views/FlowBuilder/diagram/nodes/Ports.jsx","webpack:///./src/web/components/Layout/Header.scss?25f1","webpack:///./src/web/components/Notifications/index.jsx","webpack:///./src/web/components/Content/Select/style.scss?8e81","webpack:///./src/web/components/Layout/PermissionsChecker.js","webpack:///./src/web/views/Login/style.scss","webpack:///./src/web/views/Login/style.scss?2eae","webpack:///./src/web/views/Login/index.jsx","webpack:///./src/web/components/Layout/style.scss","webpack:///./src/web/components/Layout/style.scss?33c3","webpack:///./src/web/components/PluginInjectionSite/index.jsx","webpack:///./src/web/views/Logs/style.scss","webpack:///./src/web/views/Logs/style.scss?e60d","webpack:///./src/web/views/Logs/index.jsx","webpack:///./src/web/views/Notifications/style.scss","webpack:///./src/web/views/Notifications/style.scss?3d99","webpack:///./src/web/views/Notifications/index.jsx","webpack:///./src/web/views/Module/index.jsx","webpack:///./src/web/views/FlowBuilder/style.scss","webpack:///./src/web/views/FlowBuilder/style.scss?cfe5","webpack:///./src/web/views/FlowBuilder/nodeProps/FlowInformation.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/SkillCallNode.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/ConditionModalForm.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/style.scss","webpack:///./src/web/views/FlowBuilder/nodeProps/parameters.scss","webpack:///./src/web/views/FlowBuilder/nodeProps/parameters.scss?0bb6","webpack:///./src/web/views/FlowBuilder/nodeProps/ParametersTable.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/actionDropdown.scss","webpack:///./src/web/views/FlowBuilder/nodeProps/actionDropdown.scss?f406","webpack:///./src/web/views/FlowBuilder/nodeProps/SelectActionDropdown.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/ActionModalForm.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/StandardNode.jsx","webpack:///./src/web/views/FlowBuilder/nodeProps/index.js","webpack:///./src/web/views/FlowBuilder/containers/NodeProps.js","webpack:///./src/web/views/FlowBuilder/skills/style.scss","webpack:///./src/web/views/FlowBuilder/skills/style.scss?02d2","webpack:///./src/web/views/FlowBuilder/skills/index.jsx","webpack:///./src/web/views/FlowBuilder/containers/SkillsBuilder.js","webpack:///./src/web/views/FlowBuilder/topbar.scss","webpack:///./src/web/views/FlowBuilder/topbar.scss?26c3","webpack:///./src/web/views/FlowBuilder/topbar.jsx","webpack:///./src/web/views/FlowBuilder/containers/Topbar.js","webpack:///./src/web/views/FlowBuilder/sidePanel/style.scss","webpack:///./src/web/views/FlowBuilder/sidePanel/style.scss?19d9","webpack:///./src/web/views/FlowBuilder/sidePanel/flows/util.js","webpack:///./src/web/views/FlowBuilder/sidePanel/flows/style.scss","webpack:///./src/web/reducers/index.js","webpack:///./src/web/util/Auth.js","webpack:///./src/web/views/FlowBuilder/sidePanel/flows/tree.js","webpack:///./src/web/views/FlowBuilder/sidePanel/flows/index.jsx","webpack:///./src/web/views/FlowBuilder/sidePanel/index.jsx","webpack:///./src/web/components/Layout/PageHeader.jsx","webpack:///./src/web/views/FlowBuilder/containers/SidePanel.js","webpack:///./src/web/views/FlowBuilder/diagram/style.scss","webpack:///./src/web/views/FlowBuilder/diagram/style.scss?4cb7","webpack:///./src/web/views/FlowBuilder/diagram/nodes/LinkWidget.jsx","webpack:///./src/web/views/FlowBuilder/diagram/nodes/SkillCallNode.jsx","webpack:///./src/web/views/FlowBuilder/common/style.scss","webpack:///./src/web/views/FlowBuilder/diagram/nodes/style.scss","webpack:///./src/web/views/FlowBuilder/diagram/nodes/StandardNode.jsx","webpack:///./src/web/views/FlowBuilder/diagram/index.jsx","webpack:///./src/web/views/FlowBuilder/containers/Diagram.js","webpack:///./src/web/components/Layout/ContentWrapper.jsx","webpack:///./src/web/views/FlowBuilder/toolbar.scss","webpack:///./src/web/views/FlowBuilder/toolbar.scss?49d0","webpack:///./src/web/views/FlowBuilder/toolbar.jsx","webpack:///./src/web/views/FlowBuilder/containers/Toolbar.js","webpack:///./src/web/views/FlowBuilder/index.jsx","webpack:///./src/web/views/GhostContent/style.scss","webpack:///./src/web/views/GhostContent/style.scss?a621","webpack:///./src/web/views/GhostContent/About.js","webpack:///./src/web/views/GhostContent/index.js","webpack:///./src/web/views/Content/style.scss","webpack:///./src/web/views/Content/style.scss?5cda","webpack:///./src/web/views/Content/List/style.scss","webpack:///./src/web/views/Content/List/style.scss?9d34","webpack:///./src/web/views/Content/List/index.js","webpack:///./src/web/views/Content/Sidebar/style.scss","webpack:///./src/web/views/Content/Sidebar/style.scss?0d4c","webpack:///./src/web/views/Content/Sidebar/index.js","webpack:///./src/web/views/Content/index.jsx","webpack:///./src/web/views/Middleware/style.scss","webpack:///./src/web/views/Middleware/style.scss?06d6","webpack:///./src/web/components/Middlewares/style.scss","webpack:///./src/web/components/Middlewares/style.scss?9f0f","webpack:///./src/web/components/Middlewares/index.jsx","webpack:///./src/web/views/Middleware/index.jsx","webpack:///./src/web/components/Hero/style.scss","webpack:///./src/web/components/Hero/style.scss?2584","webpack:///./src/web/components/Hero/index.jsx","webpack:///./src/web/components/Information/style.scss","webpack:///./src/web/components/Information/style.scss?b33a","webpack:///./src/web/components/Information/index.jsx","webpack:///./src/web/components/Layout/PageHeader.scss","webpack:///./src/web/components/Layout/PageHeader.scss?cee1","webpack:///./src/web/components/Layout/ContentWrapper.scss","webpack:///./src/web/components/Layout/ContentWrapper.scss?fa6a","webpack:///./src/web/views/Dashboard/index.jsx","webpack:///./src/web/components/Content/Select/index.js","webpack:///./src/web/components/Content/Select/Manager.js","webpack:///./src/web/components/Tour/style.scss","webpack:///./src/web/components/Tour/style.scss?df98","webpack:///./src/web/util/Emoji.js","webpack:///./src/web/components/Tour/index.jsx","webpack:///./src/web/components/About/index.jsx","webpack:///./src/web/components/License/style.scss","webpack:///./src/web/components/License/style.scss?662b","webpack:///./src/web/components/License/index.jsx","webpack:///./src/web/components/Layout/HelpButton.scss","webpack:///./src/web/components/Layout/HelpButton.scss?d280","webpack:///./src/web/components/Layout/HelpButton.jsx","webpack:///./src/web/components/Layout/SidebarFooter.scss","webpack:///./src/web/views/FlowBuilder/nodeProps/style.scss?c8af","webpack:///./src/web/components/Layout/SidebarFooter.scss?1695","webpack:///./src/web/components/Layout/SidebarFooter.jsx","webpack:///./src/web/components/Layout/Sidebar.scss","webpack:///./src/web/components/Layout/Sidebar.scss?41c6","webpack:///./src/web/views/GhostContent/Checker.js","webpack:///./src/web/components/Layout/SidebarHeader.scss","webpack:///./src/web/components/Layout/SidebarHeader.scss?a0a7","webpack:///./src/web/components/Layout/SidebarHeader.jsx","webpack:///./src/web/components/Layout/Sidebar.jsx","webpack:///./src/web/components/Layout/Header.scss","webpack:///./src/web/components/Notifications/hubStyle.scss","webpack:///./src/web/components/Notifications/hubStyle.scss?5fac","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/web/components/Notifications/Hub.jsx","webpack:///./src/web/components/Layout/Header.jsx"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","2","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","p","jsonpArray","window","webpackJsonp","oldJsonpFunction","slice","_redux","_reactRedux","_reactToastify","_reactRouterDom","f","_","h","y","b","g","v","w","E","k","O","x","N","_actions","C","e","P","configurable","writable","Layout","React","Component","_this2","this","viewMode","props","location","query","setImmediate","viewModeChanged","_classnames","hasHeader","classNames","_classnames3","_defineProperty","style","container","_react2","createElement","className","ToastContainer","_Sidebar2","_Header2","Switch","Route","exact","path","render","Redirect","to","component","Dashboard","Middleware","Content","GhostContent","FlowBuilder","Module","Notifications","Logs","_SidebarFooter2","_Tour2","opened","SHOW_GUIDED_TOUR","_License2","licenseModalOpened","license","text","toggleLicenseModal","_About2","aboutModalOpened","_PluginInjectionSite2","site","_HelpButton2","_Manager2","connect","state","ownProps","ui","dispatch","bindActionCreators","a","u","_Auth","ReferenceError","WrappedComponent","AuthenticationWrapper","_React$Component","_ref","_temp","_this","_len","arguments","args","Array","_key","_possibleConstructorReturn","__proto__","getPrototypeOf","concat","authorized","promptLogin","urlToken","pathname","context","router","history","botpressWebChat","sendEvent","type","checkAuth","axios","catch","err","response","status","TypeError","constructor","setPrototypeOf","_createClass","authEvents","on","setupAuth","off","clearInterval","checkInterval","AUTH_ENABLED","params","JSON","parse","setToken","newQuery","omit","replace","assign","search","qs","stringify","returnTo","tokenStillValid","token","getToken","elapsed","Date","time","AUTH_TOKEN_DURATION","logout","setState","setInterval","contextTypes","PropTypes","withRouter","addLocationQuery","queryString","_createBrowserHistory2","listen","logPageView","ReactGA","set","page","pageview","OPT_OUT_STATS","initialize","AuthenticatedLayout","_Authentication2","Router","onUpdate","Login","1054","_react","App","fetchData","fetchModules","fetchNotifications","fetchBotInformation","fetchLicense","fetchUser","APP_NAME","document","title","EventBus","setup","notifications","replaceNotifications","notification","addNotifications","_Routes2","mapDispatchToProps","locals","h1","h2","h3","h4","h5","h6","1056","content","createItem","editButton","1069","modal","cancel","1070","_extends","target","source","enrichResources","resources","_enrichResources","parent","map","res","fullName","displayName","children","_RESOURCES","description","operations","sort","localeCompare","RESOURCES","_resources","ressourceMatches","pattern","separator","indexOf","parts","split","testParts","matches","ii","toLowerCase","OPERATION_ALIASES","read","write","KNOWN_OPERATIONS","checkRule","rules","operation","ressource","includes","Error","permission","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","iterator","next","done","rule","op","return","checkMultipleRoles","roles","roleName","1073","_reactBootstrap","UploadWidget","handleChange","url","onChange","expand","expanded","collapse","startUpload","event","FormData","append","files","error","uploading","post","headers","Content-Type","then","message","newProps","_props$schema","schema","filter","$filter","subtype","$subtype","_state","_PermissionsChecker2","user","fallback","FormGroup","HelpBlock","InputGroup","FormControl","placeholder","disabled","id","Button","onClick","accept","bsStyle","validationState","_Loading2","decorateRef","RefWidget","item","categoryId","$category","_Widget2","inputId","itemId","decoratedId","match","widgets","BaseInput","_RefWidget2","_UploadWidget2","_BaseInput2","defaultFormData","_reactJsonschemaForm2","formData","safeRenderCompletion","global","BotpressContentPicker","132","InjectedModuleView","moduleComponent","modName","viewName","lite","moduleName","subView","isLite","botpress","setViewInState","script","onload","shortName","src","getElementsByTagName","appendChild","viewResolve","prop","startsWith","find","loadModule","nextProps","console","log","onNotFound","bp","events","extraProps","_Injected2","wildcard","maxListeners","dispatchSocketEvent","emit","dispatchClientEvent","from","socket","guestSocket","adminSocket","visitorId","getUniqueVisitorId","dispatchEvent","disconnect","socketUrl","origin","_socket2","onAny","EventEmitter2","defaults","common","Authorization","ReactDOM","_exposeLoaderReactReact2","Provider","store","getElementById","146","prettyId","moveCursorToEnd","hashCode","str","hash","charCodeAt","el","selectionStart","selectionEnd","focus","createTextRange","range","select","_generate2","_reduxActions","requestFlows","createAction","receiveFlows","flows","receiveAt","requestSaveFlows","fetchFlows","keyBy","receiveSaveFlows","handleRefreshFlowLinks","saveAllFlows","getState","values","flowsByName","flow","startNode","catchAll","links","nodes","skillData","updateFlow","renameFlow","createFlow","switchFlow","deleteFlow","duplicateFlow","refreshFlowsLinks","setTimeout","handleFlowEditorUndo","updateFlowNode","switchFlowNode","createFlowNode","removeFlowNode","copyFlowNode","pasteFlowNode","copyFlowNodeElement","pasteFlowNodeElement","openFlowNodeProps","closeFlowNodeProps","handleFlowEditorRedo","receiveContentCategories","flowEditorUndo","flowEditorRedo","setDiagramAction","receiveContentItems","fetchContentCategories","_ref2","receiveContentItemsRecent","fetchContentItems","_ref3","count","searchTerm","_ref4","getBatchedContentRunner","fetchContentItemsRecent","_ref5","_ref5$count","_ref5$categoryId","orderBy","_ref6","_BatchRunner2","ids","join","_ref7","reduce","acc","receiveContentItem","receiveContentItemsCount","fetchContentItem","_ref9","_ref9$force","force","_ref9$batched","batched","itemsById","Promise","resolve","add","_ref8","licenseChanged","fetchContentItemsCount","upsertContentItem","_ref10","modifyId","deleteContentItems","userReceived","_ref11","toggleAboutModal","updateGlobalStyle","botInfoReceived","authEnabled","modulesReceived","information","allNotificationsReceived","newNotificationsReceived","editSkill","allNotifications","buildNewSkill","cancelNewSkill","insertNewSkill","insertNewSkillNode","updateSkill","requestEditSkill","nodeId","node","currentFlow","skillId","skill","flowName","actions","enhancer","_typeof","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","actionCreators","compose","applyMiddleware","thunk","createStore","reducers","moduleViewNames","position","flatten","Boolean","plugins","plugin","entry","isArray","TransitionSection","showConditionalModalForm","onSubmit","editIndex","itemToEditIndex","items","onItemsUpdated","Number","isInteger","originalItem","_toConsumableArray","prevIndex","direction","clone","index","pullAt","copyItem","_props","readOnly","Fragment","_condition2","condition","Label","onEdit","onRemove","onCopyAction","onMove","bsSize","_classnames2","actionIcons","pasteItem","canPaste","_ConditionModalForm2","subflows","show","onClose","InjectedComponent","componentId","_nanoid2","internalRender","unmountComponentAtNode","findDOMNode","element","href","propTypes","func","isRequired","ConditionItem","renderOverlay","child","popoverHoverFocus","Popover","Well","OverlayTrigger","trigger","placement","delayShow","overlay","_props$condition","caption","raw","renderer","renderNormal","vars","htmlTpl","escape","Mustache","test","icon","dangerouslySetInnerHTML","__html","ActionItem","textToItemId","fetchItem","action","trim","actionName","parameters","tokens","head","tail","callPreview","fn","renderAction","stripDots","categoryTitle","previewText","html","msg","fetchStatus","_mapValues2","entries","_groupBy2","getHost","_document$location","protocol","host","revertPendingFileChanges","folder","file","delete","ProgressBar","active","color","now","256","CreateOrEditModal","handleEdit","handleSave","handleCreateOrUpdate","Modal","onHide","handleClose","zIndex","Body","_ContentForm2","uiSchema","_howler","sound","Howl","reducer","handleActions","_handleActions","payload","some","play","unshift","installed","menuText","menuIcon","builder","editFlowName","editNodeId","toString","customStyle","licensed","_util","defaultState","fetchingFlows","currentFlowNode","showFlowNodeProps","currentDiagramAction","currentSnapshot","undoStack","redoStack","nodeInBuffer","buffer","transition","computeFlowsHash","hashAction","forEach","isString","obj","curr","buff","onReceive","onEnter","link","points","updateCurrentHash","currentHashes","createSnapshot","pick","createdAt","recordHistory","popHistory","stackName","_extends2","oppositeStack","keys","defaultFlow","first","newState","savingFlows","lastModified","_reduceReducers2","_handleActions2","json","nodeLinks","sourcePort","targetNode","remapNode","Math","round","version","flowRandomId","newFlow","generatedFlow","newNode","transitions","_ref12","_extends7","modifiedFlow","_ref13","merge","_ref14","_ref14$payload","flowNameToDuplicate","_ref15","currentNode","needsUpdate","_ref16","flowsToRemove","nodeToRemove","_ref17","_ref17$payload","newNodeId","siblingNames","nameToCopy","copies","_ref18","_ref19","_ref20","modifier","updateCurrentFlow","_ref21","_ref22","_handleActions3","hashes","initialHashes","_handleActions4","categories","currentItems","recentItems","itemsCount","266","canFlowRedo","canFlowUndo","getDirtyFlows","getCurrentFlowNode","getCurrentFlow","currentKeys","initialKeys","union","dirtyFlows","xor","267","execute","_ref$maxQueue","maxQueue","_ref$maxInterval","maxInterval","queue","promises","run","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","reject","intervalId","resourceId","promise","destroy","ContentPickerWidget","showItemEdit","contentToEdit","editItem","contentItem","handleUpdate","_this$props","categorySchema","textContent","Addon","marginRight","Glyphicon","glyph","pickContent","_CreateOrEditModal2","ConnectedContentPicker","ActionSection","showActionModalForm","onSubmitAction","options","optionsToItem","functionName","chunks","substring","waitable","checked","_this3","_props2","renderWait","_action2","onRemoveAction","onMoveAction","_ActionModalForm2","itemToOptions","EditableInput","onChanged","txt","transform","onKeyDown","keyCode","blur","onBlur","defaultValue","onMount","input","inputWidth","max","inputClass","editableInput","ref","width","autoComplete","PortWidget","PortModel","StandardPortWidgetDisconnected","StandardOutgoingPortModel","_classCallCheck","_get","subflow","label","substr","missingConnection","isStartNode","nextNode","portContainer","startPort","subflowPort","endPort","returnPort","portLabel","renderSubflowNode","renderEndNode","renderStartNode","renderReturnNode","StandardPortWidget","StandardIncomingPortModel","NotificationComponent","itemComponent","renderDivider","styles","markAllAsRead","trashAll","selectedIndex","notif","markAsRead","tooltip","Tooltip","checkClassName","preventDefault","stopPropagation","ItemComponent","date","_moment2","fromNow","animated","fadeIn","level","checkButton","renderMarkAsReadButton","iconClass","onMouseOver","onMouseLeave","Row","Col","xs","onNotifClicked","header","renderMessage","markAsReadButton","displayedNotifications","_this4","renderMenuItem","divider","margin","_utilRoles","operationAllowed","_ref2$fallback","panel-center","panel-center-tall","success","loading","logo","body","cloudContainer","cloudButton","631","LoginPage","password","handlePasswordChange","handleUserChange","handleSubmit","login","app","marginTop","_window$BOTPRESS_CLOU","BOTPRESS_CLOUD_SETTINGS","endpoint","botId","env","direct","fontWeight","ControlLabel","hasChangedPassword","reset","hasAnError","tallPanelStyle","panelStyle","blockStyle","logoStyle","headerStyle","errorStyle","successStyle","loginBody","BOTPRESS_CLOUD_ENABLED","renderLoginCloud","renderLoginRoot","textTransform","renderLoading","634","_Modules","InjectionSite","renderNotFound","injectionSite","_module2","logs-panel","logs-panel-footer","panel","panel-checkbox","line","level-silly","level-debug","level-verbose","level-info","level-warn","level-error","637","LoggerView","autoRefresh","logs","limit","hasMore","loadMore","toggleAutoRefresh","refreshInterval","queryLogs","cancelLoading","getArchiveKey","timestamp","format","archiveUrl","secret","renderLine","renderLines","logsPanelClassName","canLoadMore","_ContentWrapper2","_PageHeader2","Panel","Checkbox","inline","item-unread","level-success","topMenu","dropdown","bar-btn","mark-read-btn","640","NotificationHub","ListGroupItem","unreadCount","canTrash","trashTip","readTip","ListGroup","padding","renderMenuItems","ModuleView","homepage","role","_props$match$params","contents","renderLink","stretch","workspace","diagramContainer","diagram","sidePanel","wrapper","644","FlowPropertiesPanel","Tabs","animation","Tab","eventKey","Badge","_ActionSection2","_TransitionSection2","SkillCallNodePropertiesPanel","renameNode","updateNode","_EditableInput2","setSelectionRange","transformText","goToFlow","ConditionModalForm","typeOfTransition","flowToSubflow","flowToNode","transitionError","conditionError","onSubmitClick","validation","earlierNode","isEdit","returnToNode","resetForm","onConditionChanged","subflowOptions","getSubflowOptions","nodeOptions","getNodeOptions","isEmpty","_reactSelect2","val","returnToNodeSection","htmlFor","_this5","Header","closeButton","Title","section","Alert","Radio","defaultChecked","changeTransitionType","endBloc","returnBloc","renderReturnToNode","nodeBloc","renderNodesChoice","subflowBloc","renderSubflowChoice","Footer","tip","bottomSection","649","invalid","table","keyTip","mandatory","650","ParametersTable","transformArguments","valuesArray","fromPairs","Table","regenerateEmptyRowIfNeeded","getTime","deleteDuplicatedEmptyRows","isKeyValid","paramName","paramValue","definition","definitions","required","fake","help","keyClass","evt","category","653","SelectActionDropdown","renderOption","option","highlight","_reactHighlightWords2","searchWords","_inputValue","textToHighlight","metadata","onInputChange","inputValue","optionRenderer","ActionModalForm","actionType","avActions","actionMetadata","functionInputValue","messageValue","functionParams","onChangeType","fetchAvailableFunctions","tooltip2","paramsHelp","_SelectActionDropdown2","paramsDefinition","paramsDef","confirm","param","_reactMarkdown2","_ParametersTable2","parametersTable","sum","noop","renderSectionMessage","renderSectionAction","handler","StandardNodePropertiesPanel","NodePropsModal","renderNodeProperties","flowType","updateNodeAndRefresh","_SkillCallNode2","_StandardNode2","_FlowInformation2","_reducers","ConnectedNodeProps","_values2","NodeProps","loadingContainer","size-normal","size-large","size-small","661","VALID_WINDOW_SIZES","WrappedInjectedModule","moduleProps","SkillsBuilder","resetState","canSubmit","windowSize","renderModuleNotFound","onDataChanged","generateFlow","generated","onCancel","onValidChanged","valid","_reactLoaders2","onWindowResized","size","_includes2","sizes","buildModuleProps","initialData","resizeBuilderWindow","_find2","installedSkills","modalClassName","submitName","dialogClassName","backdrop","ConnectedSkillsBuilder","skills","rename","671","Topbar","promptRenameFlow","prompt","getCurrentFlowName","alert","cleanFlowName","ConnectedTopbar","675","compareNodes","splitFlowPath","getUniqueId","fullPath","flowPath","flowFolders","folders","currentPath","buildFlowsTree","tree","flowData","_splitFlowPath","flowDesc","folderDesc","sortChildren","menuButton","menu","popover","toggle","toggleActive","73","_selectors","bpApp","combineReducers","bot","tokenStr","localStorage","getItem","setItem","removeItem","reason","userId","__BP_VISITOR_ID","_reactTreebeard","theme","_merge2","defaultTheme","base","backgroundColor","height","activeLink","background","MyContainer","defaultDecorators","Container","getDecorators","renderMenu","Toggle","toggled","decorators","treeProps","Treebeard","_lodash","FlowsList","menuButtons","hideOverlay","showDropdownIndex","handleAction","handleDelete","handleDuplicate","bsClass","overlayShown","refId","caret","Overlay","rootClose","toggleTreeNode","toggledNodes","activeNode","setNodeStates","treeData","buildTreeData","_tree2","onToggle","SidePanel","normalFlows","_reject2","_flows2","PageHeader","hasSidebar","noSidebar","ConnectedSidePanel","insertNode","insertMode","802","_stormReactDiagrams","DeletableLinkWidget","addPointToLink","diagramEngine","isModelLocked","getMaxNumberPointsPerLink","point","PointModel","getRelativeMousePoint","setSelected","forceUpdate","addPoint","pointAdded","DefaultLinkWidget","Bottom","selected","isSelected","strokeWidth","stroke","refPaths","Top","strokeLinecap","onMouseEnter","data-linkid","getID","strokeOpacity","onContextMenu","DeletableLinkFactory","LinkFactory","_Ports","SkillCallNodeWidget","isWaiting","waitOnReceive","topPort","waiting","subtitle","outputPortName","footer","defaultProps","SkillCallNodeModel","_ref2$next","_ref2$isStartNode","setData","NodeModel","ports","_ref3$next","inNodeType","in","addPort","isObjectLike","SkillCallNodeWidgetFactory","createFactory","SkillCallWidgetFactory","NodeFactory","action-item","806","node-container","section-next","section-title","skill-call-node","section-onEnter","section-onReceive","807","StandardWidgetFactory","StandardNodeWidgetFactory","StandardNodeModel","StandardNodeWidget","Function","getOwnPropertyDescriptor","_ref2$onEnter","_ref2$onReceive","_ref3$onEnter","_ref3$onReceive","isNil","function","_StandardNode","_SkillCallNode","_LinkWidget","passThroughNodeProps","createNodeModel","onDiagramDoubleClick","onDiagramClick","selectedNode","getSelectedNode","activeModel","getLinks","targetPort","remove","diagramWidget","port","portLinks","last","outPort","parentNode","_this$diagramEngine$g","getRelativePoint","clientX","clientY","zoomFactor","getZoomLevel","getOffsetX","getOffsetY","oldX","oldY","checkForLinksUpdate","serialize","model","serializeDiagram","otherNodeId","otherNode","serializeLinks","ctrlKey","metaKey","copySelectedElementToBuffer","pasteElementFromBuffer","code","deleteSelectedElements","DiagramEngine","registerNodeFactory","registerLinkFactory","setModel","setOffset","fireAction","DiagramModel","setGridSize","linksHash","setLocked","addNode","createNodeLinks","setDiagramModel","diagramWidth","offsetWidth","totalFlowWidth","min","setZoomLevel","setOffsetX","setOffsetY","allNodes","existingLinks","existingLink","LinkModel","setSourcePort","setTargetPort","setPoints","pt","addLink","getNode","getPorts","removeNode","removeLink","snapshot","once","getNodes","deleteNode","syncNode","_this6","_this7","setPosition","getOutPorts","getSelectedItems","addEventListener","removeEventListener","prevProps","syncModel","clearModel","newLinks","newLinksHash","_this8","instance","getLink","reverse","elements","sortBy","getDiagramModel","nodeType","linkType","toast","autoClose","POSITION","TOP_CENTER","hideProgressBar","offsetX","offsetY","_this9","isInserting","tabIndex","outline","DiagramWidget","deleteKeys","ConnectedDiagram","withRef","Diagram","ContentWrapper","unwrap","_stretch","childElement","hasPadding","contentWrapper","contentWrapperPadding","toolbar","unsavedText","btn","811","Toolbar","bp-navbar","borderBottom","current","potential","createTooltip","hasUnsavedChanges","isInsertNodeMode","noSkills","MenuItem","insertSkillsDropdown","DropdownButton","buildSkill","flowsNames","onCreateFlow","BOTPRESS_FLOW_EDITOR_DISABLED","onSaveAllFlows","canUndo","undo","canRedo","redo","onCopy","onPaste","canPasteNode","onDelete","ConnectedToolbar","_PermissionsChecker","initialized","init","nextFlow","hasDirtyFlows","exec","_Topbar2","_Toolbar2","_reactSplitPane2","minSize","defaultSize","_SidePanel2","_Diagram2","getWrappedInstance","_SkillsBuilder2","_NodeProps2","838","845","GhostView","showAbout","showSyncHelp","hideAbout","hideSyncHelp","fetch","revision","createdOn","created_on","mostRecent","timeAgo","moment","utc","_orderBy2","revertFile","datum","renderRevision","collapsible","defaultExpanded","Heading","renderFile","onDismiss","renderFolder","_state2","renderContent","renderBody","847","list","left","right","paging","empty","849","ListView","checkedIds","allChecked","handleAllCheckedChanged","contentItems","handleDeleteSelected","handleCloneSelected","handleClone","handleSearchChanged","debouncedHandleSearch","renderContentItem","minWidth","handleCheckboxChanged","debounce","handleSearch","modified","pull","striped","bordered","condensed","hover","itemsPerPage","handleRefresh","pagingButtons","handlePrevious","handleNext","leftCls","rightCls","renderActionButtons","renderSearchBar","renderPaging","renderPagingButtons","renderHeader","renderTable","sidebar","852","CATEGORY_ALL","SidebarView","renderCategory","_classnames4","selectedId","handleCategorySelected","handleAdd","renderAddButton","renderCategories","ContentView","showModal","handleCloseModal","handleCreateNew","handleUpsert","currentCategoryId","fetchCategoryItems","all","handleFormEdited","handleModalShowForEdit","canRead","canEdit","_state$selectedId","selectedCategory","Grid","_List2","sumBy","rel","documentation","856","dragging","middlewareList","middleware","circle","helpIcon","saveButton","dirty","878","_reactSortable","MiddlewareComponent","_props$middleware","enabled","toggleEnabled","bool","ListItem","SortableListItem","sortable","Middlewares","incoming","outgoing","incomingDragIndex","incomingItems","outgoingDragIndex","outgoingItems","initialStateHash","handleSort","draggingIndex","saveChanges","middlewares","order","setMiddlewares","initialIncomingOrder","initialOutgoingOrder","getStateHash","itemsKey","dragIndexKey","currentlyDragging","innerComponent","updateState","sortId","isDirty","newProp","renderList","renderIsDirty","renderSortable","renderIncoming","renderOutgoing","string","ManageView","handleReadMore","fluid","explication","sm","getDocumentation","getReadMore","md","mdOffset","_Middlewares2","root","username","heroContainer","heroInfo","contribution","raysAnim","rays","contributionContent","885","HeroComponent","queryHero","github","contributions","utterances","renderUsername","sample","heroTooltip","avatar","renderPhrase","informationName","informationDescription","informationAuthor","informationVersion","informationLicense","whereFrom","888","InformationComponent","openLicenseComponent","botInformation","author","891","893","popularModules","featuredModules","hiddenHeroSection","fetchHeroConfig","hidden","smOffset","_Hero2","_Information2","hero","formSteps","INITIAL","PICK_CATEGORY","MAIN","SelectContent","handleChangeActiveItem","activeItemIndex","step","setCurrentCategory","handlePick","onSearchChange","newSearchTerm","searchContentItems","handleCreate","newItemCategory","newItemData","resetCreateContent","resetSearch","stateUpdate","resetCurrentCategory","_props$categoryId","hideCategoryInfo","onSelect","getVisibleCategories","renderCurrentCategoryInfo","getSearchDescription","aria-label","autoFocus","renderCategoryPicker","renderMainBody","SelectContentManager","selects","rootEl","removeChild","_ref2$categoryId","callback","setAttribute","_index2","big","emp","898","ReactEmoji","emojify","emojiType","attributes","STEPS_COUNT","GuidedTour","finished","buttonText","_Emoji2","bodyStyle","renderCurrentStep","renderSkipButton","renderPrevButton","renderNextButton","BOTPRESS_VERSION","903","textArea","904","License","renderLicenseTextArea","renderCancelButton","button","btn1","btn2","btn3","907","HelpButton","shown","toggleShown","basePosition","btnClass","showIcon","negate","community","tutorials","bottom","bottomInformation","innerFooter","unlicensed","production","progressBar","used","warning","urgent","reached","dot","buy","91","SidebarFooter","openAbout","progressClassNames","_classnames5","progress","usedClassNames","usedStyle","statusClassNames","dotClassNames","renderStatusDiv","Link","renderLicense","renderProgressBar","renderLicenseStatus","renderBuyLink","DEV_MODE","sidebarFooterClassNames","sidebarInnerClassNames","nameClassNames","productionClassNames","aboutClassNames","about","renderAllLicenseElements","sidebarReact","customIcon","913","GhostContentStatusChecker","hasPending","CHECK_INTERVAL_SEC","987","SidebarHeader","headerClass","navbar","Navbar","inverse","Brand","alt","BASIC_MENU_ITEMS","GHOST_ENABLED","renderSuffix","_Checker2","Sidebar","sidebarOpen","sidebarDocked","onSetSidebarOpen","open","mediaQueryChanged","mql","renderModuleItem","iconPath","moduleIcon","NavLink","activeClassName","renderBasicItem","matchMedia","addListener","removeListener","moduleItems","noInterface","emptyClassName","sidebarContent","_SidebarHeader2","isOpen","_reactSidebar2","sidebarClassName","docked","shadow","onSetOpen","app-navbar","slack","account","993","invisible","994","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","webpackContextResolve","996","take","unread","hasAnyError","label-danger","label-default","NavDropdown","noCaret","renderEmptyPanel","handleFullscreen","newViewMode","avatar_url","email","fullScreen","Collapse","Nav","pullRight","NavItem","renderFullScreenButton","_Hub2","renderLogoutButton"],"mappings":"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A,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,QAAA,IACAC,WAAA,IACAC,OAAA,IACAC,UAAA,IACAC,QAAA,IACAC,WAAA,IACAC,QAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,WAAA,IACAC,UAAA,IACAC,aAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,aAAA,IACAC,gBAAA,IACAC,OAAA,IACAC,UAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,IACAC,UAAA,IACAC,aAAA,KAIA,SAAAC,EAAAC,GACA,IAAAjyD,EAAAkyD,EAAAD,GACA,OAAAhnE,EAAA+U,GAEA,SAAAkyD,EAAAD,GACA,IAAAjyD,EAAArF,EAAAs3D,GACA,KAAAjyD,EAAA,IACA,IAAAvR,EAAA,IAAAiO,MAAA,uBAAAu1D,EAAA,KAEA,MADAxjE,EAAAq1C,KAAA,mBACAr1C,EAEA,OAAAuR,EAEAgyD,EAAAp5C,KAAA,WACA,OAAA3uB,OAAA2uB,KAAAje,IAEAq3D,EAAAhnD,QAAAknD,EACA5mE,EAAAD,QAAA2mE,EACAA,EAAAhyD,GAAA,KAAAmyD,IAAA,SAAA1jE,EAAApC,EAAAO,GAAA,aAAA3C,OAAA6B,eAAAO,EAAA,cAAAD,OAAA,QAAAP,EAAA,oBAAA4C,IAAApC,GAAA,QAAAO,EAAA,EAAAA,EAAAP,EAAAvC,OAAA8C,IAAA,KAAAf,EAAAQ,EAAAO,GAAAf,EAAAE,WAAAF,EAAAE,aAAA,EAAAF,EAAA8C,cAAA,YAAA9C,MAAA+C,UAAA,GAAA3E,OAAA6B,eAAA2C,EAAA5C,EAAAa,IAAAb,IAAA,gBAAAQ,EAAAO,EAAAf,GAAA,OAAAe,GAAA6B,EAAApC,EAAAnC,UAAA0C,GAAAf,GAAA4C,EAAApC,EAAAR,GAAAQ,GAAA,GAAAJ,EAAAP,EC5QAT,EAAA,IACAsC,EAAAtC,EAAA,IACA0S,EAAA1S,EAAA,IAAArB,EAAA8B,EACAT,EAAA,KAAAC,EAAAQ,EACAT,EAAA,IAAA0H,EAAAjH,EAEAT,EAAA,MAAAQ,EAAAC,EACAT,EAAA,eAAAS,EAAA+C,GAAA,OAAAA,KAAAlC,WAAAkC,GAAA5B,QAAA4B,GAEA,IAEMw8B,cACJ,SAAAA,EAAY97B,EAAO8E,GAAS,gBAAAxF,EAAApC,GAAA,KAAAoC,aAAApC,GAAA,UAAAwI,UAAA,sCAAA5F,KAAAg8B,qKAAAh8B,MAAAg8B,EAAAv3B,WAAAzJ,OAAA0J,eAAAs3B,IAAA7gC,KAAA6E,KACpBE,EAAO8E,GACX8uB,cAAegnB,WACf/mB,iBACAC,OAAQA,gVALgBH,oDASdhkB,GACZ,OAAO/O,EAAAlD,QAAAmD,cAAA,OAAKC,aAAW8f,EAAAljB,SAAWo2B,UAAOnkB,QAAS,mBAAoBA,8CAItE,OACE/O,EAAAlD,QAAAmD,cAAC2N,EAAAosC,UAASnlB,UAAO30B,UAAWgzB,UAAOgrB,OACjCl+C,EAAAlD,QAAAmD,cAAA,8CAAAtD,IAAA,SAAAN,MAAA,WAMJ,IAAM2M,EAAgB9J,KAAKE,MAAM4J,kBAC3Bw1B,EAAmC,IAAzBx1B,EAAcjP,OACxBi7B,EAAyBp3B,UAAEykE,KAAKr5D,EA1BH,GA2B7Bs5D,EAAS1kE,UAAEuR,OAAOnG,GAAiBmD,UACnCivB,EAAcknC,EAAOvoE,OAErBwoE,EAAc3kE,UAAEooB,KAAKs8C,EAAQ,SAAAhvC,GACjC,MAAuB,UAAhBA,EAAMa,QAGTj0B,KAAY8f,EAAAljB,SAAW,SAC3B0lE,eAAgBD,EAChBE,iBAAkBF,EAClB9P,UAA2B,IAAhBr3B,IAGPtJ,EACJ9xB,EAAAlD,QAAAmD,cAAA,YACED,EAAAlD,QAAAmD,cAAA,MAAIC,UAAU,6BACdF,EAAAlD,QAAAmD,cAAA,QAAMC,UAAWA,GAAYk7B,IAIjC,OACEp7B,EAAAlD,QAAAmD,cAAC2N,EAAA80D,aACCzyD,GAAG,wBACH0yD,SAAUvnC,EACVvyB,MAAOipB,EACP5xB,aAAW8f,EAAAljB,SAAWo2B,UAAO4H,SAAU,8BAEvC96B,EAAAlD,QAAAmD,cAAC2N,EAAAosC,UAASnlB,UAAO30B,aAAW8f,EAAAljB,SAAWo2B,UAAO2H,QAAS,gBACrD76B,EAAAlD,QAAAmD,cAAA,YACED,EAAAlD,QAAAmD,cAAA,+BADF,kBAEmC+I,EAAcjP,QAEjDiG,EAAAlD,QAAAmD,cAAA,OAAKC,UAAU,cACbF,EAAAlD,QAAAmD,cAAA,KAAG8gB,KAAK,IAAI5Q,QAASjR,KAAKi0B,eAA1B,oBADF,QAKEnzB,EAAAlD,QAAAmD,cAAA,KAAG8gB,KAAK,kBAAR,cAGHyd,GAAWt/B,KAAK0jE,mBAChB1jE,KAAKw8B,gBAAgB1G,UAlExBkG,GAkEwBlG,aAQfx3B,EAAA6E,SAFS,SAAAC,GAAA,OAAY0G,cAAe1G,EAAM0G,gBAN3BgsB,CAQUkG,mVCrFxChgC,EAAA,IACAqC,EAAArC,EAAA,IACAsC,EAAAtC,EAAA,IAEA0S,EAAA1S,EAAA,IAAAC,EAAAyC,EACA1C,EAAA,IAAA0H,EAAAhF,EAEA1C,EAAA,MAEA2H,EAAA3H,EAAA,IAAAS,EAAAiC,EACA1C,EAAA,MACAsD,EAAAtD,EAAA,IAAA+B,EAAAW,EACA1C,EAAA,cAAA0C,EAAAc,GAAA,OAAAA,KAAAlC,WAAAkC,GAAA5B,QAAA4B,GAAA,SAAAjD,EAAAiD,EAAApC,GAAA,IAAAoC,EAAA,UAAAoE,eAAA,oEAAAxG,GAAA,iBAAAA,GAAA,mBAAAA,EAAAoC,EAAApC,EAAA,IAEMwiC,6SACJx8B,OACEqzB,YAAS75B,EAGX+mE,iBAAmB,WACjB,IAAMC,EAAc1/D,EAAKhE,MAAMD,SAAW,EAAI,EAAI,EAClDiE,EAAKhE,MAAMI,gBAAgBsjE,8UAPV/jE,UAAMC,2DAWvB,IAAK7B,OAAOqI,aACV,OAAO,KAGT,IAAMuI,EAAM7O,KAAKE,MAAMqQ,KAAKszD,WACtBjxC,EAAQ/jB,EAAM/N,EAAAlD,QAAAmD,cAAA,OAAK0S,IAAK5E,IAAU/N,EAAAlD,QAAAmD,cAAA,KAAGC,UAAU,kBAAb,kBAExC,OACEF,EAAAlD,QAAAmD,cAAC2N,EAAA80D,aAAYxiE,UAAWJ,UAAMyyD,QAASoQ,WAAQ95D,MAAOipB,EAAO7hB,GAAG,kBAC9DjQ,EAAAlD,QAAAmD,cAAC2N,EAAAosC,UAASnlB,WAAV,gBACA70B,EAAAlD,QAAAmD,cAAC2N,EAAAosC,UAAShqC,aAAV,MAA4B9Q,KAAKE,MAAMqQ,KAAKuzD,OAC5ChjE,EAAAlD,QAAAmD,cAAC2N,EAAAosC,UAAShqC,aAAV,MAA4B9Q,KAAKE,MAAMqQ,KAAKu2C,UAC5ChmD,EAAAlD,QAAAmD,cAAC2N,EAAAosC,UAAS7kB,aACVn1B,EAAAlD,QAAAmD,cAAC2N,EAAAosC,UAASpd,SAAU,EAAGzsB,QAASvJ,UAC9B5G,EAAAlD,QAAAmD,cAAA,wBAAAtD,IAAA,yBAAAN,MAAA,WAON,OACE2D,EAAAlD,QAAAmD,cAAA,QAAMC,aAAW8f,EAAAljB,SAAWgD,UAAMmjE,WAAY,mBAC5CjjE,EAAAlD,QAAAmD,cAAC2N,EAAAkhB,WAAUC,MAAM,mBAAApyB,IAAA,SAAAN,MAAA,WAMrB,GAAI6C,KAAKE,MAAMD,UAAY,EACzB,OAAO,KAGT,IAAMQ,KAAaqgB,EAAAljB,SAAWgD,UAAMmwD,OAAQnwD,UAAM,cAAe,aAC3D4mB,EAAcxnB,KAAKE,MAAMsnB,YAAY,aAE3C,OACE1mB,EAAAlD,QAAAmD,cAAC2N,EAAAsiD,QAAOhwD,UAAWP,EAAYG,MAAO4mB,GACpC1mB,EAAAlD,QAAAmD,cAAC2N,EAAAsiD,OAAOgT,SAAR,KACEljE,EAAAlD,QAAAmD,cAAC2N,EAAAu1D,KAAIC,cACHpjE,EAAAlD,QAAAmD,cAAC2N,EAAAy1D,SAAQlzD,QAASjR,KAAK2jE,kBAAmB3jE,KAAKokE,0BAC/CtjE,EAAAlD,QAAAmD,cAACuP,EAAA1S,SAAmB2S,KAAMvQ,KAAKE,MAAMqQ,KAAM5E,IAAI,WAAWyC,GAAG,QAC3DtN,EAAAlD,QAAAmD,cAAC2N,EAAAy1D,SAAQtiD,KAAK,SACZ/gB,EAAAlD,QAAAmD,cAAC2N,EAAAkhB,WAAUC,MAAM,eAGrB/uB,EAAAlD,QAAAmD,cAACuP,EAAA1S,SAAmB2S,KAAMvQ,KAAKE,MAAMqQ,KAAM5E,IAAI,oBAAoByC,GAAG,QACpEtN,EAAAlD,QAAAmD,cAACsjE,EAAAzmE,QAAD,OAEDoC,KAAKskE,sBAERxjE,EAAAlD,QAAAmD,cAAC2N,EAAAu1D,KAAIC,aAAUljE,UAAU,mCAAA5D,EA9D7BwiC,GA8D6BxiC,EAAAQ,SAAA,EAepBU,EAAA6E,SARS,SAAAC,GAAA,OACtBmN,KAAMnN,EAAMmN,KACZtQ,SAAUmD,EAAME,GAAGrD,SACnBunB,YAAapkB,EAAME,GAAGkkB,cAGG,SAAAjkB,GAAA,SAAYlF,EAAAmF,qBAAqBlD,mCAAmBiD,IAb5C,CAeyBq8B","file":"web.729e9680ac37ff307159.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t2: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/js/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1450,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import React from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n\nimport classnames from 'classnames'\nimport { ToastContainer } from 'react-toastify'\nimport { Route, Switch, Redirect } from 'react-router-dom'\n\nimport Header from './Header'\nimport Sidebar from './Sidebar'\nimport SidebarFooter from './SidebarFooter'\nimport HelpButton from './HelpButton'\n\nimport LicenseComponent from '~/components/License'\nimport AboutComponent from '~/components/About'\nimport GuidedTour from '~/components/Tour'\nimport SelectContentManager from '~/components/Content/Select/Manager'\nimport Dashboard from '~/views/Dashboard'\nimport Middleware from '~/views/Middleware'\nimport Content from '~/views/Content'\nimport GhostContent from '~/views/GhostContent'\nimport FlowBuilder from '~/views/FlowBuilder'\nimport Module from '~/views/Module'\nimport Notifications from '~/views/Notifications'\nimport Logs from '~/views/Logs'\n\nimport PluginInjectionSite from '~/components/PluginInjectionSite'\n\nimport { toggleLicenseModal, viewModeChanged } from '~/actions'\n\nimport style from './style.scss'\n\nclass Layout extends React.Component {\n  componentDidMount() {\n    const viewMode = this.props.location.query && this.props.location.query.viewMode\n\n    setImmediate(() => {\n      this.props.viewModeChanged(viewMode || 0)\n    })\n  }\n\n  render() {\n    if (this.props.viewMode < 0) {\n      return null\n    }\n\n    const hasHeader = this.props.viewMode <= 2\n    const classNames = classnames({\n      [style.container]: hasHeader,\n      'bp-container': hasHeader\n    })\n\n    return (\n      <div className=\"wrapper bp-wrapper\">\n        <ToastContainer />\n        <Sidebar>\n          <Header />\n          <section className={classNames}>\n            <Switch>\n              <Route exact path=\"/\" render={() => <Redirect to=\"/dashboard\" />} />\n              <Route exact path=\"/dashboard\" component={Dashboard} />\n              <Route exact path=\"/middleware\" component={Middleware} />\n              <Route exact path=\"/content\" component={Content} />\n              <Route exact path=\"/version-control\" component={GhostContent} />\n              <Route exact path=\"/flows/:flow*\" component={FlowBuilder} />\n              <Route exact path=\"/modules/:moduleName/:subView?\" component={Module} />\n              <Route exact path=\"/notifications\" component={Notifications} />\n              <Route exact path=\"/logs\" component={Logs} />\n            </Switch>\n          </section>\n        </Sidebar>\n        <SidebarFooter />\n        <GuidedTour opened={window.SHOW_GUIDED_TOUR} />\n        <LicenseComponent\n          opened={this.props.licenseModalOpened}\n          license={{ text: this.props.license.text, name: this.props.license.name }}\n          toggleLicenseModal={this.props.toggleLicenseModal}\n        />\n        <AboutComponent opened={this.props.aboutModalOpened} />\n        <PluginInjectionSite site=\"overlay\" />\n        <HelpButton />\n        <SelectContentManager />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  license: state.license,\n  licenseModalOpened: state.ui.licenseModalOpened,\n  aboutModalOpened: state.ui.aboutModalOpened,\n  viewMode: state.ui.viewMode\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ toggleLicenseModal, viewModeChanged }, dispatch)\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Layout)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withRouter } from 'react-router-dom'\nimport qs from 'query-string'\n\nimport axios from 'axios'\nimport _ from 'lodash'\n\nimport { getToken, logout, authEvents, setToken } from '~/util/Auth'\n\nconst CHECK_AUTH_INTERVAL = 60 * 1000\n\nconst validateToken = () => {\n  const token = getToken()\n  const elapsed = new Date() - new Date(token.time)\n  const tokenStillValid = !!token && elapsed < window.AUTH_TOKEN_DURATION\n  if (!tokenStillValid) {\n    logout()\n  }\n  return tokenStillValid\n}\n\nconst ensureAuthenticated = WrappedComponent => {\n  class AuthenticationWrapper extends React.Component {\n    static contextTypes = {\n      router: PropTypes.object\n    }\n\n    state = {\n      authorized: false\n    }\n\n    componentDidMount() {\n      authEvents.on('logout', this.promptLogin)\n      this.setupAuth()\n    }\n\n    componentWillUnmount() {\n      authEvents.off('logout', this.promptLogin)\n      clearInterval(this.checkInterval)\n    }\n\n    promptLogin = () => {\n      const urlToken = _.get(this.props, 'location.query.token')\n\n      if (location.pathname !== '/login' && !urlToken) {\n        this.context.router.history.push('/login?returnTo=' + location.pathname)\n      }\n      window.botpressWebChat && window.botpressWebChat.sendEvent({ type: 'hide' })\n    }\n\n    setupAuth() {\n      if (!window.AUTH_ENABLED && !this.state.authorized) {\n        this.setState({ authorized: true })\n        return\n      }\n\n      const urlToken = _.get(this.props, 'location.query.token')\n      const params = JSON.parse(_.get(this.props, 'location.query.params') || '{}')\n\n      if (urlToken) {\n        setToken(urlToken)\n        const newQuery = _.omit(this.props.location.query, ['token', 'botId', 'env', 'params'])\n        this.context.router.history.replace(\n          Object.assign({}, this.props.location, {\n            search: qs.stringify(newQuery),\n            query: newQuery,\n            pathname: params.returnTo || this.props.location.pathname\n          })\n        )\n      }\n\n      const tokenStillValid = validateToken()\n      this.setState({ authorized: tokenStillValid })\n\n      if (tokenStillValid) {\n        this.checkAuth()\n        this.checkInterval = setInterval(this.checkAuth, CHECK_AUTH_INTERVAL)\n      } else {\n        this.promptLogin()\n      }\n    }\n\n    checkAuth = () => {\n      axios.get('/api/ping').catch(err => {\n        if (err.response.status === 401) {\n          this.promptLogin()\n        }\n      })\n    }\n\n    render() {\n      return this.state.authorized === true ? <WrappedComponent {...this.props} /> : null\n    }\n  }\n\n  return withRouter(AuthenticationWrapper)\n}\n\nexport default ensureAuthenticated\n","import React from 'react'\nimport { Router, Route, Link, Switch } from 'react-router-dom'\nimport createBrowserHistory from 'history/createBrowserHistory'\nimport queryString from 'query-string'\nimport ReactGA from 'react-ga'\n\nimport EnsureAuthenticated from '~/components/Authentication'\nimport Layout from '~/components/Layout'\nimport Login from '~/views/Login'\n\n// react-router doesn't do query parsing anymore since V4\n// https://github.com/ReactTraining/react-router/issues/4410\nconst addLocationQuery = history => {\n  history.location = Object.assign(history.location, {\n    query: queryString.parse(history.location.search)\n  })\n}\n\nconst history = createBrowserHistory()\naddLocationQuery(history)\nhistory.listen(() => addLocationQuery(history))\n\nconst logPageView = () => {\n  ReactGA.set({ page: window.location.pathname })\n  ReactGA.pageview(window.location.pathname)\n}\n\nexport default () => {\n  if (!window.OPT_OUT_STATS) {\n    ReactGA.initialize('UA-90044826-1')\n  }\n  const AuthenticatedLayout = EnsureAuthenticated(Layout)\n\n  return (\n    <Router history={history} onUpdate={logPageView}>\n      <Switch>\n        <Route exact path=\"/login\" key=\"login-route\" component={Login} />\n        <AuthenticatedLayout />\n      </Switch>\n    </Router>\n  )\n}\n","import { Component } from 'react'\n\nimport { connect } from 'react-redux'\n\nimport { authEvents } from '~/util/Auth'\nimport EventBus from '~/util/EventBus'\nimport routes from '../Routes'\n\nimport {\n  fetchLicense,\n  fetchUser,\n  fetchBotInformation,\n  fetchModules,\n  fetchNotifications,\n  replaceNotifications,\n  addNotifications\n} from '~/actions'\n\nclass App extends Component {\n  componentWillMount() {\n    if (window.APP_NAME) {\n      window.document.title = window.APP_NAME\n    }\n\n    EventBus.default.setup()\n  }\n\n  fetchData = () => {\n    this.props.fetchModules()\n    this.props.fetchNotifications()\n    this.props.fetchBotInformation()\n    this.props.fetchLicense()\n\n    this.props.fetchUser(window.AUTH_ENABLED)\n  }\n\n  componentDidMount() {\n    // This acts as the app lifecycle management.\n    // If this grows too much, move to a dedicated lifecycle manager.\n    this.fetchData()\n\n    authEvents.on('login', this.fetchData)\n    authEvents.on('new_token', this.fetchData)\n\n    EventBus.default.on('notifications.all', notifications => {\n      this.props.replaceNotifications(notifications)\n    })\n\n    EventBus.default.on('notifications.new', notification => {\n      this.props.addNotifications([notification])\n    })\n  }\n\n  render() {\n    return routes()\n  }\n}\n\nconst mapDispatchToProps = {\n  fetchLicense,\n  fetchUser,\n  fetchBotInformation,\n  fetchModules,\n  fetchNotifications,\n  replaceNotifications,\n  addNotifications\n}\n\nexport default connect(null, mapDispatchToProps)(App)\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".component-mount .btn {\\n  font-size: 14px;\\n  opacity: 0.75;\\n  text-align: center;\\n  padding-left: 20px;\\n  padding-right: 20px;\\n  transition: opacity 0.15s ease-in-out, background-color 0.15s ease-in-out; }\\n  .component-mount .btn:hover {\\n    opacity: 1; }\\n\\n.component-mount .btn-success {\\n  color: #ffffff;\\n  background-color: #46cba0;\\n  border-color: #46cba0; }\\n  .component-mount .btn-success:hover {\\n    background-color: #40bd94;\\n    border-color: #40bd94;\\n    color: #ffffff; }\\n\\n.component-mount .btn-danger {\\n  background-color: #af4f4b;\\n  border-color: #af4f4b; }\\n  .component-mount .btn-danger:hover {\\n    background-color: #b13434;\\n    border-color: #b13434; }\\n\\n.component-mount .btn-default {\\n  background-color: #b1b1b1;\\n  border-color: #b1b1b1; }\\n  .component-mount .btn-default:hover {\\n    background-color: #a5a5a5;\\n    border-color: #a5a5a5; }\\n\\n.component-mount .control-label {\\n  color: #434343; }\\n\\n.component-mount .react-tagsinput {\\n  background-color: #fff;\\n  border-radius: 5px;\\n  border: 1px solid #efefef;\\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s; }\\n\\n.component-mount .react-tagsinput--focused {\\n  border-color: #56c0b2;\\n  outline: 0;\\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(86, 192, 178, 0.6); }\\n\\n.component-mount .react-tagsinput-tag {\\n  background-color: #efefef;\\n  border-radius: 5px;\\n  border: 1px solid #efefef;\\n  color: #6d6d6d; }\\n\\n.component-mount .react-tagsinput-input {\\n  width: 200px; }\\n\\n.component-mount .form-control {\\n  box-shadow: none;\\n  border-color: #efefef; }\\n  .component-mount .form-control:focus {\\n    border-color: #56c0b2;\\n    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(86, 192, 178, 0.6); }\\n\\n.component-mount .input-group-addon {\\n  border-color: #efefef; }\\n\\n.component-mount .react-toggle--checked .react-toggle-thumb {\\n  border-color: #56c0b2; }\\n\\n.component-mount .react-toggle--checked .react-toggle-track {\\n  background-color: #56c0b2 !important; }\\n\\na {\\n  transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, color 0.15s ease-in-out; }\\n\\nhtml {\\n  height: 100%; }\\n\\nbody {\\n  height: 100%;\\n  font-family: 'Lato', sans-serif !important;\\n  font-weight: 400;\\n  background-color: #eee;\\n  color: #434343; }\\n\\nh1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6,\\n.theme__h1___22DqW,\\n.theme__h2___1ik0N,\\n.theme__h3___16bn9,\\n.theme__h4___1iBCF,\\n.theme__h5___1jrRg,\\n.theme__h6___m3vda {\\n  font-weight: 300; }\\n\\nb {\\n  font-weight: 500; }\\n\\n.panel {\\n  border: none;\\n  border-radius: 3px;\\n  box-shadow: none;\\n  background-color: #fff; }\\n  .panel .panel-heading {\\n    padding: 15px 20px;\\n    border-color: #f7f7f7;\\n    background-color: #fff;\\n    text-transform: uppercase;\\n    font-size: 12px;\\n    font-weight: 350; }\\n\\n.form-control:focus {\\n  border-color: #56c0b2;\\n  outline: 0;\\n  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(86, 192, 178, 0.6); }\\n\\n.bp-primary-color-text {\\n  color: #58d1b0; }\\n\\n.bp-primary-color-bg {\\n  color: #ffffff;\\n  background-color: #58d1b0; }\\n\\n.bp-button {\\n  color: #ffffff;\\n  background-color: #46cba0;\\n  min-width: 80px;\\n  display: inline-block;\\n  font-size: 15px;\\n  font-variant: normal;\\n  line-height: 1.5;\\n  text-align: center;\\n  white-space: nowrap;\\n  margin: 1px 1px;\\n  padding-top: 4px;\\n  padding-bottom: 4px;\\n  padding-left: 20px;\\n  padding-right: 20px;\\n  border: 1px solid transparent;\\n  border-radius: 4px;\\n  outline: 0;\\n  transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, color 0.15s ease-in-out; }\\n  .bp-button:hover, .bp-button:focus, .bp-button:active {\\n    color: #ffffff;\\n    background-color: #40bd94;\\n    outline: 0;\\n    box-shadow: none;\\n    border: 1px solid transparent; }\\n\\n.bp-button-default {\\n  background-color: #b1b1b1; }\\n  .bp-button-default:hover, .bp-button-default:focus {\\n    background-color: #a5a5a5; }\\n\\n.bp-button-danger {\\n  background-color: #af4f4b; }\\n  .bp-button-danger:hover, .bp-button-danger:focus {\\n    background-color: #b13434; }\\n\\n.react-autosuggest__container {\\n  position: relative; }\\n\\n.react-autosuggest__input {\\n  width: 240px;\\n  height: 30px;\\n  padding: 10px 20px;\\n  font-family: Helvetica, sans-serif;\\n  font-weight: 300;\\n  font-size: 16px;\\n  border: 1px solid #aaa;\\n  border-radius: 4px; }\\n\\n.react-autosuggest__input--focused {\\n  outline: none; }\\n\\n.react-autosuggest__input--open {\\n  border-bottom-left-radius: 0;\\n  border-bottom-right-radius: 0; }\\n\\n.react-autosuggest__suggestions-container {\\n  display: none; }\\n\\n.react-autosuggest__suggestions-container--open {\\n  display: block;\\n  position: absolute;\\n  top: 51px;\\n  width: 280px;\\n  border: 1px solid #aaa;\\n  background-color: #fff;\\n  font-family: Helvetica, sans-serif;\\n  font-weight: 300;\\n  font-size: 16px;\\n  border-bottom-left-radius: 4px;\\n  border-bottom-right-radius: 4px;\\n  z-index: 2; }\\n\\n.react-autosuggest__suggestions-list {\\n  margin: 0;\\n  padding: 0;\\n  list-style-type: none; }\\n\\n.react-autosuggest__suggestion {\\n  cursor: pointer;\\n  padding: 10px 20px; }\\n\\n.react-autosuggest__suggestion--highlighted {\\n  background-color: #ddd; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"h1\": \"theme__h1___22DqW\",\n\t\"h2\": \"theme__h2___1ik0N\",\n\t\"h3\": \"theme__h3___16bn9\",\n\t\"h4\": \"theme__h4___1iBCF\",\n\t\"h5\": \"theme__h5___1jrRg\",\n\t\"h6\": \"theme__h6___m3vda\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js??ref--5-1!../../node_modules/postcss-loader/lib/index.js!../../node_modules/sass-loader/lib/loader.js!./theme.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js??ref--5-1!../../node_modules/postcss-loader/lib/index.js!../../node_modules/sass-loader/lib/loader.js!./theme.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js??ref--5-1!../../node_modules/postcss-loader/lib/index.js!../../node_modules/sass-loader/lib/loader.js!./theme.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__createItem___17KQ- {\\n  border-left: 3px solid #58d1b0; }\\n\\n.style__editButton___2eI1Q {\\n  border-radius: 0;\\n  margin-left: -1px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"createItem\": \"style__createItem___17KQ-\",\n\t\"editButton\": \"style__editButton___2eI1Q\"\n};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__modal___2cM9s .btn-info {\\n  background-color: #46cba0;\\n  border-color: #46cba0; }\\n  .style__modal___2cM9s .btn-info:hover {\\n    background-color: #40bd94;\\n    border-color: #40bd94; }\\n\\n.style__cancel___151HQ {\\n  position: absolute;\\n  left: 90px;\\n  bottom: 24px;\\n  height: 34px;\\n  padding-right: 12px;\\n  padding-left: 12px;\\n  min-width: 70px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"modal\": \"style__modal___2cM9s\",\n\t\"cancel\": \"style__cancel___151HQ\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar r = 'r';\nvar w = 'w';\n\nvar _enrichResources = function _enrichResources(resources, parent) {\n  if (!resources) {\n    return resources;\n  }\n\n  return resources.map(function (res) {\n    var fullName = parent != null ? parent + '.' + res.name : res.name;\n    return _extends({}, res, {\n      displayName: res.name,\n      name: fullName,\n      children: _enrichResources(res.children, fullName)\n    });\n  });\n};\n\nvar enrichResources = exports.enrichResources = function enrichResources(resources) {\n  return _enrichResources(resources);\n};\n\nvar _RESOURCES = [{\n  name: '*',\n  description: 'All resources, at once. Use with caution',\n  operations: [r, w]\n}, {\n  name: 'bot',\n  description: 'Bot properties, such as content, flows etc.',\n  children: [{\n    name: '*',\n    description: 'All bot properties',\n    operations: [r, w]\n  }, {\n    name: 'notifications',\n    description: 'Bot notifications, such as runtime errors',\n    operations: [r]\n  }, {\n    name: 'modules.*',\n    description: 'Bot extensions, such as NLU or HITL',\n    operations: [r]\n  }, {\n    name: 'middleware.*',\n    description: 'All middleware operations',\n    operations: [r, w]\n  }, {\n    name: 'middleware.list',\n    description: 'Get the list of the installed middlewares',\n    operations: [r]\n  }, {\n    name: 'middleware.customizations',\n    description: 'Change the order of the middlewares and their enabled/disabled state',\n    operations: [w]\n  }, {\n    name: 'modules.list',\n    description: 'The list of the installed modules',\n    operations: [r]\n  }, {\n    name: 'modules.list.community',\n    description: 'The list of the publicly available modules',\n    operations: [r]\n  }, {\n    name: 'information',\n    description: 'General bot details',\n    operations: [r]\n  }, {\n    name: 'information.license',\n    description: 'Bot license',\n    operations: [w]\n  }, {\n    name: 'logs',\n    description: 'Bot logs',\n    operations: [r]\n  }, {\n    name: 'logs.archive',\n    description: 'Bot archived logs',\n    operations: [r]\n  }, {\n    name: 'content',\n    description: 'Bot content items',\n    operations: [r, w]\n  }, {\n    name: 'ghost_content',\n    description: 'The majority of bot content, such as content and flows, is ghost-managed, i.e. synced from the server to the bot source code',\n    operations: [r, w]\n  }, {\n    name: 'media',\n    description: 'Bot file uploads',\n    operations: [w]\n  }, {\n    name: 'flows',\n    description: 'Bot flows, i.e. its logic described as flow diagram',\n    operations: [r, w]\n  }, {\n    name: 'skills',\n    description: 'Bot flow skill nodes',\n    operations: [w]\n  }]\n}].sort(function (a, b) {\n  return a.name.localeCompare(b.name);\n});\n\nvar RESOURCES = exports.RESOURCES = enrichResources(_RESOURCES);\n//# sourceMappingURL=resources.js.map","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _resources = require('./resources');\n\nObject.defineProperty(exports, 'RESOURCES', {\n  enumerable: true,\n  get: function get() {\n    return _resources.RESOURCES;\n  }\n});\nObject.defineProperty(exports, 'enrichResources', {\n  enumerable: true,\n  get: function get() {\n    return _resources.enrichResources;\n  }\n});\nvar ressourceMatches = exports.ressourceMatches = function ressourceMatches(pattern, res) {\n  var separator = /[\\/\\.]/;\n  pattern = pattern || '';\n\n  if (!~pattern.indexOf('*')) {\n    pattern = pattern += '.*';\n  }\n\n  var parts = pattern.split(separator);\n  var testParts = res.split(separator);\n\n  var matches = true;\n  for (var ii = 0; matches && ii < parts.length; ii++) {\n    if (parts[ii] === '*') {\n      continue;\n    } else if (ii < testParts.length) {\n      matches = parts[ii].toLowerCase() === testParts[ii].toLowerCase();\n    } else {\n      matches = false;\n    }\n  }\n\n  return matches;\n};\n\nvar OPERATION_ALIASES = {\n  read: 'r',\n  write: 'w'\n};\n\nvar KNOWN_OPERATIONS = ['r', 'w'];\n\nvar checkRule = exports.checkRule = function checkRule(rules, operation, ressource) {\n  if (!rules) {\n    return false;\n  }\n\n  operation = operation.toLowerCase();\n  operation = OPERATION_ALIASES[operation] || operation;\n\n  if (!KNOWN_OPERATIONS.includes(operation)) {\n    throw new Error('Invalid rule operation: ' + operation);\n  }\n\n  var permission = false; // Everything is restricted by default\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = rules[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var rule = _step.value;\n      var op = rule.op;\n\n      if (!op || op.length < 2 || op.length > 4) {\n        throw new Error('Invalid rule operation: ' + op);\n      }\n\n      if (!ressourceMatches(rule.res, ressource)) {\n        continue;\n      }\n\n      if (op.length === 4) {\n        // `+r-w` form\n        if (op[1] === operation) {\n          permission = op[0] === '+';\n        } else if (op[3] === operation) {\n          permission = op[2] === '+';\n        } else {\n          permission = false;\n        }\n      } else if (op.length === 3) {\n        // `+rw` form\n        permission = op[0] === '+';\n      } else if (op.length === 2) {\n        // `+r` form\n        if (op[1] === operation) {\n          permission = op[0] === '+';\n        }\n      } // else leave the permission untouched\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return permission;\n};\n\nvar checkMultipleRoles = exports.checkMultipleRoles = function checkMultipleRoles(roles, operation, ressource) {\n  if (!roles) {\n    return false;\n  }\n\n  for (var roleName in roles) {\n    if (checkRule(roles[roleName], operation, ressource)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n//# sourceMappingURL=index.js.map","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\n\nimport { Button, FormGroup, InputGroup, FormControl, HelpBlock } from 'react-bootstrap'\nimport PermissionsChecker from '~/components/Layout/PermissionsChecker'\nimport Loading from '~/components/Util/Loading'\nimport axios from 'axios'\n\nclass UploadWidget extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      expanded: !props.value,\n      error: null,\n      uploading: false\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (!newProps.value && !this.state.expanded) {\n      this.setState({ expanded: true })\n    }\n  }\n\n  handleChange = url => {\n    this.props.onChange(url)\n  }\n\n  expand = () => {\n    this.setState({ expanded: true })\n  }\n\n  collapse = () => {\n    this.setState({ expanded: false })\n  }\n\n  startUpload = event => {\n    const data = new FormData()\n    data.append('file', event.target.files[0])\n\n    this.setState({ error: null, uploading: true }, () => {\n      axios\n        .post('/api/media', data, { headers: { 'Content-Type': 'multipart/form-data' } })\n        .then(response => {\n          this.setState({ expanded: false })\n          const { url } = response.data\n          this.handleChange(url)\n        })\n        .catch(e => {\n          this.setState({ error: e.message })\n        })\n        .then(() => {\n          this.setState({ uploading: false })\n        })\n    })\n  }\n\n  render() {\n    const { $filter: filter, $subtype: subtype, type } = this.props.schema\n    if (type !== 'string' || subtype !== 'media') {\n      return null\n    }\n\n    const { expanded, uploading, error } = this.state\n\n    return (\n      <PermissionsChecker\n        user={this.props.user}\n        op=\"write\"\n        res=\"bot.media\"\n        fallback={<em>Youd don&apos;t have permission to upload files for this bot. Talk to your team owner.</em>}\n      >\n        <FormGroup>\n          {!expanded ? (\n            <InputGroup>\n              <FormControl\n                type=\"text\"\n                placeholder=\"No file picked yet\"\n                value={this.props.value || ''}\n                disabled\n                className=\"form-control\"\n                id={this.props.id}\n              />\n\n              <InputGroup.Button>\n                <Button onClick={this.expand}>{this.props.value ? 'Change...' : 'Pick...'}</Button>\n              </InputGroup.Button>\n            </InputGroup>\n          ) : (\n            <HelpBlock>No file picked yet.</HelpBlock>\n          )}\n        </FormGroup>\n        {expanded &&\n          !uploading && (\n            <FormGroup>\n              <InputGroup>\n                <FormControl\n                  type=\"file\"\n                  accept={filter || '*'}\n                  placeholder={this.props.placeholder || 'Pick file to upload'}\n                  onChange={this.startUpload}\n                />\n                <InputGroup.Button>\n                  <Button bsStyle=\"link\" onClick={this.collapse}>\n                    Cancel\n                  </Button>\n                </InputGroup.Button>\n              </InputGroup>\n            </FormGroup>\n          )}\n        {expanded &&\n          error && (\n            <FormGroup validationState=\"error\">\n              <HelpBlock>{error}</HelpBlock>\n            </FormGroup>\n          )}\n        {expanded && uploading && <Loading />}\n      </PermissionsChecker>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n})\n\nexport default connect(mapStateToProps)(UploadWidget)\n","import React, { Component } from 'react'\n\nimport ContentPickerWidget from '~/components/Content/Select/Widget'\n\nconst decorateRef = id => `##ref(${id})`\n\nconst undecorateRef = decoratedId => {\n  if (decoratedId == null) {\n    return decoratedId\n  }\n  const m = decoratedId && decoratedId.match(/^##ref\\((.*)\\)$/)\n  if (!m) {\n    throw new Error(`Expected decorated ref \"##ref(ID)\", got ${decoratedId}`)\n  }\n  return m[1]\n}\n\nexport default class RefWidget extends Component {\n  handleChange = item => this.props.onChange(decorateRef(item.id))\n\n  render() {\n    const { $category: categoryId, $subtype: subtype, type } = this.props.schema\n    if (type !== 'string' || subtype !== 'ref') {\n      return null\n    }\n\n    return (\n      <ContentPickerWidget\n        inputId={this.props.id}\n        itemId={undecorateRef(this.props.value)}\n        categoryId={categoryId}\n        onChange={this.handleChange}\n        placeholder={this.props.placeholder || `Pick ${categoryId}`}\n      />\n    )\n  }\n}\n","import React from 'react'\nimport Form from 'react-jsonschema-form'\nimport BaseInput from 'react-jsonschema-form/lib/components/widgets/BaseInput'\n\nimport RefWidget from './RefWidget'\nimport UploadWidget from './UploadWidget'\n\nconst CustomBaseInput = props => {\n  if (props.schema.type === 'string' && props.schema.$subtype === 'ref') {\n    return <RefWidget {...props} />\n  }\n  if (props.schema.type === 'string' && props.schema.$subtype === 'media') {\n    return <UploadWidget {...props} />\n  }\n  return <BaseInput {...props} />\n}\n\nconst widgets = {\n  BaseInput: CustomBaseInput\n}\n\nconst ContentForm = props => {\n  const defaultFormData = props.schema.type === 'array' ? [] : {}\n\n  return <Form {...props} formData={props.formData || defaultFormData} safeRenderCompletion={true} widgets={widgets} />\n}\n\nexport default ContentForm\n","module.exports = global[\"BotpressContentPicker\"] = require(\"-!/home/epaminond/private/projects/2015.08.08_keenethics/projects/botpress/botpress/packages/core/botpress/node_modules/thread-loader/dist/cjs.js!/home/epaminond/private/projects/2015.08.08_keenethics/projects/botpress/botpress/packages/core/botpress/node_modules/babel-loader/lib/index.js??ref--4-1!./Widget.js\");","import React from 'react'\nimport axios from 'axios'\n\n/*****\n  DO NOT REQUIRE HEAVY DEPENDENCIES HERE\n  Avoid requiring lodash here\n  We're trying to keep these files as js-vanilla as possible\n  To keep `lite.bundle.js` as small as possible\n*****/\n\nimport InjectedComponent from '~/components/Injected'\nimport EventBus from '~/util/EventBus'\n\nexport default class InjectedModuleView extends React.Component {\n  state = {\n    moduleComponent: null\n  }\n\n  loadModule(modName, viewName, lite) {\n    const moduleName = modName || this.props.moduleName\n    const subView = viewName || this.props.viewName || 'default'\n    const isLite = lite || this.props.lite || false\n\n    if (moduleName === this.state.moduleName && subView == this.state.viewName) {\n      return\n    }\n\n    this.setState({ moduleComponent: null, moduleName: moduleName, viewName: viewName })\n\n    if (!window.botpress || !window.botpress[moduleName]) {\n      const script = document.createElement('script')\n      script.type = 'text/javascript'\n      script.onload = () => {\n        script.onload = null\n        setImmediate(() => {\n          this.setViewInState(moduleName, subView, isLite)\n        })\n      }\n\n      const shortName = moduleName.replace(/^botpress-/i, '').replace(/^@botpress\\//i, '')\n\n      if (isLite) {\n        script.src = `/js/modules/${shortName}/${subView}`\n      } else {\n        script.src = `/js/modules/${shortName}`\n      }\n\n      document.getElementsByTagName('head')[0].appendChild(script)\n    } else {\n      this.setState({ moduleComponent: null })\n      setImmediate(() => {\n        this.setViewInState(moduleName, subView, isLite)\n      })\n    }\n  }\n\n  setViewInState(moduleName, viewName, isLite) {\n    const lookupNames =\n      moduleName.startsWith('@botpress/') || moduleName.startsWith('botpress-')\n        ? [moduleName]\n        : ['@botpress/' + moduleName, 'botpress-' + moduleName]\n\n    const viewResolve = name => {\n      const prop = isLite ? 'default' : viewName\n      return window.botpress && window.botpress[name] && window.botpress[name][prop]\n    }\n\n    const module = viewResolve(lookupNames.find(viewResolve))\n\n    if (!module) {\n      this.setState({\n        error: new Error(`Subview \"${viewName}\" doesn't exist for module \"${moduleName}\"`),\n        moduleComponent: null\n      })\n    } else {\n      this.setState({\n        moduleComponent: module,\n        error: null\n      })\n    }\n  }\n\n  componentDidMount() {\n    this.loadModule()\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.loadModule(nextProps.moduleName, nextProps.viewName, nextProps.lite)\n  }\n\n  render() {\n    const { moduleComponent } = this.state\n\n    if (this.state.error) {\n      console.log('Error rendering plugin', this.state.error)\n      return (this.props.onNotFound && this.props.onNotFound(this.state.error)) || null\n    }\n\n    if (!moduleComponent) {\n      return null\n    }\n\n    const bp = {\n      events: EventBus.default,\n      axios: axios\n    }\n\n    const extraProps = this.props.extraProps || {}\n\n    return <InjectedComponent component={moduleComponent} name={this.props.moduleName} bp={bp} {...extraProps} />\n  }\n}\n","/* global io */\n\nimport EventEmitter2 from 'eventemitter2'\nimport io from 'socket.io-client'\n\nimport { getToken, authEvents, getUniqueVisitorId } from '~/util/Auth'\n\nclass EventBus extends EventEmitter2 {\n  constructor() {\n    super({\n      wildcard: true,\n      maxListeners: 100\n    })\n\n    this.onAny(this.dispatchClientEvent)\n\n    authEvents.on('new_token', this.setup)\n  }\n\n  dispatchSocketEvent = event => {\n    this.emit(event.name, event.data, 'server')\n  }\n\n  dispatchClientEvent = (name, data, from) => {\n    if (from === 'server') {\n      // we sent this event ourselves\n      return\n    }\n\n    const socket = name.startsWith('guest.') ? this.guestSocket : this.adminSocket\n    socket && socket.emit('event', { name, data })\n  }\n\n  setup = () => {\n    const query = {\n      visitorId: getUniqueVisitorId()\n    }\n\n    if (window.AUTH_ENABLED) {\n      const token = getToken()\n      if (!!token) {\n        Object.assign(query, { token: token.token })\n      }\n    }\n\n    if (this.adminSocket) {\n      this.adminSocket.off('event', this.dispatchEvent)\n      this.adminSocket.disconnect()\n    }\n\n    if (this.guestSocket) {\n      this.guestSocket.off('event', this.dispatchEvent)\n      this.guestSocket.disconnect()\n    }\n\n    const socketUrl = window.location.origin\n\n    this.adminSocket = io(socketUrl + '/admin', { query })\n    this.adminSocket.on('event', this.dispatchSocketEvent)\n\n    this.guestSocket = io(socketUrl + '/guest', { query })\n    this.guestSocket.on('event', this.dispatchSocketEvent)\n  }\n}\n\nEventBus.default = new EventBus()\n\nexport default EventBus\n","import 'babel-polyfill'\nimport React from 'expose-loader?React!react'\nimport ReactDOM from 'expose-loader?ReactDOM!react-dom'\n\nimport axios from 'axios'\nimport { getToken } from '~/util/Auth'\n\nimport PropTypes from 'expose-loader?PropTypes!prop-types'\nimport ReactBootstrap from 'expose-loader?ReactBootstrap!react-bootstrap'\nimport ContentPickerWidget from 'expose-loader?BotpressContentPicker!~/components/Content/Select/Widget'\nimport { Provider } from 'react-redux'\n\nimport store from './store'\n\nrequire('bootstrap/dist/css/bootstrap.css')\nrequire('storm-react-diagrams/dist/style.min.css')\nrequire('react-select/dist/react-select.css')\nrequire('./theme.scss')\n\nconst token = getToken()\nif (token) {\n  axios.defaults.headers.common['Authorization'] = `Bearer ${token.token}`\n}\n\n// Do not use \"import App from ...\" as hoisting will screw up styling\nconst App = require('./components/App').default\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('app')\n)\n","import _ from 'lodash'\nimport generate from 'nanoid/generate'\n\nexport const hashCode = str => {\n  let hash = 0\n  if (str.length === 0) {\n    return hash\n  }\n\n  for (let i = 0; i < str.length; i++) {\n    const chr = str.charCodeAt(i)\n    hash = (hash << 5) - hash + chr\n    hash |= 0\n  }\n  return hash\n}\n\n// https://davidwalsh.name/caret-end\nexport const moveCursorToEnd = el => {\n  if (!el) {\n    return\n  }\n\n  if (typeof el.selectionStart == 'number') {\n    el.selectionStart = el.selectionEnd = el.value.length\n    el.focus()\n  } else if (typeof el.createTextRange != 'undefined') {\n    el.focus()\n    const range = el.createTextRange()\n    range.collapse(false)\n    range.select()\n  }\n}\n\nexport const prettyId = (length = 10) => generate('1234567890abcdef', length)\n","import { createAction } from 'redux-actions'\nimport axios from 'axios'\nimport _ from 'lodash'\n\nimport BatchRunner from './BatchRunner'\n\n// Flows\nexport const requestFlows = createAction('FLOWS/REQUEST')\nexport const receiveFlows = createAction('FLOWS/RECEIVE', flows => flows, () => ({ receiveAt: new Date() }))\n\nexport const fetchFlows = () => dispatch => {\n  dispatch(requestFlows())\n\n  axios.get('/api/flows/all').then(({ data }) => {\n    const flows = _.keyBy(data, 'name')\n    dispatch(receiveFlows(flows))\n  })\n}\n\nexport const requestSaveFlows = createAction('FLOWS/SAVE')\nexport const receiveSaveFlows = createAction('FLOWS/SAVE/RECEIVE', flows => flows, () => ({ receiveAt: new Date() }))\n\nexport const saveAllFlows = () => (dispatch, getState) => {\n  dispatch(requestSaveFlows())\n\n  const flows = _.values(getState().flows.flowsByName).map(flow => ({\n    flow: flow.name,\n    location: flow.location,\n    startNode: flow.startNode,\n    catchAll: flow.catchAll,\n    links: flow.links,\n    nodes: flow.nodes,\n    skillData: flow.skillData\n  }))\n\n  axios.post('/api/flows/save', flows).then(() => {\n    dispatch(receiveSaveFlows())\n  })\n}\n\nexport const updateFlow = createAction('FLOWS/FLOW/UPDATE')\nexport const renameFlow = createAction('FLOWS/FLOW/RENAME')\nexport const createFlow = createAction('FLOWS/CREATE')\nexport const switchFlow = createAction('FLOWS/SWITCH')\nexport const deleteFlow = createAction('FLOWS/DELETE')\nexport const duplicateFlow = createAction('FLOWS/DUPLICATE')\nexport const handleRefreshFlowLinks = createAction('FLOWS/FLOW/UPDATE_LINKS')\nexport const refreshFlowsLinks = () => dispatch => setTimeout(() => dispatch(handleRefreshFlowLinks()), 10)\n\nexport const updateFlowNode = createAction('FLOWS/FLOW/UPDATE_NODE')\nexport const switchFlowNode = createAction('FLOWS/FLOW/SWITCH_NODE')\nexport const createFlowNode = createAction('FLOWS/FLOW/CREATE')\nexport const removeFlowNode = createAction('FLOWS/FLOW/REMOVE')\nexport const copyFlowNode = createAction('FLOWS/NODE/COPY')\nexport const pasteFlowNode = createAction('FLOWS/NODE/PASTE')\nexport const copyFlowNodeElement = createAction('FLOWS/NODE_ELEMENT/COPY')\nexport const pasteFlowNodeElement = createAction('FLOWS/NODE_ELEMENT/PASTE')\nexport const openFlowNodeProps = createAction('FLOWS/FLOW/OPEN_NODE_PROPS')\nexport const closeFlowNodeProps = createAction('FLOWS/FLOW/CLOSE_NODE_PROPS')\n\nexport const handleFlowEditorUndo = createAction('FLOWS/EDITOR/UNDO')\nexport const handleFlowEditorRedo = createAction('FLOWS/EDITOR/REDO')\n\nexport const flowEditorUndo = () => dispatch => {\n  dispatch(handleFlowEditorUndo())\n  dispatch(refreshFlowsLinks())\n}\n\nexport const flowEditorRedo = () => dispatch => {\n  dispatch(handleFlowEditorRedo())\n  dispatch(refreshFlowsLinks())\n}\n\nexport const setDiagramAction = createAction('FLOWS/FLOW/SET_ACTION')\n\n// Content\nexport const receiveContentCategories = createAction('CONTENT/CATEGORIES/RECEIVE')\nexport const fetchContentCategories = () => dispatch =>\n  axios.get('/api/content/categories').then(({ data }) => {\n    dispatch(receiveContentCategories(data))\n  })\n\nexport const receiveContentItems = createAction('CONTENT/ITEMS/RECEIVE')\nexport const fetchContentItems = ({ id, from, count, searchTerm }) => dispatch =>\n  axios\n    .get(`/api/content/items`, { params: { categoryId: id, from, count, searchTerm } })\n    .then(({ data }) => dispatch(receiveContentItems(data)))\n\nexport const receiveContentItemsRecent = createAction('CONTENT/ITEMS/RECEIVE_RECENT')\nexport const fetchContentItemsRecent = ({ searchTerm, count = 5, categoryId = 'all' }) => dispatch =>\n  axios\n    .get(`/api/content/items`, { params: { categoryId, count, searchTerm, orderBy: ['createdOn', 'desc'] } })\n    .then(({ data }) => dispatch(receiveContentItemsRecent(data)))\n\nconst getBatchedContentItems = ids =>\n  axios.get(`/api/content/items-batched/${ids.join(',')}`).then(({ data }) =>\n    data.reduce((acc, item, i) => {\n      acc[ids[i]] = item\n      return acc\n    }, {})\n  )\n\nconst getBatchedContentRunner = BatchRunner(getBatchedContentItems)\n\nconst getBatchedContentItem = id => getBatchedContentRunner.add(id)\n\nconst getSingleContentItem = id => axios.get(`/api/content/items/${id}`).then(({ data }) => data)\n\nexport const receiveContentItem = createAction('CONTENT/ITEMS/RECEIVE_ONE')\nexport const fetchContentItem = (id, { force = false, batched = false } = {}) => (dispatch, getState) => {\n  if (!id || (!force && getState().content.itemsById[id])) {\n    return Promise.resolve()\n  }\n  return (batched ? getBatchedContentItem(id) : getSingleContentItem(id)).then(data =>\n    dispatch(receiveContentItem(data))\n  )\n}\n\nexport const receiveContentItemsCount = createAction('CONTENT/ITEMS/RECEIVE_COUNT')\nexport const fetchContentItemsCount = (categoryId = 'all') => dispatch =>\n  axios\n    .get(`/api/content/items/count`, { params: { categoryId } })\n    .then(data => dispatch(receiveContentItemsCount(data)))\n\nexport const upsertContentItem = ({ categoryId, formData, modifyId }) => () =>\n  axios.post(`/api/content/categories/${categoryId}/items/${modifyId || ''}`, { formData })\n\nexport const deleteContentItems = data => () => axios.post('/api/content/categories/all/bulk_delete', data)\n\n// License\nexport const licenseChanged = createAction('LICENSE/CHANGED')\nexport const fetchLicense = () => dispatch => {\n  axios.get('/api/license').then(({ data }) => {\n    dispatch(licenseChanged(data))\n  })\n}\n\n// UI\nexport const toggleLicenseModal = createAction('UI/TOGGLE_LICENSE_MODAL')\nexport const toggleAboutModal = createAction('UI/TOGGLE_ABOUT_MODAL')\nexport const viewModeChanged = createAction('UI/VIEW_MODE_CHANGED')\nexport const updateGlobalStyle = createAction('UI/UPDATE_GLOBAL_STYLE')\n\n// User\nexport const userReceived = createAction('USER/RECEIVED')\nexport const fetchUser = authEnabled => dispatch => {\n  if (!authEnabled) {\n    dispatch(\n      userReceived({\n        id: 'anonymous',\n        roles: null\n      })\n    )\n    return\n  }\n  axios.get('/api/my-account').then(res => {\n    dispatch(userReceived(res.data))\n  })\n}\n\n// Bot\nexport const botInfoReceived = createAction('BOT/INFO_RECEIVED')\nexport const fetchBotInformation = () => dispatch => {\n  axios.get('/api/bot/information').then(information => {\n    dispatch(botInfoReceived(information.data))\n  })\n}\n\n// Modules\nexport const modulesReceived = createAction('MODULES/RECEIVED')\nexport const fetchModules = () => dispatch => {\n  axios.get('/api/modules').then(res => {\n    dispatch(modulesReceived(res.data))\n  })\n}\n\n// Notifications\nexport const allNotificationsReceived = createAction('NOTIFICATIONS/ALL_RECEIVED')\nexport const newNotificationsReceived = createAction('NOTIFICATIONS/NEW_RECEIVED')\nexport const fetchNotifications = () => dispatch => {\n  axios.get('/api/notifications/inbox').then(res => {\n    dispatch(allNotificationsReceived(res.data))\n  })\n}\n\nexport const replaceNotifications = allNotifications => dispatch => {\n  dispatch(allNotificationsReceived(allNotifications))\n}\n\nexport const addNotifications = notifications => dispatch => {\n  dispatch(newNotificationsReceived(notifications))\n}\n\n// Skills\nexport const buildNewSkill = createAction('SKILLS/BUILD')\nexport const cancelNewSkill = createAction('SKILLS/BUILD/CANCEL')\nexport const insertNewSkill = createAction('SKILLS/INSERT')\nexport const insertNewSkillNode = createAction('SKILLS/INSERT/NODE')\nexport const updateSkill = createAction('SKILLS/UPDATE')\n\nexport const editSkill = createAction('SKILLS/EDIT')\nexport const requestEditSkill = nodeId => (dispatch, getState) => {\n  const state = getState()\n  const node = _.find(state.flows.flowsByName[state.flows.currentFlow].nodes, { id: nodeId })\n  const flow = node && state.flows.flowsByName[node.flow]\n\n  flow &&\n    dispatch(\n      editSkill({\n        skillId: 'skill-' + node.skill,\n        flowName: node.flow,\n        nodeId: nodeId,\n        data: flow.skillData\n      })\n    )\n}\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport * as actions from '~/actions'\nimport reducers from './reducers'\n\nconst composeEnhancers =\n  typeof window === 'object' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({ name: 'Botpress', actionCreators: actions })\n    : compose\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk))\n\nexport default createStore(reducers, enhancer)\n","import _ from 'lodash'\n\nexport const moduleViewNames = (modules = [], position = 'overlay') =>\n  _.flatten(\n    (modules || []).filter(Boolean).map(module =>\n      _.filter(module.plugins || [], { position }).map(plugin => ({\n        moduleName: module.name,\n        viewName: plugin.entry\n      }))\n    )\n  )\n","import React, { Component, Fragment } from 'react'\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport { Button, Label } from 'react-bootstrap'\n\nimport ConditionItem from '../common/condition'\n\nimport ConditionModalForm from './ConditionModalForm'\n\nconst style = require('./style.scss')\n\nexport default class TransitionSection extends Component {\n  state = {\n    showConditionalModalForm: false\n  }\n\n  onMove(prevIndex, direction) {\n    const clone = [...this.props.items]\n    const a = clone[prevIndex]\n    const b = clone[prevIndex + direction]\n\n    clone[prevIndex + direction] = a\n    clone[prevIndex] = b\n\n    this.props.onItemsUpdated(clone)\n  }\n\n  onSubmit = item => {\n    const editIndex = this.state.itemToEditIndex\n    const { items } = this.props\n    const updateByIndex = (originalItem, i) => (i === editIndex ? item : originalItem)\n    this.setState({ showConditionalModalForm: false, itemToEditIndex: null })\n    this.props.onItemsUpdated(Number.isInteger(editIndex) ? items.map(updateByIndex) : [...items, item])\n  }\n\n  onRemove(index) {\n    const clone = [...this.props.items]\n    _.pullAt(clone, [index])\n    this.props.onItemsUpdated(clone)\n  }\n\n  onCopyAction(index) {\n    this.props.copyItem(this.props.items[index])\n  }\n\n  onEdit(itemToEditIndex) {\n    this.setState({ itemToEditIndex, showConditionalModalForm: true })\n  }\n\n  render() {\n    let { items, readOnly } = this.props\n\n    if (!items) {\n      items = []\n    }\n\n    const renderMoveUp = i => (i > 0 ? <a onClick={() => this.onMove(i, -1)}>Up</a> : null)\n\n    const renderMoveDown = i => (i < items.length - 1 ? <a onClick={() => this.onMove(i, 1)}>Down</a> : null)\n\n    const handleAddAction = () => this.setState({ showConditionalModalForm: true })\n\n    const renderType = i => {\n      if (!i.node || i.node === '') {\n        return <Label bsStyle=\"danger\">Missing Link</Label>\n      }\n\n      if (i.node === 'END') {\n        return <Label bsStyle=\"warning\">End</Label>\n      }\n\n      if (i.node === '#') {\n        return <Label bsStyle=\"warning\">Return</Label>\n      }\n\n      if (i.node.includes('.flow.json')) {\n        return <Label bsStyle=\"primary\">{i.node}</Label>\n      }\n\n      return <Label bsStyle=\"default\">{i.node}</Label>\n    }\n\n    return (\n      <Fragment>\n        <div>\n          {items.map((item, i) => (\n            <ConditionItem className={style.item} condition={item} position={i} key={`${i}.${item.node || '-'}`}>\n              {renderType(item)}\n              {!readOnly && (\n                <div className={style.actions}>\n                  <a onClick={() => this.onEdit(i)}>Edit</a>\n                  <a onClick={() => this.onRemove(i)}>Remove</a>\n                  <a onClick={() => this.onCopyAction(i)}>Copy</a>\n                  {renderMoveUp(i)}\n                  {renderMoveDown(i)}\n                </div>\n              )}\n            </ConditionItem>\n          ))}\n          {!readOnly && (\n            <div className={style.actions}>\n              <Button onClick={handleAddAction} bsSize=\"xsmall\">\n                <i className={classnames('material-icons', style.actionIcons)}>add</i>\n              </Button>\n              <Button onClick={this.props.pasteItem} bsSize=\"xsmall\" disabled={!this.props.canPaste}>\n                <i className={classnames('material-icons', style.actionIcons)}>content_paste</i>\n              </Button>\n            </div>\n          )}\n        </div>\n        {!readOnly && (\n          <ConditionModalForm\n            currentFlow={this.props.currentFlow}\n            subflows={this.props.subflows}\n            show={this.state.showConditionalModalForm}\n            onClose={() => this.setState({ showConditionalModalForm: false, itemToEditIndex: null })}\n            onSubmit={this.onSubmit}\n            item={this.props.items[this.state.itemToEditIndex]}\n          />\n        )}\n      </Fragment>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport ReactDOM from 'react-dom'\nimport nanoid from 'nanoid'\n\nexport default class InjectedComponent extends Component {\n  static propTypes = {\n    component: PropTypes.func.isRequired\n  }\n\n  componentId = `component-${nanoid()}`\n\n  componentDidUpdate() {\n    this.internalRender()\n  }\n\n  componentDidMount() {\n    this.internalRender()\n  }\n\n  componentWillUnmount() {\n    try {\n      ReactDOM.unmountComponentAtNode(ReactDOM.findDOMNode(this))\n    } catch (err) {\n      console.error(err)\n    }\n  }\n\n  render() {\n    return <div className=\"component-mount\" />\n  }\n\n  // TODO: can't we do it in normal render and let the component be trashed normally too?\n  // Maybe React 16 error boundaries are what we actually want\n  internalRender() {\n    const node = ReactDOM.findDOMNode(this)\n\n    try {\n      const props = Object.assign({}, this.props)\n      delete props['component']\n      ReactDOM.render(React.createElement(this.props.component, props), node)\n    } catch (err) {\n      const element = (\n        <div className=\"panel panel-danger\">\n          <div className=\"panel-heading\">Could not display component</div>\n          <div className=\"panel-body\">\n            <h4>An error occurred while loading the component</h4>\n            <p>{err.message}</p>\n          </div>\n          {/* TODO Put documentation / help here */}\n          <div className=\"panel-footer\">\n            Developer? <a href=\"https://github.com/botpress/botpress/tree/master/docs\">click here</a>\n            to see why this might happen\n          </div>\n        </div>\n      )\n\n      ReactDOM.render(element, node)\n      console.error && console.error('Error loading component', err)\n    }\n  }\n}\n","import React, { Component } from 'react'\nimport { Popover, OverlayTrigger, Well } from 'react-bootstrap'\n\nimport classnames from 'classnames'\nimport Mustache from 'mustache'\nimport _ from 'lodash'\n\nconst style = require('./style.scss')\n\nexport default class ConditionItem extends Component {\n  renderNormal(child) {\n    return child\n  }\n\n  renderOverlay = child => {\n    const popoverHoverFocus = (\n      <Popover id=\"popover-action\" title=\"⚡ Conditional transition\">\n        <Well>{this.props.condition.condition}</Well>\n      </Popover>\n    )\n\n    return (\n      <OverlayTrigger trigger={['hover', 'focus']} placement=\"top\" delayShow={500} overlay={popoverHoverFocus}>\n        {child}\n      </OverlayTrigger>\n    )\n  }\n\n  render() {\n    const { position } = this.props\n\n    const { condition, caption } = this.props.condition\n\n    let raw = null\n    const renderer = caption ? this.renderOverlay : this.renderNormal\n\n    if (caption) {\n      const vars = {}\n\n      const stripDots = str => str.replace(/\\./g, '--dot--')\n      const restoreDots = str => str.replace(/--dot--/g, '.')\n\n      const htmlTpl = caption.replace(/\\[(.+)]/gi, x => {\n        const name = stripDots(x.replace(/\\[|]/g, ''))\n        vars[name] = '<span class=\"val\">' + _.escape(name) + '</span>'\n        return '{{{' + name + '}}}'\n      })\n\n      const mustached = restoreDots(Mustache.render(htmlTpl, vars))\n      raw = mustached\n    } else {\n      if ((condition && condition.length <= 0) || /^(yes|true)$/i.test(condition.toLowerCase())) {\n        raw = position === 0 ? 'always' : 'otherwise'\n      } else {\n        raw = condition\n      }\n    }\n\n    return renderer(\n      <div className={classnames(this.props.className, style['action-item'], style['condition'])}>\n        <span className={style.icon}>❓</span>\n        <span className={style.name} dangerouslySetInnerHTML={{ __html: raw }} />\n        {this.props.children}\n      </div>\n    )\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport { connect } from 'react-redux'\nimport { Popover, OverlayTrigger } from 'react-bootstrap'\nimport _ from 'lodash'\nimport Mustache from 'mustache'\n\nimport { fetchContentItem, refreshFlowsLinks } from '~/actions'\n\nconst style = require('./style.scss')\n\nclass ActionItem extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { itemId: this.textToItemId(this.props.text) }\n  }\n\n  componentDidMount() {\n    this.fetchItem(this.textToItemId(this.props.text))\n  }\n\n  textToItemId = text => _.get(text.match(/^say #!(.*)$/), '[1]')\n\n  fetchItem = itemId => {\n    if (itemId) {\n      this.props.fetchContentItem(itemId, { force: true, batched: true }).then(this.props.refreshFlowsLinks)\n    }\n  }\n\n  componentWillReceiveProps({ text }) {\n    if (text !== this.props.text) {\n      this.fetchItem(this.textToItemId(text))\n    }\n  }\n\n  renderAction() {\n    const action = this.props.text.trim()\n\n    let actionName = action\n    let parameters = {}\n\n    if (action.indexOf(' ') >= 0) {\n      const tokens = action.split(' ')\n      actionName = _.head(tokens) + ' (args)'\n      parameters = JSON.parse(_.tail(tokens).join(' '))\n    }\n\n    const callPreview = JSON.stringify(parameters, null, 2)\n\n    const popoverHoverFocus = (\n      <Popover id=\"popover-action\" title={`⚡ ${actionName}`}>\n        Called with these arguments:\n        <pre>{callPreview}</pre>\n      </Popover>\n    )\n\n    return (\n      <OverlayTrigger trigger={['hover', 'focus']} placement=\"top\" delayShow={500} overlay={popoverHoverFocus}>\n        <div className={classnames(this.props.className, style['fn'], style['action-item'])}>\n          <span className={style.icon}>⚡</span>\n          <span className={style.name}>{actionName}</span>\n          {this.props.children}\n        </div>\n      </OverlayTrigger>\n    )\n  }\n\n  render() {\n    const action = this.props.text\n    const isAction = typeof action !== 'string' || !action.startsWith('say ')\n\n    if (isAction) {\n      return this.renderAction()\n    }\n\n    const item = this.props.items[this.state.itemId]\n    const textContent = (item && `${item.categoryTitle} | ${item.previewText}`) || ''\n    const vars = {}\n\n    const stripDots = str => str.replace(/\\./g, '--dot--')\n    const restoreDots = str => str.replace(/--dot--/g, '.')\n\n    const htmlTpl = textContent.replace(/{{([a-z$@0-9. _-]*?)}}/gi, x => {\n      const name = stripDots(x.replace(/{|}/g, ''))\n      vars[name] = '<span class=\"var\">' + x + '</span>'\n      return '{' + stripDots(x) + '}'\n    })\n\n    const mustached = restoreDots(Mustache.render(htmlTpl, vars))\n\n    const html = { __html: mustached }\n\n    return (\n      <div className={classnames(this.props.className, style['action-item'], style['msg'])}>\n        <span className={style.icon}>💬</span>\n        <span className={style.name} dangerouslySetInnerHTML={html} />\n        {this.props.children}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({ items: state.content.itemsById })\nconst mapDispatchToProps = { fetchContentItem, refreshFlowsLinks }\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ActionItem)\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../../node_modules/postcss-loader/lib/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../../node_modules/postcss-loader/lib/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../../node_modules/postcss-loader/lib/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import axios from 'axios'\n\nimport groupBy from 'lodash/groupBy'\nimport mapValues from 'lodash/mapValues'\n\nconst transformData = data => mapValues(data, entries => groupBy(entries, 'file'))\n\nexport const fetchStatus = () =>\n  axios.get('/api/ghost_content/status').then(({ data }) => {\n    return transformData(data)\n  })\n\nexport const getHost = () => {\n  const { protocol, host } = document.location\n  return `${protocol}//${host}`\n}\n\nexport const revertPendingFileChanges = (folder, file) =>\n  axios.delete(`/api/ghost_content/${folder}`, { params: { file } }).then()\n","import React from 'react'\nimport { ProgressBar } from 'react-bootstrap'\n\nconst Loading = () => <ProgressBar active color=\"info\" now={100} />\n\nexport default Loading\n","import React from 'react'\nimport { Modal } from 'react-bootstrap'\n\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport ContentForm from '~/components/ContentForm'\n\nimport style from './style.scss'\n\nexport default class CreateOrEditModal extends React.Component {\n  handleEdit = event => {\n    this.props.handleEdit(event.formData)\n  }\n\n  handleSave = event => {\n    this.props.handleCreateOrUpdate(event.formData)\n  }\n\n  render() {\n    return (\n      <Modal\n        container={document.getElementById('app')}\n        className={style.modal}\n        show={this.props.show}\n        onHide={this.props.handleClose}\n        style={{ zIndex: 1051 }}\n      >\n        <Modal.Body>\n          <ContentForm\n            schema={this.props.schema}\n            uiSchema={this.props.uiSchema}\n            formData={this.props.formData}\n            onChange={this.handleEdit}\n            onSubmit={this.handleSave}\n          />\n          <button\n            className={classnames('bp-button', 'bp-button-danger', style.cancel)}\n            onClick={this.props.handleClose}\n          >\n            Cancel\n          </button>\n        </Modal.Body>\n      </Modal>\n    )\n  }\n}\n","import { handleActions } from 'redux-actions'\nimport { Howl } from 'howler'\nimport _ from 'lodash'\n\nimport { allNotificationsReceived, newNotificationsReceived } from '~/actions'\n\nconst defaultState = []\nconst sound = new Howl({ src: ['/audio/notification.mp3'] })\n\nconst reducer = handleActions(\n  {\n    [allNotificationsReceived]: (state, { payload }) => [...payload],\n    [newNotificationsReceived]: (state, { payload }) => {\n      if (_.some(payload, { sound: true })) {\n        sound.play()\n      }\n\n      return [...state.unshift(...payload)]\n    }\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\n\nimport { modulesReceived, buildNewSkill, cancelNewSkill, insertNewSkill, editSkill, updateSkill } from '~/actions'\n\nconst defaultState = {\n  installed: [],\n  builder: {\n    opened: false,\n    data: {},\n    skillId: null,\n    action: null,\n    editFlowName: null,\n    editNodeId: null\n  }\n}\n\nconst reducer = handleActions(\n  {\n    [modulesReceived]: (state, { payload }) => ({\n      ...state,\n      installed: payload.filter(module => module.name.startsWith('skill-')).map(module => ({\n        id: module.name,\n        name: module.menuText,\n        icon: module.menuIcon\n      }))\n    }),\n\n    [buildNewSkill]: (state, { payload }) => ({\n      ...state,\n      builder: {\n        ...state.builder,\n        opened: true,\n        action: 'new',\n        data: {},\n        skillId: payload\n      }\n    }),\n\n    [cancelNewSkill]: state => ({\n      ...state,\n      builder: {\n        ...state.builder,\n        opened: false\n      }\n    }),\n\n    [insertNewSkill]: (state, { payload }) => ({\n      ...state,\n      builder: {\n        ...state.builder,\n        opened: false,\n        data: payload.data,\n        skillId: payload.skillId\n      }\n    }),\n\n    [editSkill]: (state, { payload }) => ({\n      ...state,\n      builder: {\n        ...state.builder,\n        opened: true,\n        action: 'edit',\n        skillId: payload.skillId,\n        data: payload.data,\n        editFlowName: payload.flowName,\n        editNodeId: payload.nodeId\n      }\n    }),\n\n    [updateSkill]: state => ({\n      ...state,\n      builder: {\n        ...state.builder,\n        opened: false\n      }\n    })\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\n\nimport { modulesReceived } from '~/actions'\n\nconst defaultState = []\n\nconst reducer = handleActions(\n  {\n    [modulesReceived]: (state, { payload }) => [...payload]\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\n\nimport { botInfoReceived } from '~/actions'\n\nconst defaultState = {}\n\nconst reducer = handleActions(\n  {\n    [botInfoReceived]: (state, { payload }) => ({ ...payload })\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\n\nimport { userReceived } from '~/actions'\n\nconst defaultState = {}\n\nconst reducer = handleActions(\n  {\n    [userReceived]: (state, { payload }) => ({ ...state, ...payload })\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\n\nimport { toggleLicenseModal, toggleAboutModal, viewModeChanged, updateGlobalStyle } from '~/actions'\n\nconst defaultState = {\n  licenseModalOpened: false,\n  aboutModalOpened: false,\n  viewMode: -1,\n  customStyle: {}\n}\n\nconst reducer = handleActions(\n  {\n    [toggleLicenseModal]: state => ({\n      ...state,\n      licenseModalOpened: !state.licenseModalOpened\n    }),\n    [toggleAboutModal]: state => ({\n      ...state,\n      aboutModalOpened: !state.aboutModalOpened\n    }),\n    [viewModeChanged]: (state, { payload }) => ({\n      ...state,\n      viewMode: payload.toString()\n    }),\n    [updateGlobalStyle]: (state, { payload }) => ({\n      ...state,\n      customStyle: Object.assign({}, state.customStyle, payload)\n    })\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\n\nimport { licenseChanged } from '~/actions'\n\nconst defaultState = {\n  name: null,\n  text: null,\n  licensed: null,\n  status: null\n}\n\nconst reducer = handleActions(\n  {\n    [licenseChanged]: (state, { payload }) => {\n      return { ...state, ...payload }\n    }\n  },\n  defaultState\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\nimport reduceReducers from 'reduce-reducers'\nimport _ from 'lodash'\n\nimport { hashCode, prettyId } from '~/util'\n\nimport {\n  requestFlows,\n  requestSaveFlows,\n  receiveSaveFlows,\n  receiveFlows,\n  switchFlow,\n  updateFlow,\n  handleRefreshFlowLinks,\n  renameFlow,\n  updateFlowNode,\n  switchFlowNode,\n  openFlowNodeProps,\n  closeFlowNodeProps,\n  setDiagramAction,\n  createFlowNode,\n  copyFlowNode,\n  pasteFlowNode,\n  copyFlowNodeElement,\n  pasteFlowNodeElement,\n  createFlow,\n  deleteFlow,\n  duplicateFlow,\n  removeFlowNode,\n  handleFlowEditorUndo,\n  handleFlowEditorRedo,\n  insertNewSkill,\n  insertNewSkillNode,\n  updateSkill\n} from '~/actions'\n\nconst MAX_UNDO_STACK_SIZE = 25\nconst MIN_HISTORY_RECORD_INTERVAL = 500\n\nconst defaultState = {\n  flowsByName: {},\n  fetchingFlows: false,\n  currentFlow: null,\n  currentFlowNode: null,\n  showFlowNodeProps: false,\n  currentDiagramAction: null,\n  currentSnapshot: null,\n  undoStack: [],\n  redoStack: [],\n  nodeInBuffer: null, // TODO: move it to buffer.node\n  buffer: { action: null, transition: null }\n}\n\nconst findNodesThatReferenceFlow = (state, flowName) =>\n  _.flatten(_.values(state.flowsByName).map(flow => flow.nodes))\n    .filter(node => node.flow === flowName || _.find(node.next, { node: flowName }))\n    .map(node => node.id)\n\nconst computeFlowsHash = state => {\n  const hashAction = (hash, action) => {\n    if (_.isArray(action)) {\n      action.forEach(c => {\n        if (_.isString(c)) {\n          hash += c\n        } else {\n          hash += c.node\n          hash += c.condition\n        }\n      })\n    } else {\n      hash += 'null'\n    }\n\n    return hash\n  }\n\n  return _.values(state.flowsByName).reduce((obj, curr) => {\n    if (!curr) {\n      return obj\n    }\n\n    let buff = ''\n    buff += curr.name\n    buff += curr.startNode\n\n    if (curr.catchAll) {\n      buff = hashAction(buff, curr.catchAll.onReceive)\n      buff = hashAction(buff, curr.catchAll.onEnter)\n      buff = hashAction(buff, curr.catchAll.next)\n    }\n\n    _.orderBy(curr.nodes, 'id').forEach(node => {\n      buff = hashAction(buff, node.onReceive)\n      buff = hashAction(buff, node.onEnter)\n      buff = hashAction(buff, node.next)\n      buff += node.id\n      buff += node.flow\n      buff += node.type\n      buff += node.name\n      buff += node.x\n      buff += node.y\n    })\n\n    _.orderBy(curr.links, l => l.source + l.target).forEach(link => {\n      buff += link.source\n      buff += link.target\n      link.points &&\n        link.points.forEach(p => {\n          buff += p.x\n          buff += p.y\n        })\n    })\n\n    obj[curr.name] = hashCode(buff)\n    return obj\n  }, {})\n}\n\nconst updateCurrentHash = state => ({ ...state, currentHashes: computeFlowsHash(state) })\n\nconst createSnapshot = state => ({\n  ..._.pick(state, ['currentFlow', 'currentFlowNode', 'flowsByName']),\n  createdAt: new Date()\n})\n\nconst recordHistory = state => {\n  if (!state.currentSnapshot || new Date() - state.currentSnapshot.createdAt < MIN_HISTORY_RECORD_INTERVAL) {\n    return { ...state, currentSnapshot: createSnapshot(state) }\n  }\n  return {\n    ...state,\n    undoStack: [state.currentSnapshot, ...state.undoStack.slice(0, MAX_UNDO_STACK_SIZE)],\n    redoStack: [],\n    currentSnapshot: createSnapshot(state)\n  }\n}\n\nconst popHistory = stackName => state => {\n  const oppositeStack = stackName === 'undoStack' ? 'redoStack' : 'undoStack'\n  if (state[stackName].length === 0) {\n    return state\n  }\n  const currentSnapshot = state[stackName][0]\n  return {\n    ...state,\n    currentSnapshot,\n    currentFlow: currentSnapshot.currentFlow,\n    currentFlowNode: currentSnapshot.currentFlowNode,\n    flowsByName: currentSnapshot.flowsByName,\n    [stackName]: state[stackName].slice(1),\n    [oppositeStack]: [state.currentSnapshot, ...state[oppositeStack]]\n  }\n}\n\nconst copyName = (siblingNames, nameToCopy) => {\n  const copies = siblingNames.filter(name => name.startsWith(`${nameToCopy}-copy`))\n\n  if (!copies.length) {\n    return `${nameToCopy}-copy`\n  }\n\n  let i = 1\n  while (true) {\n    if (!copies.find(name => name === `${nameToCopy}-copy-${i}`)) {\n      return `${nameToCopy}-copy-${i}`\n    } else {\n      i += 1\n    }\n  }\n}\n\nconst doRenameFlow = ({ flow, name, flows }) =>\n  flows.reduce((obj, f) => {\n    if (f.name === flow) {\n      f.name = name\n      f.location = name\n    }\n\n    if (f.nodes) {\n      let json = JSON.stringify(f.nodes)\n      json = json.replace(flow, name)\n      f.nodes = JSON.parse(json)\n    }\n\n    obj[f.name] = f\n\n    return obj\n  }, {})\n\nconst doCreateNewFlow = name => ({\n  version: '0.1',\n  name: name,\n  location: name,\n  startNode: 'entry',\n  catchAll: {},\n  links: [],\n  nodes: [\n    {\n      id: prettyId(),\n      name: 'entry',\n      onEnter: [],\n      onReceive: null,\n      next: [],\n      x: 100,\n      y: 100\n    }\n  ]\n})\n\n// *****\n// Reducer that deals with non-recordable (no snapshot taking)\n// *****\n\nlet reducer = handleActions(\n  {\n    [requestFlows]: state => ({\n      ...state,\n      fetchingFlows: true\n    }),\n\n    [receiveFlows]: (state, { payload }) => {\n      const flows = _.keys(payload).filter(key => !payload[key].skillData)\n      const defaultFlow = _.keys(payload).includes('main.flow.json') ? 'main.flow.json' : _.first(flows)\n      const newState = {\n        ...state,\n        fetchingFlows: false,\n        flowsByName: payload,\n        currentFlow: state.currentFlow || defaultFlow\n      }\n      return {\n        ...newState,\n        currentSnapshot: createSnapshot(newState)\n      }\n    },\n\n    [requestSaveFlows]: state => ({\n      ...state,\n      savingFlows: true\n    }),\n\n    [receiveSaveFlows]: state => ({\n      ...state,\n      savingFlows: false\n    }),\n\n    [switchFlowNode]: (state, { payload }) => ({\n      ...state,\n      currentFlowNode: payload\n    }),\n\n    [openFlowNodeProps]: state => ({\n      ...state,\n      showFlowNodeProps: true\n    }),\n\n    [closeFlowNodeProps]: state => ({\n      ...state,\n      showFlowNodeProps: false\n    }),\n\n    [switchFlow]: (state, { payload }) => {\n      if (state.currentFlow === payload) {\n        return state\n      }\n\n      return {\n        ...state,\n        currentFlowNode: null,\n        currentFlow: payload\n      }\n    },\n\n    [setDiagramAction]: (state, { payload }) => ({\n      ...state,\n      currentDiagramAction: payload\n    }),\n\n    [handleRefreshFlowLinks]: state => ({\n      ...state,\n      flowsByName: {\n        ...state.flowsByName,\n        [state.currentFlow]: {\n          ...state.flowsByName[state.currentFlow],\n          nodes: state.flowsByName[state.currentFlow].nodes.map(node => ({ ...node, lastModified: new Date() }))\n        }\n      }\n    })\n  },\n  defaultState\n)\n\nreducer = reduceReducers(\n  reducer,\n  handleActions(\n    {\n      [renameFlow]: (state, { payload }) => ({\n        ...state,\n        flowsByName: doRenameFlow({\n          flow: state.currentFlow,\n          name: payload,\n          flows: _.values(state.flowsByName)\n        }),\n        currentFlow: payload\n      }),\n\n      [updateFlow]: (state, { payload }) => {\n        const currentFlow = state.flowsByName[state.currentFlow]\n        const nodes = !payload.links\n          ? currentFlow.nodes\n          : currentFlow.nodes.map(node => {\n              const nodeLinks = payload.links.filter(link => link.source === node.id)\n              const next = node.next.map((value, index) => {\n                const link = nodeLinks.find(link => Number(link.sourcePort.replace('out', '')) === index)\n                const targetNode = _.find(currentFlow.nodes, { id: (link || {}).target })\n                let remapNode = ''\n\n                if (value.node.includes('.flow.json') || value.node === 'END' || value.node.startsWith('#')) {\n                  remapNode = value.node\n                }\n\n                return { ...value, node: (targetNode && targetNode.name) || remapNode }\n              })\n\n              return { ...node, next, lastModified: new Date() }\n            })\n\n        const links = (payload.links || currentFlow.links).map(link => ({\n          ...link,\n          points: link.points.map(({ x, y }) => ({ x: Math.round(x), y: Math.round(y) }))\n        }))\n\n        return {\n          ...state,\n          flowsByName: {\n            ...state.flowsByName,\n            [state.currentFlow]: { ...currentFlow, nodes, ...payload, links }\n          }\n        }\n      },\n\n      [createFlow]: (state, { payload: name }) => ({\n        ...state,\n        flowsByName: {\n          ...state.flowsByName,\n          [name]: doCreateNewFlow(name)\n        },\n        currentFlow: name,\n        currentFlowNode: null\n      }),\n\n      [deleteFlow]: (state, { payload: name }) => ({\n        ...state,\n        currentFlow: state.currentFlow === name ? null : state.currentFlow,\n        currentFlowNode: state.currentFlow === name ? null : state.currentFlowNode,\n        flowsByName: _.omit(state.flowsByName, name)\n      }),\n\n      // Inserting a new skill essentially:\n      // 1. creates a new flow\n      // 2. creates a new \"skill\" node\n      // 3. puts that new node in the \"insert buffer\", waiting for user to place it on the canvas\n      [insertNewSkill]: (state, { payload }) => {\n        const skillId = payload.skillId\n          .replace(/^botpress-skill-/i, '')\n          .replace(/^@botpress\\/skill-/i, '')\n          .replace(/^skill-/i, '')\n        const flowRandomId = prettyId(6)\n        const flowName = `skills/${skillId}-${flowRandomId}.flow.json`\n\n        const newFlow = Object.assign({}, payload.generatedFlow, {\n          skillData: payload.data,\n          name: flowName,\n          location: flowName\n        })\n\n        const newNode = {\n          id: 'skill-' + flowRandomId,\n          type: 'skill-call',\n          skill: skillId,\n          name: `${skillId}-${flowRandomId}`,\n          flow: flowName,\n          next: payload.transitions || [],\n          onEnter: null,\n          onReceive: null\n        }\n\n        return {\n          ...state,\n          currentDiagramAction: 'insert_skill',\n          nodeInBuffer: newNode,\n          flowsByName: {\n            ...state.flowsByName,\n            [newFlow.name]: newFlow\n          }\n        }\n      },\n\n      [updateSkill]: (state, { payload }) => {\n        const modifiedFlow = Object.assign({}, state.flowsByName[payload.editFlowName], payload.generatedFlow, {\n          skillData: payload.data,\n          name: payload.editFlowName,\n          location: payload.editFlowName\n        })\n\n        const nodes = state.flowsByName[state.currentFlow].nodes.map(node => {\n          if (node.id !== payload.editNodeId) {\n            return node\n          }\n\n          return Object.assign({}, node, {\n            next: payload.transitions\n          })\n        })\n\n        return {\n          ...state,\n          flowsByName: {\n            ...state.flowsByName,\n            [payload.editFlowName]: modifiedFlow,\n            [state.currentFlow]: {\n              ...state.flowsByName[state.currentFlow],\n              nodes: nodes\n            }\n          }\n        }\n      },\n\n      [insertNewSkillNode]: (state, { payload }) => ({\n        ...state,\n        flowsByName: {\n          ...state.flowsByName,\n          [state.currentFlow]: {\n            ...state.flowsByName[state.currentFlow],\n            nodes: [\n              ...state.flowsByName[state.currentFlow].nodes,\n              _.merge(state.nodeInBuffer, _.pick(payload, ['x', 'y']))\n            ]\n          }\n        }\n      }),\n\n      [duplicateFlow]: (state, { payload: { flowNameToDuplicate, name } }) => {\n        return {\n          ...state,\n          flowsByName: {\n            ...state.flowsByName,\n            [name]: {\n              ...state.flowsByName[flowNameToDuplicate],\n              name,\n              location: name,\n              nodes: state.flowsByName[flowNameToDuplicate].nodes.map(node => ({\n                ...node,\n                id: prettyId()\n              }))\n            }\n          },\n          currentFlow: name,\n          currentFlowNode: null\n        }\n      },\n\n      [updateFlowNode]: (state, { payload }) => {\n        const currentFlow = state.flowsByName[state.currentFlow]\n        const currentNode = _.find(state.flowsByName[state.currentFlow].nodes, { id: state.currentFlowNode })\n        const needsUpdate = name => name === (currentNode || {}).name && payload.name\n        return {\n          ...state,\n          flowsByName: {\n            ...state.flowsByName,\n            [state.currentFlow]: {\n              ...currentFlow,\n              startNode: needsUpdate(currentFlow.startNode) ? payload.name : currentFlow.startNode,\n              nodes: currentFlow.nodes.map(node => {\n                if (node.id !== state.currentFlowNode) {\n                  return {\n                    ...node,\n                    next: node.next.map(transition => ({\n                      ...transition,\n                      node: needsUpdate(transition.node) ? payload.name : transition.node\n                    }))\n                  }\n                }\n\n                return { ...node, ...payload, lastModified: new Date() }\n              })\n            }\n          }\n        }\n      },\n\n      [removeFlowNode]: (state, { payload }) => {\n        const flowsToRemove = []\n        const nodeToRemove = _.find(state.flowsByName[state.currentFlow].nodes, { id: payload })\n\n        if (nodeToRemove.type === 'skill-call') {\n          if (findNodesThatReferenceFlow(state, nodeToRemove.flow).length <= 1) {\n            // Remove the skill flow if that was the only node referencing it\n            flowsToRemove.push(nodeToRemove.flow)\n          }\n        }\n\n        return {\n          ...state,\n          flowsByName: {\n            ..._.omit(state.flowsByName, flowsToRemove),\n            [state.currentFlow]: {\n              ...state.flowsByName[state.currentFlow],\n              nodes: state.flowsByName[state.currentFlow].nodes.filter(node => node.id !== payload)\n            }\n          }\n        }\n      },\n\n      [copyFlowNode]: state => {\n        const node = _.find(state.flowsByName[state.currentFlow].nodes, { id: state.currentFlowNode })\n        if (!node) {\n          return state\n        }\n        return {\n          ...state,\n          nodeInBuffer: { ...node, next: node.next.map(item => ({ ...item, node: '' })) }\n        }\n      },\n\n      [pasteFlowNode]: (state, { payload: { x, y } }) => {\n        const currentFlow = state.flowsByName[state.currentFlow]\n        const newNodeId = prettyId()\n        const name = copyName(currentFlow.nodes.map(({ name }) => name), state.nodeInBuffer.name)\n        return {\n          ...state,\n          currentFlowNode: newNodeId,\n          flowsByName: {\n            ...state.flowsByName,\n            [state.currentFlow]: {\n              ...currentFlow,\n              nodes: [\n                ...currentFlow.nodes,\n                { ...state.nodeInBuffer, id: newNodeId, name, lastModified: new Date(), x, y }\n              ]\n            }\n          }\n        }\n      },\n\n      [copyFlowNodeElement]: (state, { payload }) => ({\n        ...state,\n        buffer: {\n          ...state.buffer,\n          ...payload\n        }\n      }),\n\n      [pasteFlowNodeElement]: (state, { payload }) => {\n        const SECTION_TYPES = { onEnter: 'action', onReceive: 'action', next: 'transition' }\n        const element = state.buffer[SECTION_TYPES[payload]]\n        if (!element) {\n          return state\n        }\n\n        const currentFlow = state.flowsByName[state.currentFlow]\n        const currentNode = _.find(currentFlow.nodes, { id: state.currentFlowNode })\n\n        // TODO: use this as a helper function in other reducers\n        const updateCurrentFlow = modifier => ({\n          ...state,\n          flowsByName: { ...state.flowsByName, [state.currentFlow]: { ...currentFlow, ...modifier } }\n        })\n\n        if (currentNode) {\n          return updateCurrentFlow({\n            nodes: [\n              ...currentFlow.nodes.filter(({ id }) => id !== state.currentFlowNode),\n              { ...currentNode, [payload]: [...(currentNode[payload] || []), element] }\n            ]\n          })\n        }\n\n        return updateCurrentFlow({\n          catchAll: {\n            ...currentFlow.catchAll,\n            [payload]: [...currentFlow.catchAll[payload], element]\n          }\n        })\n      },\n\n      [createFlowNode]: (state, { payload }) => ({\n        ...state,\n        flowsByName: {\n          ...state.flowsByName,\n          [state.currentFlow]: {\n            ...state.flowsByName[state.currentFlow],\n            nodes: [\n              ...state.flowsByName[state.currentFlow].nodes,\n              _.merge(\n                {\n                  id: prettyId(),\n                  name: `node-${prettyId(4)}`,\n                  x: 0,\n                  y: 0,\n                  next: [],\n                  onEnter: [],\n                  onReceive: null\n                },\n                payload\n              )\n            ]\n          }\n        }\n      })\n    },\n    defaultState\n  )\n)\n\n// *****\n// Reducer that creates the 'initial hash' of flows (for dirty detection)\n// Resets the 'dirty' state when a flow is saved\n// *****\n\nreducer = reduceReducers(\n  reducer,\n  handleActions(\n    {\n      [receiveFlows]: state => {\n        const hashes = computeFlowsHash(state)\n        return { ...state, currentHashes: hashes, initialHashes: hashes }\n      },\n\n      [receiveSaveFlows]: state => {\n        const hashes = computeFlowsHash(state)\n        return { ...state, currentHashes: hashes, initialHashes: hashes }\n      },\n\n      [updateFlow]: updateCurrentHash,\n      [renameFlow]: updateCurrentHash,\n      [updateFlowNode]: updateCurrentHash,\n\n      [createFlowNode]: updateCurrentHash,\n      [createFlow]: updateCurrentHash,\n      [deleteFlow]: updateCurrentHash,\n      [duplicateFlow]: updateCurrentHash,\n      [removeFlowNode]: updateCurrentHash,\n      [pasteFlowNode]: updateCurrentHash,\n      [insertNewSkillNode]: updateCurrentHash,\n      [updateSkill]: updateCurrentHash,\n      [pasteFlowNodeElement]: updateCurrentHash\n    },\n    defaultState\n  )\n)\n\n// *****\n// Reducer that records state of the flows for undo/redo\n// *****\n\nreducer = reduceReducers(\n  reducer,\n  handleActions(\n    {\n      [updateFlow]: recordHistory,\n      [renameFlow]: recordHistory,\n      [updateFlowNode]: recordHistory,\n      [createFlowNode]: recordHistory,\n      [createFlow]: recordHistory,\n      [deleteFlow]: recordHistory,\n      [duplicateFlow]: recordHistory,\n      [removeFlowNode]: recordHistory,\n      [pasteFlowNode]: recordHistory,\n      [insertNewSkill]: recordHistory,\n      [insertNewSkillNode]: recordHistory,\n      [updateSkill]: recordHistory,\n      [pasteFlowNodeElement]: recordHistory,\n      [handleFlowEditorUndo]: popHistory('undoStack'),\n      [handleFlowEditorRedo]: popHistory('redoStack')\n    },\n    defaultState\n  )\n)\n\nexport default reducer\n","import { handleActions } from 'redux-actions'\nimport _ from 'lodash'\n\nimport {\n  receiveContentCategories,\n  receiveContentItems,\n  receiveContentItemsRecent,\n  receiveContentItem,\n  receiveContentItemsCount,\n  receiveContentSchema\n} from '~/actions'\n\nconst defaultState = {\n  categories: null,\n  currentItems: [],\n  recentItems: [],\n  itemsById: {},\n  itemsCount: 0\n}\n\nexport default handleActions(\n  {\n    [receiveContentCategories]: (state, { payload }) => ({\n      ...state,\n      categories: payload\n    }),\n\n    [receiveContentItems]: (state, { payload }) => ({\n      ...state,\n      currentItems: payload\n    }),\n\n    [receiveContentItemsRecent]: (state, { payload }) => ({\n      ...state,\n      recentItems: payload\n    }),\n\n    [receiveContentItem]: (state, { payload }) => ({\n      ...state,\n      itemsById: {\n        ...state.itemsById,\n        [payload.id]: payload\n      }\n    }),\n\n    [receiveContentItemsCount]: (state, { payload }) => ({\n      ...state,\n      itemsCount: payload.data.count\n    })\n  },\n  defaultState\n)\n","import _ from 'lodash'\n\nexport const getCurrentFlow = state => state.flows.flowsByName[state.flows.currentFlow] || null\n\nexport const getCurrentFlowNode = state => {\n  if (!state.flows || !state.flows.currentFlow || !state.flows.currentFlowNode) {\n    return\n  }\n\n  const currentFlow = getCurrentFlow(state)\n  return currentFlow && _.find(currentFlow.nodes, { id: state.flows.currentFlowNode })\n}\n\nexport const getDirtyFlows = state => {\n  if (!state.flows) {\n    return []\n  }\n\n  const currentKeys = _.keys(state.flows.currentHashes)\n  const initialKeys = _.keys(state.flows.initialHashes)\n  const keys = _.union(currentKeys, initialKeys)\n\n  const dirtyFlows = _.union(_.xor(keys, currentKeys), _.xor(keys, initialKeys))\n\n  _.keys(state.flows.flowsByName).forEach(flow => {\n    if (state.flows.initialHashes[flow] !== state.flows.currentHashes[flow]) {\n      dirtyFlows.push(flow)\n    }\n  })\n\n  return dirtyFlows\n}\n\nexport const canFlowUndo = state => state.flows.undoStack.length > 0\n\nexport const canFlowRedo = state => state.flows.redoStack.length > 0\n","import Promise from 'bluebird'\n\n// `execute` must be a function accepting an array of resource IDs\n// and returning a promise resolving to an object mapping\n// from ID to the data object\nconst BatchRunner = (execute, { maxQueue = 100, maxInterval = 20 } = {}) => {\n  let queue = []\n  const promises = {}\n\n  const run = () => {\n    if (!queue.length) {\n      return\n    }\n    const ids = queue\n    queue = []\n\n    execute(ids)\n      .then(resources => {\n        for (const id of ids) {\n          promises[id].resolve(resources[id])\n          delete promises[id]\n        }\n      })\n      .catch(err => {\n        for (const id of ids) {\n          promises[id].reject(err)\n          delete promises[id]\n        }\n      })\n  }\n\n  const add = resourceId => {\n    // don't fetch the same resource twice\n    if (promises[resourceId]) {\n      return promises[resourceId].promise\n    }\n\n    queue.push(resourceId)\n    const p = new Promise((resolve, reject) => {\n      promises[resourceId] = { resolve, reject }\n    })\n    promises[resourceId].promise = p\n\n    // drain the queue when the max length is reached\n    if (queue.length >= maxQueue) {\n      run()\n    }\n\n    return p\n  }\n\n  // drain the queue on a regular basis\n  const intervalId = setInterval(run, maxInterval)\n\n  const destroy = () => {\n    clearInterval(intervalId)\n  }\n\n  return { add, destroy }\n}\n\nexport default BatchRunner\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { FormGroup, InputGroup, FormControl, Glyphicon } from 'react-bootstrap'\n\nimport store from '~/store'\nimport { upsertContentItem, fetchContentItem } from '~/actions'\n\nimport CreateOrEditModal from '../CreateOrEditModal'\nconst style = require('./style.scss')\n\nclass ContentPickerWidget extends Component {\n  state = {\n    showItemEdit: false,\n    contentToEdit: null\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.contentItem) {\n      return\n    }\n    this.props.fetchContentItem(nextProps.itemId)\n  }\n\n  editItem = () => {\n    const { contentItem } = this.props\n    this.setState({ showItemEdit: true, contentToEdit: (contentItem && contentItem.formData) || null })\n  }\n\n  handleUpdate = () => {\n    const { contentItem, itemId } = this.props\n    const { categoryId } = contentItem\n    this.props\n      .upsertContentItem({ modifyId: itemId, categoryId, formData: this.state.contentToEdit })\n      .then(() => this.setState({ showItemEdit: false, contentToEdit: null }))\n      .then(() => this.props.fetchContentItem(this.props.itemId, { force: true }))\n      .then(this.props.onUpdate || (() => {}))\n  }\n\n  onChange = item => {\n    this.props.fetchContentItem(item && item.id)\n    this.props.onChange(item)\n  }\n\n  render() {\n    const { inputId, contentItem, categoryId, placeholder } = this.props\n\n    const schema = (contentItem && contentItem.categorySchema) || { json: {}, ui: {} }\n    const textContent = (contentItem && `${contentItem.categoryTitle} | ${contentItem.previewText}`) || ''\n\n    return (\n      <FormGroup>\n        <InputGroup>\n          <FormControl placeholder={placeholder} value={textContent} disabled id={inputId || ''} />\n          <InputGroup.Addon>\n            {contentItem && (\n              <a onClick={this.editItem} style={{ marginRight: '8px' }}>\n                <Glyphicon glyph=\"pencil\" />\n              </a>\n            )}\n            <a onClick={() => window.botpress.pickContent({ categoryId }, this.onChange)}>\n              <Glyphicon glyph=\"folder-open\" />\n            </a>\n          </InputGroup.Addon>\n          <CreateOrEditModal\n            show={this.state.showItemEdit}\n            schema={schema.json}\n            uiSchema={schema.ui}\n            handleClose={() => this.setState({ showItemEdit: false, contentToEdit: null })}\n            formData={this.state.contentToEdit}\n            handleEdit={contentToEdit => this.setState({ contentToEdit })}\n            handleCreateOrUpdate={this.handleUpdate}\n          />\n        </InputGroup>\n      </FormGroup>\n    )\n  }\n}\n\nconst mapDispatchToProps = { upsertContentItem, fetchContentItem }\nconst mapStateToProps = ({ content: { itemsById } }, { itemId }) => ({ contentItem: itemsById[itemId] })\nconst ConnectedContentPicker = connect(mapStateToProps, mapDispatchToProps)(ContentPickerWidget)\n\n// Passing store explicitly since this component may be imported from another botpress-module\nexport default props => <ConnectedContentPicker {...props} store={store} />\n","import React, { Component, Fragment } from 'react'\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport { Button } from 'react-bootstrap'\n\nimport ActionModalForm from './ActionModalForm'\nimport ActionItem from '../common/action'\n\nconst style = require('./style.scss')\n\nexport default class ActionSection extends Component {\n  state = {\n    showActionModalForm: false\n  }\n\n  onMoveAction(prevIndex, direction) {\n    const clone = [...this.props.items]\n    const a = clone[prevIndex]\n    const b = clone[prevIndex + direction]\n\n    clone[prevIndex + direction] = a\n    clone[prevIndex] = b\n\n    this.props.onItemsUpdated(clone)\n  }\n\n  optionsToItem(options) {\n    if (options.type === 'message') {\n      return options.message\n    }\n    return options.functionName + ' ' + JSON.stringify(options.parameters || {})\n  }\n\n  itemToOptions(item) {\n    if (item && item.startsWith('say ')) {\n      const chunks = item.split(' ')\n      let text = item\n      if (chunks.length > 2) {\n        text = _.slice(chunks, 2).join(' ')\n      }\n\n      return { type: 'message', message: text }\n    } else if (item) {\n      const params = item.includes(' ') ? JSON.parse(item.substring(item.indexOf(' ') + 1)) : {}\n      return {\n        type: 'code',\n        functionName: item.split(' ')[0],\n        parameters: params\n      }\n    }\n  }\n\n  onSubmitAction = options => {\n    const item = this.optionsToItem(options)\n    const editIndex = this.state.itemToEditIndex\n    const { items } = this.props\n    const updateByIndex = (originalItem, i) => (i === editIndex ? item : originalItem)\n\n    this.setState({ showActionModalForm: false, itemToEditIndex: null })\n    this.props.onItemsUpdated(Number.isInteger(editIndex) ? items.map(updateByIndex) : [...(items || []), item])\n  }\n\n  onRemoveAction(index) {\n    const clone = [...this.props.items]\n    _.pullAt(clone, [index])\n    this.props.onItemsUpdated(clone)\n  }\n\n  onCopyAction(index) {\n    this.props.copyItem(this.props.items[index])\n  }\n\n  onEdit(itemToEditIndex) {\n    this.setState({ itemToEditIndex, showActionModalForm: true })\n  }\n\n  renderWait() {\n    const { items, readOnly } = this.props\n\n    if (!this.props.waitable || (items && items.length > 0)) {\n      return null\n    }\n\n    const checked = _.isArray(items)\n\n    const changeChecked = () => this.props.onItemsUpdated && this.props.onItemsUpdated(checked ? null : [])\n\n    return (\n      <label>\n        <input name=\"isGoing\" type=\"checkbox\" checked={checked} disabled={readOnly} onChange={changeChecked} />\n        {'  Wait for user message'}\n      </label>\n    )\n  }\n\n  render() {\n    let { items, readOnly } = this.props\n\n    if (!items) {\n      items = []\n    }\n\n    const renderMoveUp = i => (i > 0 ? <a onClick={() => this.onMoveAction(i, -1)}>Up</a> : null)\n\n    const renderMoveDown = i => (i < items.length - 1 ? <a onClick={() => this.onMoveAction(i, 1)}>Down</a> : null)\n\n    const handleAddAction = () => this.setState({ showActionModalForm: true })\n\n    return (\n      <Fragment>\n        <div>\n          {this.renderWait()}\n          {items.map((item, i) => (\n            <ActionItem className={style.item} text={item} key={`${i}.${item}`}>\n              {!readOnly && (\n                <div className={style.actions}>\n                  <a onClick={() => this.onEdit(i)}>Edit</a>\n                  <a onClick={() => this.onRemoveAction(i)}>Remove</a>\n                  <a onClick={() => this.onCopyAction(i)}>Copy</a>\n                  {renderMoveUp(i)}\n                  {renderMoveDown(i)}\n                </div>\n              )}\n            </ActionItem>\n          ))}\n          {!readOnly && (\n            <div className={style.actions}>\n              <Button onClick={handleAddAction} bsSize=\"xsmall\">\n                <i className={classnames('material-icons', style.actionIcons)}>add</i>\n              </Button>\n              <Button onClick={this.props.pasteItem} bsSize=\"xsmall\" disabled={!this.props.canPaste}>\n                <i className={classnames('material-icons', style.actionIcons)}>content_paste</i>\n              </Button>\n            </div>\n          )}\n        </div>\n        {!readOnly && (\n          <ActionModalForm\n            show={this.state.showActionModalForm}\n            onClose={() => this.setState({ showActionModalForm: false, itemToEditIndex: null })}\n            onSubmit={this.onSubmitAction}\n            item={this.itemToOptions(items && items[this.state.itemToEditIndex])}\n          />\n        )}\n      </Fragment>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport classnames from 'classnames'\n\nconst style = require('./style.scss')\n\nexport default class EditableInput extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      value: props.value || props.defaultValue\n    }\n  }\n\n  componentDidMount() {\n    this.props.onMount && this.props.onMount(this.input)\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ value: nextProps.value || nextProps.defaultValue })\n  }\n\n  onChanged = event => {\n    let txt = event.target.value\n    if (this.props.transform) {\n      txt = this.props.transform(txt)\n    }\n\n    this.setState({ value: txt })\n  }\n\n  onKeyDown = event => {\n    if (event.keyCode === 13) {\n      // Enter\n      event.target.blur()\n    }\n  }\n\n  onBlur = () => {\n    if (this.props.readOnly) {\n      return\n    }\n\n    if (!this.props.value.length) {\n      this.props.onChanged && this.props.onChanged(this.state.defaultValue)\n    } else {\n      this.props.onChanged && this.props.onChanged(this.state.value)\n    }\n  }\n\n  render() {\n    const inputWidth = Math.max(120, 20 + 8 * this.props.value.length) + 'px'\n    // TODO: should the class check take into account `state.value` intead?\n    const inputClass = classnames(style.editableInput, this.props.className, {\n      [style.defaultValue]: this.props.value === this.props.defaultValue\n    })\n\n    return (\n      <input\n        className={inputClass}\n        type=\"text\"\n        ref={el => (this.input = el)}\n        style={{ width: inputWidth }}\n        autoComplete=\"off\"\n        value={this.state.value}\n        disabled={!!this.props.readOnly}\n        onBlur={this.onBlur}\n        onChange={this.onChanged}\n        onKeyDown={this.onKeyDown}\n      />\n    )\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../../node_modules/postcss-loader/lib/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../../node_modules/postcss-loader/lib/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../../node_modules/postcss-loader/lib/index.js!../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport { withRouter } from 'react-router-dom'\n\nconst { PortWidget, PortModel } = require('storm-react-diagrams')\n\nconst style = require('./style.scss')\n\nexport class StandardOutgoingPortModel extends PortModel {\n  constructor(name) {\n    super(name)\n  }\n\n  serialize() {\n    return _.merge(super.serialize(), {})\n  }\n\n  deSerialize(data) {\n    super.deSerialize(data)\n  }\n}\n\nexport class StandardPortWidgetDisconnected extends React.Component {\n  renderSubflowNode() {\n    const node = this.props.node\n    const index = Number(this.props.name.replace('out', ''))\n    const subflow = node.next[index].node.replace(/\\.flow\\.json/, '')\n\n    return (\n      <div className={style.label}>\n        <a href=\"javascript:void(0);\" onClick={() => this.props.history.push(`/flows/${subflow}`)}>\n          {subflow}\n        </a>\n      </div>\n    )\n  }\n\n  renderEndNode() {\n    return <div className={style.label}>End of flow</div>\n  }\n\n  renderStartNode() {\n    return <div className={style.label}>Start</div>\n  }\n\n  renderReturnNode() {\n    const node = this.props.node\n    const index = Number(this.props.name.replace('out', ''))\n    let returnTo = node.next[index].node.substr(1)\n\n    if (!returnTo.length) {\n      returnTo = '@calling'\n    }\n\n    return <div className={style.label}>Return ({returnTo})</div>\n  }\n\n  render() {\n    let type = 'normal'\n    let missingConnection = false\n\n    if (this.props.name === 'in' && this.props.node.isStartNode) {\n      type = 'start'\n    } else if (this.props.name !== 'in') {\n      const index = Number(this.props.name.replace(/out/i, ''))\n      const nextNode = _.get(this.props.node, `next.${index}`)\n\n      if (nextNode.node && nextNode.node.toLowerCase() === 'end') {\n        type = 'end'\n      } else if (/\\.flow\\.json/i.test(nextNode.node)) {\n        type = 'subflow'\n      } else if (/^#/i.test(nextNode.node)) {\n        type = 'return'\n      } else if (nextNode.node === '') {\n        missingConnection = true\n      }\n    }\n\n    const className = classnames(this.props.className, style.portContainer, {\n      [style.startPort]: type === 'start',\n      [style.subflowPort]: type === 'subflow',\n      [style.endPort]: type === 'end',\n      [style.returnPort]: type === 'return',\n      [style.portLabel]: /end|subflow|start|return/i.test(type),\n      [style.missingConnection]: missingConnection\n    })\n\n    return (\n      <div className={className}>\n        <PortWidget {...this.props} />\n        {type === 'subflow' && this.renderSubflowNode()}\n        {type === 'end' && this.renderEndNode()}\n        {type === 'start' && this.renderStartNode()}\n        {type === 'return' && this.renderReturnNode()}\n      </div>\n    )\n  }\n}\nexport const StandardPortWidget = withRouter(StandardPortWidgetDisconnected)\n\nexport class StandardIncomingPortModel extends PortModel {\n  constructor(name) {\n    super(name)\n  }\n\n  serialize() {\n    return _.merge(super.serialize(), {})\n  }\n\n  deSerialize(data) {\n    super.deSerialize(data)\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./Header.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./Header.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./Header.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { Row, Col, Tooltip, OverlayTrigger } from 'react-bootstrap'\nimport moment from 'moment'\nimport classnames from 'classnames'\n\nimport EventBus from '~/util/EventBus'\n\nconst getNotificationStyle = (styles, notification) =>\n  classnames({\n    animated: true,\n    fadeIn: true,\n    notif: true,\n    [styles.item]: true,\n    [styles['level-' + notification.level]]: true,\n    [styles['item-unread']]: !notification.read,\n    'bp-item': true,\n    ['bp-level-' + notification.level]: true,\n    'bp-item-unread': !notification.read\n  })\n\nexport default class NotificationComponent extends Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  constructor(props, context, { itemComponent, renderDivider, styles }) {\n    super(props, context)\n\n    this.itemComponent = itemComponent\n    this.renderDivider = renderDivider\n    this.styles = styles\n\n    this.state = { selectedIndex: null }\n  }\n\n  onNotifClicked(notif) {\n    this.markAsRead(notif)\n    this.context.router.history.push(notif.url)\n  }\n\n  markAsRead(notif) {\n    EventBus.default.emit('notifications.read', notif.id)\n  }\n\n  markAllAsRead = () => {\n    EventBus.default.emit('notifications.allRead')\n  }\n\n  trashAll = () => {\n    EventBus.default.emit('notifications.trashAll')\n  }\n\n  renderMarkAsReadButton(notification, index) {\n    if (this.state.selectedIndex !== index || notification.read) {\n      return null\n    }\n\n    const onClickHandler = event => {\n      event.preventDefault()\n      event.stopPropagation()\n      this.markAsRead(notification)\n      return false\n    }\n\n    const tooltip = <Tooltip id=\"ttip\">Mark as read</Tooltip>\n    const checkClassName = classnames('glyphicon glyphicon-ok', this.styles['mark-read-btn'])\n\n    return (\n      <OverlayTrigger placement=\"left\" overlay={tooltip}>\n        <em className={checkClassName} onClick={onClickHandler} />\n      </OverlayTrigger>\n    )\n  }\n\n  renderMenuItem(notification, index) {\n    const ItemComponent = this.itemComponent\n    const styles = this.styles\n    const date = moment(new Date(notification.date)).fromNow()\n    const className = getNotificationStyle(styles, notification)\n    const checkButton = this.renderMarkAsReadButton(notification, index)\n    const iconClass = classnames('icon', 'material-icons', this.styles.icon)\n\n    return (\n      <ItemComponent\n        key={notification.id}\n        className={className}\n        onMouseOver={() => this.setState({ selectedIndex: index })}\n        onMouseLeave={() => this.setState({ selectedIndex: -1 })}\n      >\n        <Row>\n          <Col xs={11} onClick={() => this.onNotifClicked(notification)}>\n            <strong className={styles.header}>\n              <i className={iconClass}>{notification.icon}</i>\n              &nbsp; {notification.name}\n            </strong>\n            {this.renderMessage(notification.message)}\n            <small className=\"text-muted\">{date}</small>\n          </Col>\n          <Col xs={1} className={styles.markAsReadButton}>\n            {checkButton}\n          </Col>\n        </Row>\n      </ItemComponent>\n    )\n  }\n\n  renderMenuItems(displayedNotifications) {\n    const ItemComponent = this.itemComponent\n\n    const renderDivider = index => {\n      if (index + 1 === displayedNotifications.length) {\n        return null\n      } else {\n        return this.renderDivider && <ItemComponent divider style={{ margin: 0 }} />\n      }\n    }\n\n    return displayedNotifications.map((notif, i) => [this.renderMenuItem(notif, i), renderDivider(i)])\n  }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import { checkMultipleRoles } from '@botpress/util-roles'\n\nexport const operationAllowed = ({ user, res, op }) => {\n  if (!user) {\n    return false\n  }\n  if (user.roles && !checkMultipleRoles(user.roles, op, res)) {\n    return false\n  }\n  return true\n}\n\nconst PermissionsChecker = ({ user, res, op, children, fallback = null }) =>\n  operationAllowed({ user, res, op }) ? children : fallback\n\nexport default PermissionsChecker\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__panel-center___3WCxu {\\n  width: 320px;\\n  height: 275px;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  margin: auto; }\\n\\n.style__panel-center___3WCxu.style__panel-center-tall___sjGe3 {\\n  height: 310px; }\\n\\n.style__panel-center___3WCxu .panel-body {\\n  position: relative; }\\n\\n.style__panel-center___3WCxu .style__header___13gpi {\\n  border-bottom: 1px solid #e4eaec; }\\n\\n.style__error___WAnN9 {\\n  text-align: center;\\n  color: #e84a4a;\\n  font-weight: 600; }\\n\\n.style__success___3ypEm {\\n  color: #37e85e; }\\n\\n.style__loading___1DND- {\\n  width: 100%;\\n  height: 100%;\\n  background-color: white;\\n  opacity: 0.8;\\n  position: absolute;\\n  top: 0;\\n  left: 0; }\\n\\n.style__logo___3ZejJ {\\n  text-align: center;\\n  margin-bottom: 30px; }\\n  .style__logo___3ZejJ img {\\n    width: 150px; }\\n\\n.style__body___2NrcJ {\\n  background-color: #e4eaec; }\\n\\n.style__cloudContainer___j-q40 {\\n  text-align: center; }\\n  .style__cloudContainer___j-q40 .btn {\\n    background: black;\\n    color: white;\\n    border: none;\\n    border-radius: 0; }\\n\\n.style__cloudButton___Pq9ru {\\n  background: black;\\n  border: none;\\n  color: white;\\n  border-radius: 0; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"panel-center\": \"style__panel-center___3WCxu\",\n\t\"panel-center-tall\": \"style__panel-center-tall___sjGe3\",\n\t\"header\": \"style__header___13gpi\",\n\t\"error\": \"style__error___WAnN9\",\n\t\"success\": \"style__success___3ypEm\",\n\t\"loading\": \"style__loading___1DND-\",\n\t\"logo\": \"style__logo___3ZejJ\",\n\t\"body\": \"style__body___2NrcJ\",\n\t\"cloudContainer\": \"style__cloudContainer___j-q40\",\n\t\"cloudButton\": \"style__cloudButton___Pq9ru\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport qs from 'query-string'\n\nimport { Button, FormGroup, FormControl, ControlLabel, HelpBlock } from 'react-bootstrap'\nimport classnames from 'classnames'\n\nimport styles from './style.scss'\nimport { login } from '~/util/Auth'\n\nexport default class LoginPage extends Component {\n  static contextTypes = {\n    router: PropTypes.object\n  }\n\n  state = {\n    user: 'admin',\n    password: '',\n    error: null,\n    loading: false\n  }\n\n  componentDidMount() {\n    const app = document.getElementById('app')\n    app.className = classnames(app.className, 'bp-body-login')\n  }\n\n  handlePasswordChange = event => {\n    this.setState({ password: event.target.value })\n  }\n\n  handleUserChange = event => {\n    this.setState({ user: event.target.value })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault()\n    this.setState({ loading: true })\n\n    login(this.state.user, this.state.password)\n      .then(result => {\n        this.setState({ error: null })\n        this.context.router.history.push(this.props.location.query.returnTo || '/')\n      })\n      .catch(err => {\n        this.setState({ error: err.message, loading: false })\n      })\n  }\n\n  renderLoading() {\n    const className = classnames(styles.loading, 'bp-loading')\n    return (\n      this.state.loading && (\n        <div className={className}>\n          <div\n            style={{\n              marginTop: '140px'\n            }}\n            className=\"whirl helicopter\"\n          />\n        </div>\n      )\n    )\n  }\n\n  componentWillUnmount() {\n    const app = document.getElementById('app')\n    app.className = classnames(app.className.replace('bp-body-login', ''))\n  }\n\n  renderLoginCloud() {\n    const { endpoint, botId, env } = window.BOTPRESS_CLOUD_SETTINGS\n\n    const query = qs.stringify({\n      action: 'redirect',\n      direct: 1,\n      botId: botId,\n      env: env,\n      params: JSON.stringify({ returnTo: this.props.location.query.returnTo || '/' })\n    })\n\n    const url = `${endpoint}/login?${query}`\n    return (\n      <div className={styles.cloudContainer}>\n        <Button href={url}>\n          Sign in with <b style={{ fontWeight: 600 }}>Botpress Cloud</b>\n        </Button>\n      </div>\n    )\n  }\n\n  renderLoginRoot() {\n    return (\n      <form onSubmit={this.handleSubmit}>\n        <FormGroup>\n          <ControlLabel>User</ControlLabel>\n          <FormControl type=\"text\" placeholder=\"\" value={this.state.user} onChange={this.handleUserChange} readOnly />\n        </FormGroup>\n        <FormGroup>\n          <ControlLabel>Password</ControlLabel>\n          <FormControl\n            type=\"password\"\n            placeholder=\"\"\n            value={this.state.password}\n            onChange={this.handlePasswordChange}\n          />\n        </FormGroup>\n        <Button className=\"pull-right\" type=\"submit\">\n          Login\n        </Button>\n      </form>\n    )\n  }\n\n  render() {\n    const hasChangedPassword = !!this.props.location.query.reset\n    const hasAnError = !!this.state.error\n\n    const tallPanelStyle = hasChangedPassword || hasAnError\n\n    const panelStyle = classnames('panel')\n\n    const blockStyle = classnames('bp-login', styles['panel-center'], {\n      [styles['panel-center-tall']]: tallPanelStyle\n    })\n\n    const logoStyle = classnames('bp-logo', styles['logo'])\n\n    const headerStyle = classnames('panel-heading', 'text-center', styles.header, 'bp-header')\n    const errorStyle = classnames(styles.error)\n    const successStyle = classnames(styles.success)\n\n    const loginBody = window.BOTPRESS_CLOUD_ENABLED ? this.renderLoginCloud() : this.renderLoginRoot()\n\n    const error = this.state.error || this.props.location.query.error\n\n    return (\n      <div>\n        <div className=\"block-center mt-xl wd-xl\">\n          <div className={blockStyle}>\n            <div className={logoStyle}>\n              <img src=\"/img/logo_grey.png\" />\n            </div>\n            <div className={panelStyle}>\n              <div className={headerStyle}>\n                <h4 style={{ textTransform: 'none', fontWeight: 600 }}>Login</h4>\n              </div>\n              <div className=\"panel-body\">\n                {this.renderLoading()}\n                {error && <p className={errorStyle}>{error}</p>}\n                {hasChangedPassword && <p className={successStyle}>Password changed successfully</p>}\n                {loginBody}\n              </div>{' '}\n              {/* End Panel Body */}\n            </div>{' '}\n            {/* End Panel */}\n          </div>{' '}\n          {/* End Block */}\n        </div>\n      </div>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__container___1FP9B {\\n  margin-top: 50px;\\n  border-top: 1px solid #ffffff;\\n  background-color: #eee;\\n  color: #2f2f2f; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"container\": \"style__container___1FP9B\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\n\nimport InjectedModuleView from '~/components/PluginInjectionSite/module'\nimport { moduleViewNames } from '~/util/Modules'\n\nclass InjectionSite extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  renderNotFound = () => {\n    return <div /> // TODO Render something meaningful\n  }\n\n  render() {\n    const { site: injectionSite, modules } = this.props\n    const plugins = moduleViewNames(modules, injectionSite)\n\n    return (\n      <div className=\"bp-plugins bp-injection-site\">\n        {plugins.map(({ moduleName, viewName }, i) => (\n          <InjectedModuleView key={i} moduleName={moduleName} viewName={viewName} onNotFound={this.renderNotFound} />\n        ))}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({ modules: state.modules })\n\nexport default connect(mapStateToProps)(InjectionSite)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__logs-panel___RpJrJ {\\n  background-color: #191f28;\\n  color: rgba(255, 255, 255, 0.85);\\n  border: none;\\n  margin-top: -4px;\\n  border-radius: 0px;\\n  border-bottom-right-radius: 3px;\\n  border-bottom-left-radius: 3px;\\n  border-top: #b1b1b1 2px solid;\\n  min-height: 300px;\\n  position: relative;\\n  font-family: Courier;\\n  font-style: normal;\\n  font-variant: normal; }\\n\\n.style__logs-panel___RpJrJ .panel-body {\\n  padding: 15px 15px 30px 15px; }\\n\\n.style__logs-panel-footer___zGeB5 {\\n  position: absolute;\\n  bottom: 0px;\\n  text-align: center;\\n  width: 100%;\\n  background-color: #404040;\\n  border-bottom-right-radius: 3px;\\n  border-bottom-left-radius: 3px;\\n  padding: 2px 0;\\n  cursor: pointer; }\\n\\n.style__logs-panel-footer___zGeB5 a {\\n  color: white; }\\n\\n.style__logs-panel-footer___zGeB5 a:hover {\\n  color: white; }\\n\\n.style__logs-panel-footer___zGeB5:hover {\\n  background-color: #505050; }\\n\\n.style__panel___2yrFM {\\n  margin-bottom: 0px; }\\n\\n.style__panel-checkbox___392gs {\\n  margin: 8px 0; }\\n\\nul.style__events___NOrnz {\\n  word-wrap: break-word;\\n  list-style: none;\\n  padding: 0; }\\n\\n.style__line___1oKUJ span {\\n  margin-left: 7px; }\\n\\n.style__line___1oKUJ .style__time___1s1Iw {\\n  color: #808080; }\\n\\n.style__line___1oKUJ .style__level-silly___2jWbF {\\n  color: #6c6c6c; }\\n\\n.style__line___1oKUJ .style__level-debug___2H58e {\\n  color: #b59fff; }\\n\\n.style__line___1oKUJ .style__level-verbose___2Hyqt {\\n  color: #a4fffc; }\\n\\n.style__line___1oKUJ .style__level-info___aCcmU {\\n  color: #6cbdff; }\\n\\n.style__line___1oKUJ .style__level-warn___3LWOH {\\n  color: #fce465; }\\n\\n.style__line___1oKUJ .style__level-error___YQJqr {\\n  color: #fe5151; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"logs-panel\": \"style__logs-panel___RpJrJ\",\n\t\"logs-panel-footer\": \"style__logs-panel-footer___zGeB5\",\n\t\"panel\": \"style__panel___2yrFM\",\n\t\"panel-checkbox\": \"style__panel-checkbox___392gs\",\n\t\"events\": \"style__events___NOrnz\",\n\t\"line\": \"style__line___1oKUJ\",\n\t\"time\": \"style__time___1s1Iw\",\n\t\"level-silly\": \"style__level-silly___2jWbF\",\n\t\"level-debug\": \"style__level-debug___2H58e\",\n\t\"level-verbose\": \"style__level-verbose___2Hyqt\",\n\t\"level-info\": \"style__level-info___aCcmU\",\n\t\"level-warn\": \"style__level-warn___3LWOH\",\n\t\"level-error\": \"style__level-error___YQJqr\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport { Button, Checkbox, Panel } from 'react-bootstrap'\nimport axios from 'axios'\nimport _ from 'lodash'\nimport classnames from 'classnames'\nimport moment from 'moment'\n\nimport PageHeader from '~/components/Layout/PageHeader'\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\n\nimport styles from './style.scss'\n\nclass LoggerView extends Component {\n  state = {\n    autoRefresh: true,\n    logs: null,\n    limit: 25,\n    hasMore: false\n  }\n\n  componentDidMount() {\n    if (!this.state.logs) {\n      this.getArchiveKey()\n      this.queryLogs()\n      this.refreshInterval = setInterval(this.queryLogs, 1000)\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.refreshInterval)\n    this.cancelLoading = true\n  }\n\n  loadMore = () => {\n    this.setState(({ limit }) => ({ limit: limit + 50 }))\n  }\n\n  toggleAutoRefresh = () => {\n    if (this.state.autoRefresh) {\n      clearInterval(this.refreshInterval)\n    } else {\n      this.refreshInterval = setInterval(this.queryLogs, 1000)\n    }\n\n    this.setState({ autoRefresh: !this.state.autoRefresh })\n  }\n\n  renderLine(line, index) {\n    const time = moment(new Date(line.timestamp)).format('MMM DD HH:mm:ss')\n    const message = line.message.replace(/\\[\\d\\d?m/gi, '')\n\n    return (\n      <li key={`${index}.${message}`} className={styles.line}>\n        <span className={styles.time}>{time}</span>\n        <span className={styles['level-' + line.level]}>{line.level + ': '}</span>\n        <span className={styles.message}>{message}</span>\n      </li>\n    )\n  }\n\n  renderLoading() {\n    return <div style={{ marginTop: '20px' }} className=\"whirl traditional\" />\n  }\n\n  getArchiveKey() {\n    axios.get('/api/logs/key').then(({ data }) => this.setState({ archiveUrl: '/api/logs/archive/' + data.secret }))\n  }\n\n  queryLogs = () => {\n    axios\n      .get('/api/logs', {\n        params: {\n          limit: this.state.limit\n        }\n      })\n      .then(result => {\n        if (this.cancelLoading) {\n          return\n        }\n        this.setState({\n          logs: result.data,\n          hasMore: result.data && result.data.length >= this.state.limit\n        })\n      })\n  }\n\n  renderLines() {\n    if (!_.isArray(this.state.logs)) {\n      return this.renderLoading()\n    }\n\n    return this.state.logs.filter(x => _.isString(x.message)).map(this.renderLine)\n  }\n\n  render() {\n    const logs = this.renderLines()\n    const logsPanelClassName = classnames('panel', 'panel-default', styles['logs-panel'])\n    const canLoadMore = this.state.limit < 500 && this.state.hasMore\n\n    return (\n      <ContentWrapper>\n        <PageHeader>\n          <span> Logs</span>\n        </PageHeader>\n        <Panel className={styles.panel}>\n          <Panel.Body>\n            <form className=\"pull-left\">\n              <Checkbox\n                className={styles['panel-checkbox']}\n                checked={this.state.autoRefresh}\n                inline\n                onChange={this.toggleAutoRefresh}\n              >\n                Auto refresh\n              </Checkbox>\n            </form>\n            <div className=\"pull-right\">\n              <Button href={this.state.archiveUrl}>Export logs archive</Button>\n            </div>\n          </Panel.Body>\n        </Panel>\n        <div className={logsPanelClassName}>\n          <div className=\"panel-body\">\n            <ul className={styles.events}>{logs}</ul>\n          </div>\n          {canLoadMore && (\n            <div href=\"#\" className={styles['logs-panel-footer']} onClick={this.loadMore}>\n              Load more\n            </div>\n          )}\n        </div>\n      </ContentWrapper>\n    )\n  }\n}\n\nexport default LoggerView\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__markAsReadButton___1Bf6X {\\n  top: 22px;\\n  right: 12px; }\\n\\n.style__item___ScUPF {\\n  padding-top: 4px;\\n  width: 100%;\\n  border-left: 4px solid #e2e2e2; }\\n\\n.style__item-unread___18PE2.style__level-info___2F8NP {\\n  background-color: #f6f8ff;\\n  border-left: 4px solid #aeccee; }\\n\\n.style__item-unread___18PE2.style__level-error___2wEXv {\\n  background-color: #fff7f6;\\n  border-left: 4px solid #eeb2ae; }\\n\\n.style__item-unread___18PE2.style__level-success___3d5sa {\\n  background-color: #f6fff7;\\n  border-left: 4px solid #aeeeb6; }\\n\\n.style__topMenu___2mLNq {\\n  padding: 10px 12px;\\n  border-bottom: 1px solid #d1d1d1;\\n  color: #5f5f5f;\\n  font-size: 13px; }\\n\\n.style__dropdown___3XUgg {\\n  padding: 0; }\\n\\n.style__header___1ileE {\\n  font-size: 16px; }\\n\\n.style__message___3t56Z {\\n  margin-top: 7px;\\n  margin-bottom: 5px; }\\n\\n.style__bar-btn___3u9s7 {\\n  margin-left: 10px; }\\n\\n.style__mark-read-btn___2xGKa:hover {\\n  cursor: pointer; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"markAsReadButton\": \"style__markAsReadButton___1Bf6X\",\n\t\"item\": \"style__item___ScUPF\",\n\t\"item-unread\": \"style__item-unread___18PE2\",\n\t\"level-info\": \"style__level-info___2F8NP\",\n\t\"level-error\": \"style__level-error___2wEXv\",\n\t\"level-success\": \"style__level-success___3d5sa\",\n\t\"topMenu\": \"style__topMenu___2mLNq\",\n\t\"dropdown\": \"style__dropdown___3XUgg\",\n\t\"header\": \"style__header___1ileE\",\n\t\"message\": \"style__message___3t56Z\",\n\t\"bar-btn\": \"style__bar-btn___3u9s7\",\n\t\"mark-read-btn\": \"style__mark-read-btn___2xGKa\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import { connect } from 'react-redux'\nimport { ListGroup, ListGroupItem, Panel, Button, Tooltip, OverlayTrigger } from 'react-bootstrap'\nimport _ from 'lodash'\n\nimport NotificationComponent from '~/components/Notifications'\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\n\nimport styles from './style.scss'\n\n// TODO: extending components is discouraged,\n// should be reworked with composition eventually\nclass NotificationHub extends NotificationComponent {\n  constructor(props, context) {\n    super(props, context, {\n      itemComponent: ListGroupItem,\n      renderDivider: false,\n      styles: styles\n    })\n  }\n\n  renderMessage(message) {\n    return <p className={styles.message}>{message}</p>\n  }\n\n  render() {\n    const notifications = this.props.notifications || []\n    const unreadCount = _.filter(notifications, { read: false }).length\n    const canTrash = notifications.length > 0\n\n    const trashTip = <Tooltip id=\"ttip\">Delete all</Tooltip>\n    const readTip = <Tooltip id=\"ttip\">Mark all as read</Tooltip>\n\n    return (\n      <ContentWrapper>\n        <PageHeader>\n          <span> Notifications</span>\n        </PageHeader>\n        <Panel>\n          <Panel.Body>\n            <div className=\"pull-right\">\n              <OverlayTrigger placement=\"left\" overlay={readTip}>\n                <Button disabled={unreadCount === 0} onClick={this.markAllAsRead}>\n                  <em className=\"glyphicon glyphicon-eye-open\" />\n                </Button>\n              </OverlayTrigger>\n              <OverlayTrigger placement=\"left\" overlay={trashTip}>\n                <Button className={styles['bar-btn']} disabled={!canTrash} onClick={this.trashAll}>\n                  <em className=\"glyphicon glyphicon-trash\" />\n                </Button>\n              </OverlayTrigger>\n            </div>\n          </Panel.Body>\n        </Panel>\n        <ListGroup\n          style={{\n            padding: 0\n          }}\n        >\n          {this.renderMenuItems(notifications)}\n        </ListGroup>\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({ notifications: state.notifications })\n\nexport default connect(mapStateToProps)(NotificationHub)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport _ from 'lodash'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\n\nimport InjectedModuleView from '~/components/PluginInjectionSite/module'\n\nclass ModuleView extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return JSON.stringify(nextProps) !== JSON.stringify(this.props)\n  }\n\n  renderLink(module) {\n    if (!module || !module.homepage) {\n      return null\n    }\n    return (\n      <small>\n        {' '}\n        &middot;{' '}\n        <a target=\"_blank\" href={module.homepage}>\n          docs\n        </a>\n      </small>\n    )\n  }\n\n  renderNotFound(err) {\n    return (\n      <div className=\"panel panel-warning\">\n        <div className=\"panel-heading\">Module not found</div>\n        <div className=\"panel-body\">\n          <h4>The module is not properly registered</h4>\n          <p>\n            It seems like you are trying to load a module that has not been registered. Please make sure the module is\n            registered then restart the bot.\n          </p>\n          {err && <p>{err}</p>}\n          <p>\n            {/* TODO update doc & help */}\n            <a role=\"button\" className=\"btn btn-primary btn-lg\">\n              Learn more\n            </a>\n          </p>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const modules = this.props.modules\n    if (!modules) {\n      return null\n    }\n\n    const { moduleName, subView } = this.props.match.params\n    const module = _.find(modules, { name: moduleName })\n\n    const contents = module ? (\n      <InjectedModuleView moduleName={moduleName} viewName={subView} onNotFound={this.renderNotFound} />\n    ) : (\n      this.renderNotFound()\n    )\n\n    const header = module ? (\n      <span>\n        {module && module.menuText} {this.renderLink(module)}\n      </span>\n    ) : (\n      `Module ${moduleName} Not Found`\n    )\n\n    const stretch = _.get(module, 'moduleView.stretched')\n\n    return (\n      <ContentWrapper stretch={stretch}>\n        <PageHeader>{header}</PageHeader>\n        {contents}\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  modules: state.modules\n})\n\nexport default connect(mapStateToProps)(ModuleView)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__workspace___2YnVU {\\n  width: 100%;\\n  min-height: 500px;\\n  height: calc(100vh - 93px); }\\n\\n.style__workspace___2YnVU .Resizer.vertical {\\n  background: black;\\n  width: 8px;\\n  cursor: col-resize;\\n  border-left: 5px solid rgba(255, 255, 255, 0) !important;\\n  border-right: 5px solid rgba(255, 255, 255, 0) !important;\\n  opacity: 0.1;\\n  z-index: 1000;\\n  margin: 0 -5px; }\\n  .style__workspace___2YnVU .Resizer.vertical:hover {\\n    opacity: 0.2; }\\n\\n.style__workspace___2YnVU #style__diagramContainer___32HA9 {\\n  outline: none !important; }\\n\\n.style__workspace___2YnVU .Resizer.horizontal {\\n  background: black;\\n  height: 8px;\\n  cursor: row-resize;\\n  border-top: 3px solid rgba(255, 255, 255, 0) !important;\\n  border-bottom: 3px solid rgba(255, 255, 255, 0) !important;\\n  opacity: 0.1;\\n  margin-top: -7px;\\n  padding-top: 5px; }\\n  .style__workspace___2YnVU .Resizer.horizontal:hover {\\n    opacity: 0.2; }\\n\\n.style__workspace___2YnVU a[role='tab'] {\\n  padding: 2px 5px;\\n  font-size: 11px;\\n  font-weight: 500;\\n  border-radius: 0; }\\n\\n.style__workspace___2YnVU .horizontal.Pane1 {\\n  border-bottom: 2px #cecece solid; }\\n\\n.style__workspace___2YnVU .SplitPane {\\n  height: calc(100vh - 93px) !important; }\\n\\n.style__diagram___Rvob2 {\\n  width: 100%;\\n  height: 100%; }\\n\\n.style__sidePanel___39BXV {\\n  width: 100%;\\n  height: calc(100vh - 93px);\\n  background: #fafafa;\\n  border-right: 2px solid #cecece;\\n  padding: 0;\\n  overflow-y: auto; }\\n\\n.style__diagram___Rvob2 .storm-diagrams-canvas {\\n  width: 100%;\\n  height: 100%;\\n  background: url(\\\"/img/grid.png\\\") repeat; }\\n\\n.style__wrapper___38OL6 {\\n  background-color: white; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"workspace\": \"style__workspace___2YnVU\",\n\t\"diagramContainer\": \"style__diagramContainer___32HA9\",\n\t\"diagram\": \"style__diagram___Rvob2\",\n\t\"sidePanel\": \"style__sidePanel___39BXV\",\n\t\"wrapper\": \"style__wrapper___38OL6\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component, Fragment } from 'react'\nimport classnames from 'classnames'\n\nimport { Tabs, Tab, Badge } from 'react-bootstrap'\n\nimport ActionSection from './ActionSection'\nimport TransitionSection from './TransitionSection'\n\nconst style = require('./style.scss')\n\nexport default class FlowPropertiesPanel extends Component {\n  render() {\n    const { readOnly } = this.props\n\n    const catchAll = Object.assign(\n      {\n        onReceive: [],\n        next: []\n      },\n      this.props.currentFlow && this.props.currentFlow.catchAll\n    )\n\n    return (\n      <div className={classnames(style.node)}>\n        <Tabs animation={false} id=\"node-props-modal-flow-tabs\">\n          <Tab\n            eventKey=\"on_receive\"\n            title={\n              <Fragment>\n                <Badge>{(catchAll.onReceive && catchAll.onReceive.length) || 0}</Badge> On Receive\n              </Fragment>\n            }\n          >\n            <ActionSection\n              readOnly={readOnly}\n              items={catchAll.onReceive}\n              header=\"On Receive\"\n              onItemsUpdated={items => this.props.updateFlow({ catchAll: { ...catchAll, onReceive: items } })}\n              copyItem={item => this.props.copyFlowNodeElement({ action: item })}\n              pasteItem={() => this.props.pasteFlowNodeElement('onReceive')}\n              canPaste={Boolean(this.props.buffer.action)}\n            />\n          </Tab>\n          <Tab\n            eventKey=\"transitions\"\n            title={\n              <Fragment>\n                <Badge>{(catchAll.next && catchAll.next.length) || 0}</Badge> Transitions\n              </Fragment>\n            }\n          >\n            <TransitionSection\n              readOnly={readOnly}\n              items={catchAll.next}\n              header=\"Transitions\"\n              currentFlow={this.props.currentFlow}\n              subflows={this.props.subflows}\n              onItemsUpdated={items => this.props.updateFlow({ catchAll: { ...catchAll, next: items } })}\n              copyItem={item => this.props.copyFlowNodeElement({ transition: item })}\n              pasteItem={() => this.props.pasteFlowNodeElement('next')}\n              canPaste={Boolean(this.props.buffer.transition)}\n            />\n          </Tab>\n        </Tabs>\n      </div>\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\n\nimport { Panel, Tabs, Tab, Badge, Button } from 'react-bootstrap'\n\nimport PermissionsChecker from '~/components/Layout/PermissionsChecker'\nimport EditableInput from '../common/EditableInput'\nimport TransitionSection from './TransitionSection'\n\nconst style = require('./style.scss')\n\nexport default class SkillCallNodePropertiesPanel extends Component {\n  renameNode = text => {\n    if (text && text !== this.props.node.name) {\n      this.props.updateNode({ name: text })\n    }\n  }\n\n  transformText(text) {\n    return text.replace(/[^a-z0-9-_\\.]/gi, '_')\n  }\n\n  render() {\n    const { node, readOnly } = this.props\n\n    const onNameMounted = input => {\n      if (input.value.startsWith('node-')) {\n        input.focus()\n        input.setSelectionRange(0, 1000)\n      }\n    }\n\n    const editSkill = () => this.props.requestEditSkill(node.id)\n    const seeFlow = () => this.props.goToFlow(node.flow)\n\n    return (\n      <div className={style.node}>\n        <Panel>\n          <EditableInput\n            readOnly={readOnly}\n            onMount={onNameMounted}\n            value={node.name}\n            className={style.name}\n            onChanged={this.renameNode}\n            transform={this.transformText}\n          />\n          <div style={{ padding: '5px' }}>\n            <PermissionsChecker user={this.props.user} op=\"write\" res=\"bot.skills\">\n              <Button onClick={editSkill}>Edit skill</Button>\n            </PermissionsChecker>\n            <Button onClick={seeFlow}>See flow</Button>\n          </div>\n        </Panel>\n        <Tabs animation={false} id=\"node-props-modal-skill-node-tabs\">\n          <Tab\n            eventKey=\"transitions\"\n            title={\n              <Fragment>\n                <Badge>{(node.next && node.next.length) || 0}</Badge> Transitions\n              </Fragment>\n            }\n          >\n            <TransitionSection\n              readOnly={readOnly}\n              items={node.next}\n              header=\"Transitions\"\n              subflows={this.props.subflows}\n              onItemsUpdated={items => this.props.updateNode({ next: items })}\n            />\n          </Tab>\n        </Tabs>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Modal, Button, Radio, FormControl, Alert } from 'react-bootstrap'\nimport Select from 'react-select'\nimport _ from 'lodash'\n\nconst style = require('./style.scss')\n\nexport default class ConditionModalForm extends Component {\n  state = {\n    typeOfTransition: 'end',\n    flowToSubflow: null,\n    flowToNode: null,\n    transitionError: null,\n    conditionError: null\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { item } = nextProps\n\n    if (this.props.show || !nextProps.show) {\n      return\n    }\n\n    if (item && item.node) {\n      let typeOfTransition = item.node.indexOf('.') !== -1 ? 'subflow' : 'node'\n      typeOfTransition = item.node === 'END' ? 'end' : typeOfTransition\n      typeOfTransition = /^#/.test(item.node) ? 'return' : typeOfTransition\n\n      this.setState({\n        typeOfTransition,\n        condition: item.condition,\n        flowToSubflow: typeOfTransition === 'subflow' ? item.node : null,\n        flowToNode: typeOfTransition === 'node' ? item.node : null,\n        returnToNode: typeOfTransition === 'return' ? item.node.substr(1) : ''\n      })\n    } else {\n      this.resetForm({ condition: (item && item.condition) || '' })\n    }\n\n    this.setState({ isEdit: Boolean(item) })\n  }\n\n  changeTransitionType(type) {\n    const subflowOptions = this.getSubflowOptions()\n    const nodeOptions = this.getNodeOptions()\n    this.setState({\n      typeOfTransition: type,\n      flowToSubflow: this.state.flowToSubflow || _.get(subflowOptions, '[0].value'),\n      flowToNode: this.state.flowToNode || _.get(nodeOptions, '[0].value')\n    })\n  }\n\n  validation() {\n    if (this.state.typeOfTransition === 'subflow' && !this.state.flowToSubflow) {\n      this.setState({\n        transitionError: 'You must select a subflow to transition to'\n      })\n\n      return false\n    }\n\n    if (this.state.typeOfTransition === 'node' && !this.state.flowToNode && this.getNodeOptions().length > 0) {\n      this.setState({\n        transitionError: 'You must select a subflow to transition to'\n      })\n\n      return false\n    }\n\n    if (_.isEmpty(this.state.condition)) {\n      this.setState({\n        conditionError: 'Specify a condition'\n      })\n\n      return false\n    }\n\n    this.setState({\n      conditionError: null,\n      transitionError: null\n    })\n\n    return true\n  }\n\n  resetForm(props) {\n    this.setState({\n      typeOfTransition: 'node',\n      flowToSubflow: null,\n      flowToNode: null,\n      returnToNode: '',\n      conditionError: null,\n      transitionError: null,\n      condition: '',\n      ...props\n    })\n  }\n\n  onSubmitClick = () => {\n    if (!this.validation()) {\n      return\n    }\n    const payload = { condition: this.state.condition }\n\n    if (this.state.typeOfTransition === 'subflow') {\n      payload.node = _.get(this.state, 'flowToSubflow.value') || _.get(this.state, 'flowToSubflow')\n    } else if (this.state.typeOfTransition === 'end') {\n      payload.node = 'END'\n    } else if (this.state.typeOfTransition === 'node') {\n      let earlierNode = this.state.isEdit && _.get(this.props, 'item.node')\n\n      if (\n        earlierNode &&\n        (/^END$/i.test(earlierNode) || earlierNode.startsWith('#') || /\\.flow\\.json/i.test(earlierNode))\n      ) {\n        earlierNode = null\n      }\n\n      payload.node = _.get(this.state, 'flowToNode.value') || earlierNode || ''\n    } else if (this.state.typeOfTransition === 'return') {\n      payload.node = '#' + this.state.returnToNode\n    } else {\n      payload.node = ''\n    }\n\n    this.props.onSubmit(payload)\n    this.resetForm()\n  }\n\n  getSubflowOptions() {\n    return this.props.subflows.map(flow => ({\n      label: flow,\n      value: flow\n    }))\n  }\n\n  renderSubflowChoice() {\n    return (\n      <Select\n        name=\"flowToSubflow\"\n        value={this.state.flowToSubflow}\n        options={this.getSubflowOptions()}\n        onChange={val => {\n          this.setState({ flowToSubflow: val && val.value })\n        }}\n      />\n    )\n  }\n\n  renderReturnToNode() {\n    const updateNode = value =>\n      this.setState({\n        returnToNode: value\n      })\n\n    return (\n      <div className={style.returnToNodeSection}>\n        <div>Return to node called:</div>\n        <input type=\"text\" value={this.state.returnToNode} onChange={e => updateNode(e.target.value)} />\n        <div>\n          <input\n            type=\"checkbox\"\n            id=\"rPreviousNode\"\n            checked={_.isEmpty(this.state.returnToNode)}\n            onChange={() => updateNode('')}\n          />\n          <label htmlFor=\"rPreviousNode\">Return to calling node</label>\n        </div>\n      </div>\n    )\n  }\n\n  getNodeOptions() {\n    const flow = this.props.currentFlow\n    return (flow && flow.nodes.map(({ name }) => ({ label: name, value: name }))) || []\n  }\n\n  renderNodesChoice() {\n    if (!this.props.currentFlow) {\n      return null\n    }\n\n    const nodeOptions = this.getNodeOptions()\n    return (\n      <Select\n        name=\"flowToNode\"\n        value={this.state.flowToNode}\n        options={nodeOptions}\n        onChange={flowToNode => this.setState({ flowToNode })}\n      />\n    )\n  }\n\n  onConditionChanged = event => {\n    this.setState({ condition: event.target.value })\n  }\n\n  render() {\n    return (\n      <Modal animation={false} show={this.props.show} onHide={this.props.onClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>{this.state.isEdit ? 'Edit' : 'New'} condition to transition</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h5>Condition:</h5>\n          <div className={style.section}>\n            {this.state.conditionError && <Alert bsStyle=\"danger\">{this.state.conditionError}</Alert>}\n            <Radio defaultChecked={true}>Raw Expression</Radio>\n            <FormControl\n              type=\"text\"\n              placeholder=\"Javascript expression\"\n              value={this.state.condition}\n              onChange={this.onConditionChanged}\n            />\n          </div>\n          <h5>When condition is met, do:</h5>\n          <div className={style.section}>\n            <Radio checked={this.state.typeOfTransition === 'end'} onChange={() => this.changeTransitionType('end')}>\n              End flow <span className={style.endBloc} />\n            </Radio>\n            <Radio\n              checked={this.state.typeOfTransition === 'return'}\n              onChange={() => this.changeTransitionType('return')}\n            >\n              Return to previous flow <span className={style.returnBloc} />\n            </Radio>\n            {this.state.typeOfTransition === 'return' && this.renderReturnToNode()}\n            <Radio checked={this.state.typeOfTransition === 'node'} onChange={() => this.changeTransitionType('node')}>\n              Transition to node <span className={style.nodeBloc} />\n            </Radio>\n            {this.state.typeOfTransition === 'node' && this.renderNodesChoice()}\n            <Radio\n              checked={this.state.typeOfTransition === 'subflow'}\n              onChange={() => this.changeTransitionType('subflow')}\n            >\n              Transition to subflow <span className={style.subflowBloc} />\n            </Radio>\n            {this.state.transitionError && <Alert bsStyle=\"danger\">{this.state.transitionError}</Alert>}\n            {this.state.typeOfTransition === 'subflow' && this.renderSubflowChoice()}\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={this.props.onClose}>Cancel</Button>\n          <Button onClick={this.onSubmitClick} bsStyle=\"primary\">\n            {this.state.isEdit ? 'Update' : 'Create'}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"h5 {\\n  font-weight: 500; }\\n\\n.style__section___3upAJ {\\n  padding: 5px 0 5px 20px;\\n  border-left: 3px solid #ddd; }\\n\\n.style__endBloc___3sG_O,\\n.style__nodeBloc___dQ4tK,\\n.style__subflowBloc___1_Bfl,\\n.style__returnBloc___25Y4o {\\n  display: inline-block;\\n  width: 20px;\\n  height: 15px;\\n  margin-top: 5px; }\\n\\n.style__returnBloc___25Y4o {\\n  background-color: darkcyan; }\\n\\n.style__endBloc___3sG_O {\\n  background-color: #e62eea; }\\n\\n.style__nodeBloc___dQ4tK {\\n  background-color: black; }\\n\\n.style__subflowBloc___1_Bfl {\\n  background-color: blue; }\\n\\n.style__tip___3zVXd {\\n  font-size: 90%;\\n  color: #777; }\\n\\n.style__returnToNodeSection___190hz input {\\n  padding: 5px; }\\n\\n.style__node___nSk8m {\\n  position: relative; }\\n  .style__node___nSk8m .panel-heading {\\n    text-transform: none;\\n    padding: 8px 5px 5px 5px; }\\n    .style__node___nSk8m .panel-heading .panel-title {\\n      font-weight: 600;\\n      font-size: 12px; }\\n  .style__node___nSk8m .tab-content {\\n    padding: 10px 0; }\\n\\n.style__node___nSk8m button + button {\\n  margin-left: 5px; }\\n\\n.style__item___1cABW {\\n  padding: 5px 0; }\\n  .style__item___1cABW .style__actions___gx30q {\\n    display: none; }\\n    .style__item___1cABW .style__actions___gx30q a {\\n      cursor: pointer;\\n      margin-right: 5px; }\\n  .style__item___1cABW:hover {\\n    background: #fefefe;\\n    border-left: 2px solid #999;\\n    padding-left: 10px; }\\n    .style__item___1cABW:hover .style__actions___gx30q {\\n      padding: 10px 0;\\n      display: block; }\\n\\n.style__item___1cABW + .style__item___1cABW {\\n  border-top: 1px solid #f9f9f9; }\\n\\n.style__node___nSk8m .style__name___2TMAK {\\n  color: #333;\\n  font-weight: 500;\\n  border-radius: 0px;\\n  background: none;\\n  width: 100% !important;\\n  border: 1px dashed #d0d0d0;\\n  padding: 5px 8px; }\\n  .style__node___nSk8m .style__name___2TMAK:hover {\\n    background: #f1f1f1; }\\n  .style__node___nSk8m .style__name___2TMAK:focus {\\n    background: #f5f5f5; }\\n\\n.style__actions___gx30q {\\n  margin-top: 10px;\\n  width: 100%; }\\n  .style__actions___gx30q button {\\n    border-radius: 3px; }\\n\\n.style__actionIcons___1iaPf {\\n  margin-top: 5px; }\\n\\n.style__bottomSection___LgoeA {\\n  text-align: center; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"section\": \"style__section___3upAJ\",\n\t\"endBloc\": \"style__endBloc___3sG_O\",\n\t\"nodeBloc\": \"style__nodeBloc___dQ4tK\",\n\t\"subflowBloc\": \"style__subflowBloc___1_Bfl\",\n\t\"returnBloc\": \"style__returnBloc___25Y4o\",\n\t\"tip\": \"style__tip___3zVXd\",\n\t\"returnToNodeSection\": \"style__returnToNodeSection___190hz\",\n\t\"node\": \"style__node___nSk8m\",\n\t\"item\": \"style__item___1cABW\",\n\t\"actions\": \"style__actions___gx30q\",\n\t\"name\": \"style__name___2TMAK\",\n\t\"actionIcons\": \"style__actionIcons___1iaPf\",\n\t\"bottomSection\": \"style__bottomSection___LgoeA\"\n};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".parameters__invalid___1ILIm input {\\n  border: 1px solid red; }\\n\\n.parameters__table___2erEm {\\n  margin-bottom: 0; }\\n  .parameters__table___2erEm td {\\n    padding: 0;\\n    position: relative; }\\n  .parameters__table___2erEm input {\\n    width: 100%; }\\n\\n.parameters__keyTip___FOVaX {\\n  position: absolute;\\n  right: 15px;\\n  font-size: 20px;\\n  top: 11px;\\n  color: green; }\\n\\n.parameters__mandatory___2vsuD input {\\n  font-weight: bold; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"invalid\": \"parameters__invalid___1ILIm\",\n\t\"table\": \"parameters__table___2erEm\",\n\t\"keyTip\": \"parameters__keyTip___FOVaX\",\n\t\"mandatory\": \"parameters__mandatory___2vsuD\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./parameters.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./parameters.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./parameters.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap'\n\nimport { Table } from 'react-bootstrap'\nimport classnames from 'classnames'\nimport _ from 'lodash'\n\nconst style = require('./parameters.scss')\n\nexport default class ParametersTable extends Component {\n  constructor(props) {\n    super(props)\n    this.state = { arguments: this.transformArguments(props.value) }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ arguments: this.transformArguments(nextProps.value) })\n  }\n\n  transformArguments(args) {\n    const valuesArray = [..._.map(args, (value, key) => ({ key, value })), { key: '', value: '' }]\n    return _.fromPairs(valuesArray.map((el, i) => [i, el]))\n  }\n\n  getValues() {\n    return this.state.arguments\n  }\n\n  onChanged() {\n    setImmediate(() => {\n      this.props.onChange && this.props.onChange(this.state.arguments)\n    })\n  }\n\n  render() {\n    const renderRow = id => {\n      const args = this.state.arguments\n\n      const regenerateEmptyRowIfNeeded = () => {\n        if (args[id].key === '' && args[id].value === '') {\n          args[new Date().getTime()] = { key: '', value: '' }\n        }\n      }\n\n      const deleteDuplicatedEmptyRows = () => {\n        let count = 0\n        for (const id in this.state.arguments) {\n          const v = this.state.arguments[id]\n          if (v.key === '' && v.value === '') {\n            count++\n          }\n          if (count > 1) {\n            const clone = { ...this.state.arguments }\n            delete clone[id]\n            return this.setState({\n              arguments: clone\n            })\n          }\n        }\n      }\n\n      const editKey = evt => {\n        if (evt.target.value !== '') {\n          regenerateEmptyRowIfNeeded()\n        } else {\n          if (this.state.arguments[id].value === '') {\n            setTimeout(deleteDuplicatedEmptyRows, 100)\n          }\n        }\n\n        this.setState({\n          arguments: { ...args, [id]: { key: evt.target.value, value: args[id].value } }\n        })\n\n        this.onChanged()\n      }\n\n      const editValue = evt => {\n        if (evt.target.value !== '') {\n          regenerateEmptyRowIfNeeded()\n        } else {\n          if (this.state.arguments[id].key === '') {\n            setTimeout(deleteDuplicatedEmptyRows, 100)\n          }\n        }\n\n        this.setState({\n          arguments: { ...args, [id]: { value: evt.target.value, key: args[id].key } }\n        })\n\n        this.onChanged()\n      }\n\n      const isKeyValid = args[id].key.length > 0 || !args[id].value.length\n\n      const paramName = args[id].key\n      const paramValue = args[id].value\n\n      const definition = _.find(this.props.definitions || [], { name: paramName }) || {\n        required: false,\n        description: 'No description',\n        default: '',\n        type: 'Unknown',\n        fake: true\n      }\n\n      const tooltip = (\n        <Tooltip id={`param-${paramName}`}>\n          <strong>({definition.type}) </strong> {definition.description}\n        </Tooltip>\n      )\n\n      const help = definition.fake ? null : (\n        <OverlayTrigger placement=\"bottom\" overlay={tooltip}>\n          <i className={'material-icons ' + style.keyTip}>help_outline</i>\n        </OverlayTrigger>\n      )\n\n      const keyClass = classnames({ [style.invalid]: !isKeyValid, [style.mandatory]: definition.required })\n\n      return (\n        <tr key={id}>\n          <td className={keyClass}>\n            {help}\n            <input type=\"text\" disabled={!!definition.required} value={paramName} onChange={editKey} />\n          </td>\n          <td>\n            <input type=\"text\" placeholder={definition.default} value={paramValue} onChange={editValue} />\n          </td>\n        </tr>\n      )\n    }\n\n    return (\n      <Table className={classnames(style.table, this.props.className)}>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Value</th>\n          </tr>\n        </thead>\n        <tbody>{_.orderBy(_.keys(this.state.arguments), x => x).map(renderRow)}</tbody>\n      </Table>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".actionDropdown__category___3ud9J {\\n  font-weight: bold;\\n  margin-right: 5px; }\\n\\n.actionDropdown__title___2u7qV {\\n  margin-right: 5px; }\\n\\n.actionDropdown__name___1VlWL {\\n  color: grey;\\n  font-size: 90%; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"category\": \"actionDropdown__category___3ud9J\",\n\t\"title\": \"actionDropdown__title___2u7qV\",\n\t\"name\": \"actionDropdown__name___1VlWL\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./actionDropdown.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./actionDropdown.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./actionDropdown.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport Select from 'react-select'\nimport Highlighter from 'react-highlight-words'\n\nconst style = require('./actionDropdown.scss')\n\nexport default class SelectActionDropdown extends Component {\n  renderOption = option => {\n    const highlight = txt => <Highlighter searchWords={[this._inputValue]} textToHighlight={txt} />\n\n    if (option.metadata) {\n      const category = option.metadata.category ? (\n        <span className={style.category}>{highlight(option.metadata.category)} –</span>\n      ) : null\n      const title = option.metadata.title ? (\n        <span className={style.title}>{highlight(option.metadata.title)}</span>\n      ) : null\n\n      return (\n        <div>\n          <span>\n            {category}\n            {title}\n            <span className={style.name}>–&gt; {highlight(option.label)}</span>\n          </span>\n        </div>\n      )\n    }\n\n    return highlight(option.label)\n  }\n\n  render() {\n    const options = this.props.options.map(x => ({\n      label: x.name,\n      value: x.name,\n      metadata: x.metadata\n    }))\n\n    return (\n      <Select\n        onInputChange={inputValue => (this._inputValue = inputValue)}\n        onChange={this.props.onChange}\n        options={options}\n        value={this.props.value}\n        optionRenderer={this.renderOption}\n      />\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { Modal, Button, Radio, OverlayTrigger, Tooltip } from 'react-bootstrap'\nimport Markdown from 'react-markdown'\nimport axios from 'axios'\nimport _ from 'lodash'\n\nimport SelectActionDropdown from './SelectActionDropdown'\nimport ParametersTable from './ParametersTable'\nimport ContentPickerWidget from '~/components/Content/Select/Widget'\n\nconst style = require('./style.scss')\n\nexport default class ActionModalForm extends Component {\n  state = {\n    actionType: 'message',\n    avActions: [],\n    actionMetadata: {},\n    functionInputValue: '',\n    messageValue: '',\n    functionParams: {}\n  }\n\n  textToItemId = text => _.get(text.match(/^say #!(.*)$/), '[1]')\n\n  componentWillReceiveProps(nextProps) {\n    const { item } = nextProps\n\n    if (this.props.show || !nextProps.show) {\n      return\n    }\n\n    if (item) {\n      this.setState({\n        actionType: nextProps.item.type,\n        functionInputValue: nextProps.item.functionName,\n        messageValue: nextProps.item.message,\n        functionParams: nextProps.item.parameters\n      })\n    } else {\n      this.resetForm()\n    }\n    this.setState({ isEdit: Boolean(item) })\n  }\n\n  componentDidMount() {\n    this.fetchAvailableFunctions()\n  }\n\n  fetchAvailableFunctions() {\n    return axios.get('/api/flows/available_actions').then(({ data }) => {\n      this.setState({ avActions: data })\n    })\n  }\n\n  onChangeType = type => () => {\n    this.setState({ actionType: type })\n  }\n\n  resetForm() {\n    this.setState({\n      actionType: 'message',\n      functionInputValue: '',\n      messageValue: ''\n    })\n  }\n\n  renderSectionAction() {\n    const { avActions } = this.state\n\n    const tooltip = (\n      <Tooltip id=\"notSeeingAction\">\n        Actions are registered on the server-side. Read about how to register new actions by searching for\n        `bp.registerActions()`.\n      </Tooltip>\n    )\n\n    const tooltip2 = (\n      <Tooltip id=\"whatIsThis\">\n        You can change how the Action is executed by providing it parameters. Some parameters are required, some are\n        optional.\n      </Tooltip>\n    )\n\n    const help = (\n      <OverlayTrigger placement=\"bottom\" overlay={tooltip}>\n        <span className={style.tip}>Can&apos;t see your action?</span>\n      </OverlayTrigger>\n    )\n\n    const paramsHelp = (\n      <OverlayTrigger placement=\"bottom\" overlay={tooltip2}>\n        <span className={style.tip}>What is this?</span>\n      </OverlayTrigger>\n    )\n\n    const onParamsChange = params => {\n      params = _.values(params).reduce((sum, n) => {\n        if (n.key === '') {\n          return sum\n        }\n        return { ...sum, [n.key]: n.value }\n      }, {})\n      this.setState({ functionParams: params })\n    }\n\n    // const args = JSON.stringify(this.state.functionParams, null, 4)\n\n    return (\n      <div>\n        <h5>Action to run {help}</h5>\n        <div className={style.section}>\n          <SelectActionDropdown\n            value={this.state.functionInputValue}\n            options={avActions}\n            onChange={val => {\n              const fn = avActions.find(fn => fn.name === (val && val.value))\n              const paramsDefinition = _.get(fn, 'metadata.params') || []\n              this.setState({\n                functionInputValue: val && val.value,\n                paramsDef: paramsDefinition,\n                actionMetadata: fn.metadata || {}\n              })\n\n              // TODO Detect if default or custom arguments\n              if (\n                Object.keys(this.state.functionParams).length > 0 &&\n                !confirm('Do you want to overwrite existing parameters?')\n              ) {\n                return\n              }\n\n              this.setState({\n                functionParams: _.fromPairs(paramsDefinition.map(param => [param.name, param.default || '']))\n              })\n            }}\n          />\n          {this.state.actionMetadata.title && <h4>{this.state.actionMetadata.title}</h4>}\n          {this.state.actionMetadata.description && <Markdown source={this.state.actionMetadata.description} />}\n        </div>\n        <h5>Action parameters {paramsHelp}</h5>\n        <div className={style.section}>\n          <ParametersTable\n            ref={el => (this.parametersTable = el)}\n            onChange={onParamsChange}\n            value={this.state.functionParams}\n            definitions={this.state.paramsDef}\n          />\n        </div>\n      </div>\n    )\n  }\n\n  renderSectionMessage() {\n    const handleChange = item => {\n      this.setState({ messageValue: `say #!${item.id}` })\n    }\n\n    const tooltip = (\n      <Tooltip id=\"howMessageWorks\">\n        You can type a regular message here or you can also provide a valid UMM bloc, for example &quot;#help&quot;.\n      </Tooltip>\n    )\n\n    const help = (\n      <OverlayTrigger placement=\"bottom\" overlay={tooltip}>\n        <i className=\"material-icons\">help</i>\n      </OverlayTrigger>\n    )\n\n    const itemId = this.textToItemId(this.state.messageValue)\n\n    return (\n      <div>\n        <h5>Message {help}:</h5>\n        <div className={style.section}>\n          <ContentPickerWidget itemId={itemId} onChange={handleChange} placeholder=\"Message to send\" />\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const props = this.props\n    const noop = () => {}\n\n    const onClose = props.onClose || noop\n    const onSubmit = () => {\n      const handler = props.onSubmit || noop\n      this.resetForm()\n      handler({\n        type: this.state.actionType,\n        functionName: this.state.functionInputValue,\n        message: this.state.messageValue,\n        parameters: this.state.functionParams\n      })\n    }\n\n    return (\n      <Modal animation={false} show={props.show} onHide={onClose} container={document.getElementById('app')}>\n        <Modal.Header closeButton>\n          <Modal.Title>{this.state.isEdit ? 'Edit' : 'Add new'} action</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <h5>The bot will:</h5>\n          <div className={style.section}>\n            <Radio checked={this.state.actionType === 'message'} onChange={this.onChangeType('message')}>\n              💬 Say something\n            </Radio>\n            <Radio checked={this.state.actionType === 'code'} onChange={this.onChangeType('code')}>\n              ⚡ Execute code\n            </Radio>\n          </div>\n\n          {this.state.actionType === 'message' ? this.renderSectionMessage() : this.renderSectionAction()}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={onClose}>Cancel</Button>\n          <Button onClick={onSubmit} bsStyle=\"primary\">\n            {this.state.isEdit ? 'Update' : 'Add'} Action (Alt+Enter)\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    )\n  }\n}\n","import React, { Component, Fragment } from 'react'\n\nimport { Tabs, Tab, Badge, Panel } from 'react-bootstrap'\n\nimport EditableInput from '../common/EditableInput'\n\nimport ActionSection from './ActionSection'\nimport TransitionSection from './TransitionSection'\n\nconst style = require('./style.scss')\n\nexport default class StandardNodePropertiesPanel extends Component {\n  renameNode = text => {\n    if (text && text !== this.props.node.name) {\n      this.props.updateNode({ name: text })\n    }\n  }\n\n  transformText(text) {\n    return text.replace(/[^a-z0-9-_\\.]/gi, '_')\n  }\n\n  render() {\n    const { node, readOnly } = this.props\n\n    const onNameMounted = input => {\n      if (input.value.startsWith('node-')) {\n        input.focus()\n        input.setSelectionRange(0, 1000)\n      }\n    }\n\n    return (\n      <div className={style.node}>\n        <Panel>\n          <EditableInput\n            readOnly={readOnly}\n            onMount={onNameMounted}\n            value={node.name}\n            className={style.name}\n            onChanged={this.renameNode}\n            transform={this.transformText}\n          />\n        </Panel>\n        <Tabs animation={false} id=\"node-props-modal-standard-node-tabs\">\n          <Tab\n            eventKey=\"on_enter\"\n            title={\n              <Fragment>\n                <Badge>{(node.onEnter && node.onEnter.length) || 0}</Badge> On Enter\n              </Fragment>\n            }\n          >\n            <ActionSection\n              readOnly={readOnly}\n              items={node.onEnter}\n              header=\"On Enter\"\n              onItemsUpdated={items => this.props.updateNode({ onEnter: items })}\n              copyItem={item => this.props.copyFlowNodeElement({ action: item })}\n              pasteItem={() => this.props.pasteFlowNodeElement('onEnter')}\n              canPaste={Boolean(this.props.buffer.action)}\n            />\n          </Tab>\n          <Tab\n            eventKey=\"on_receive\"\n            title={\n              <Fragment>\n                <Badge>{(node.onReceive && node.onReceive.length) || 0}</Badge> On Receive\n              </Fragment>\n            }\n          >\n            <ActionSection\n              readOnly={readOnly}\n              items={node.onReceive}\n              header=\"On Receive\"\n              waitable={true}\n              onItemsUpdated={items => this.props.updateNode({ onReceive: items })}\n              copyItem={item => this.props.copyFlowNodeElement({ action: item })}\n              pasteItem={() => this.props.pasteFlowNodeElement('onReceive')}\n              canPaste={Boolean(this.props.buffer.action)}\n            />\n          </Tab>\n          <Tab\n            eventKey=\"transitions\"\n            title={\n              <Fragment>\n                <Badge>{(node.next && node.next.length) || 0}</Badge> Transitions\n              </Fragment>\n            }\n          >\n            <TransitionSection\n              readOnly={readOnly}\n              items={node.next}\n              header=\"Transitions\"\n              subflows={this.props.subflows}\n              onItemsUpdated={items => this.props.updateNode({ next: items })}\n              copyItem={item => this.props.copyFlowNodeElement({ transition: item })}\n              pasteItem={() => this.props.pasteFlowNodeElement('next')}\n              canPaste={Boolean(this.props.buffer.transition)}\n            />\n          </Tab>\n        </Tabs>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport _ from 'lodash'\n\nimport { Modal } from 'react-bootstrap'\n\nimport StandardNode from './StandardNode'\nimport SkillCallNode from './SkillCallNode'\nimport FlowInformation from './FlowInformation'\n\nexport default class NodePropsModal extends Component {\n  render() {\n    const node = this.props.currentFlowNode\n    return (\n      <Modal\n        animation={false}\n        show={this.props.show}\n        onHide={this.props.closeFlowNodeProps}\n        container={document.getElementById('app')}\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>{node ? 'Node Properties' : 'Flow Properties'}</Modal.Title>\n        </Modal.Header>\n\n        <Modal.Body>{this.renderNodeProperties()}</Modal.Body>\n      </Modal>\n    )\n  }\n\n  goToFlow = flow => this.props.history.push(`/flows/${flow.replace(/\\.flow\\.json/, '')}`)\n\n  renderNodeProperties() {\n    const { readOnly } = this.props\n    const subflows = _.filter(_.map(this.props.flows, f => f.name), f => f !== _.get(this.props, 'currentFlow.name'))\n    const flowType = _.get(this.props, 'currentFlowNode.type') || (this.props.currentFlowNode ? 'standard' : null)\n\n    const updateNodeAndRefresh = (...args) => {\n      this.props.updateFlowNode(...args)\n      this.props.refreshFlowsLinks()\n    }\n\n    if (flowType === 'skill-call') {\n      return (\n        <SkillCallNode\n          readOnly={readOnly}\n          user={this.props.user}\n          flow={this.props.currentFlow}\n          subflows={subflows}\n          node={this.props.currentFlowNode}\n          updateNode={updateNodeAndRefresh}\n          updateFlow={this.props.updateFlow}\n          requestEditSkill={this.props.requestEditSkill}\n          goToFlow={this.goToFlow}\n          copyFlowNodeElement={this.props.copyFlowNodeElement}\n          pasteFlowNodeElement={this.props.pasteFlowNodeElement}\n          buffer={this.props.buffer}\n        />\n      )\n    }\n\n    if (flowType === 'standard') {\n      return (\n        <StandardNode\n          readOnly={readOnly}\n          flow={this.props.currentFlow}\n          subflows={subflows}\n          node={this.props.currentFlowNode}\n          updateNode={updateNodeAndRefresh}\n          updateFlow={this.props.updateFlow}\n          copyFlowNodeElement={this.props.copyFlowNodeElement}\n          pasteFlowNodeElement={this.props.pasteFlowNodeElement}\n          buffer={this.props.buffer}\n        />\n      )\n    }\n\n    return <FlowInformation {...this.props} subflows={subflows} />\n  }\n}\n","import { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\n\nimport values from 'lodash/values'\n\nimport { getCurrentFlow, getCurrentFlowNode } from '~/reducers'\nimport {\n  updateFlow,\n  requestEditSkill,\n  copyFlowNodeElement,\n  pasteFlowNodeElement,\n  closeFlowNodeProps,\n  updateFlowNode,\n  refreshFlowsLinks\n} from '~/actions'\n\nimport NodeProps from '../nodeProps'\n\nconst mapStateToProps = state => ({\n  flows: values(state.flows.flowsByName),\n  currentFlow: getCurrentFlow(state),\n  currentFlowNode: getCurrentFlowNode(state),\n  buffer: state.flows.buffer,\n  user: state.user\n})\n\nconst mapDispatchToProps = {\n  updateFlow,\n  requestEditSkill,\n  copyFlowNodeElement,\n  pasteFlowNodeElement,\n  closeFlowNodeProps,\n  updateFlowNode,\n  refreshFlowsLinks\n}\n\nconst ConnectedNodeProps = connect(mapStateToProps, mapDispatchToProps)(withRouter(NodeProps))\nexport default ConnectedNodeProps\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__loadingContainer___2xNMs {\\n  text-align: center;\\n  vertical-align: middle;\\n  padding: 40px; }\\n  .style__loadingContainer___2xNMs > div {\\n    margin-top: 20px;\\n    display: inline-block; }\\n\\n.style__size-normal___36AEV {\\n  width: 50%; }\\n\\n.style__size-large___2RuvD {\\n  width: 80%; }\\n\\n.style__size-small___3q78L {\\n  width: 30%; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"loadingContainer\": \"style__loadingContainer___2xNMs\",\n\t\"size-normal\": \"style__size-normal___36AEV\",\n\t\"size-large\": \"style__size-large___2RuvD\",\n\t\"size-small\": \"style__size-small___3q78L\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport { Modal, Button } from 'react-bootstrap'\nimport axios from 'axios'\nimport find from 'lodash/find'\nimport includes from 'lodash/includes'\nimport Loader from 'react-loaders'\n\nconst style = require('./style.scss')\n\nconst VALID_WINDOW_SIZES = ['normal', 'large', 'small']\n\nimport InjectedModuleView from '~/components/PluginInjectionSite/module'\n\nclass WrappedInjectedModule extends React.Component {\n  shouldComponentUpdate(nextProps) {\n    return nextProps.moduleProps !== this.props.moduleProps || nextProps.moduleName !== this.props.moduleName\n  }\n\n  render() {\n    return <InjectedModuleView {...this.props} />\n  }\n}\n\nexport default class SkillsBuilder extends React.Component {\n  resetState = () => ({\n    moduleProps: {},\n    canSubmit: false,\n    loading: false,\n    windowSize: 'normal'\n  })\n\n  state = this.resetState()\n\n  componentDidMount() {\n    this.setState({ initialData: this.props.data })\n  }\n\n  componentDidMount() {\n    this.setState({\n      ...this.resetState(),\n      moduleProps: this.buildModuleProps(this.props.data)\n    })\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.skillId !== this.props.skillId || nextProps.opened !== this.props.opened) {\n      this.setState({\n        ...this.resetState(),\n        moduleProps: this.buildModuleProps(nextProps.data)\n      })\n    }\n  }\n\n  renderModuleNotFound = () => {\n    return <div>Could not load skill&apos;s view</div>\n  }\n\n  onDataChanged = data => {\n    this.data = data\n  }\n\n  onSubmit = () => {\n    this.setState({\n      loading: true,\n      canSubmit: false\n    })\n\n    return this.generateFlow().then(generated => {\n      if (this.props.action === 'edit') {\n        this.props.updateSkill({\n          skillId: this.props.skillId,\n          data: this.data,\n          generatedFlow: generated.flow,\n          transitions: generated.transitions,\n          editFlowName: this.props.editFlowName,\n          editNodeId: this.props.editNodeId\n        })\n      } else {\n        this.props.insertNewSkill({\n          skillId: this.props.skillId,\n          data: this.data,\n          generatedFlow: generated.flow,\n          transitions: generated.transitions\n        })\n      }\n    })\n  }\n\n  onCancel = () => {\n    this.props.cancelNewSkill()\n  }\n\n  onValidChanged = valid => {\n    this.setState({ canSubmit: valid })\n  }\n\n  renderLoading = () => {\n    if (!this.state.loading) {\n      return null\n    }\n\n    return (\n      <div className={style.loadingContainer}>\n        <h2>Generating your skill flow...</h2>\n        <Loader type=\"ball-pulse\" color=\"#26A65B\" style={{ margin: '4px' }} />\n      </div>\n    )\n  }\n\n  onWindowResized = size => {\n    if (!includes(VALID_WINDOW_SIZES, size)) {\n      const sizes = VALID_WINDOW_SIZES.join(', ')\n      return console.log(`ERROR – Skill \"${size}\" is an invalid size for Skill window. Valid sizes are ${sizes}.`)\n    }\n\n    this.setState({\n      windowSize: size\n    })\n  }\n\n  buildModuleProps = data => ({\n    initialData: data,\n    onDataChanged: this.onDataChanged,\n    onValidChanged: this.onValidChanged,\n    resizeBuilderWindow: this.onWindowResized\n  })\n\n  generateFlow = () => {\n    return axios.post(`/api/skills/${this.props.skillId}/generate`, this.data).then(({ data }) => data)\n  }\n\n  render() {\n    const skill = find(this.props.installedSkills, { id: this.props.skillId })\n    const modalClassName = style['size-' + this.state.windowSize]\n    const submitName = this.props.action === 'new' ? 'Insert' : 'Save'\n\n    return (\n      <Modal\n        dialogClassName={modalClassName}\n        animation={false}\n        show={this.props.opened}\n        onHide={this.onCancel}\n        backdrop=\"static\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title>Insert a new skill | {skill && skill.name}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          {this.renderLoading()}\n          {!this.state.loading && (\n            <WrappedInjectedModule\n              moduleName={skill && skill.id}\n              onNotFound={this.renderModuleNotFound}\n              extraProps={this.state.moduleProps}\n            />\n          )}\n        </Modal.Body>\n        <Modal.Footer>\n          <Button onClick={this.onCancel}>Cancel</Button>\n          <Button onClick={this.onSubmit} disabled={!this.state.canSubmit} bsStyle=\"primary\">\n            {submitName}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    )\n  }\n}\n","import { connect } from 'react-redux'\n\nimport { cancelNewSkill, insertNewSkill, updateSkill } from '~/actions'\nimport SkillsBuilder from '../skills'\n\nconst mapStateToProps = state => ({\n  installedSkills: state.skills.installed,\n  ...state.skills.builder\n})\n\nconst mapDispatchToProps = {\n  cancelNewSkill,\n  insertNewSkill,\n  updateSkill\n}\n\nconst ConnectedSkillsBuilder = connect(mapStateToProps, mapDispatchToProps)(SkillsBuilder)\n\nexport default ConnectedSkillsBuilder\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".topbar__rename___30Mxy {\\n  font-size: 90%; }\\n\\n.topbar__title___3HLto {\\n  color: black;\\n  border-left: 3px solid #55c1b2;\\n  padding-left: 10px;\\n  margin-left: -10px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"rename\": \"topbar__rename___30Mxy\",\n\t\"title\": \"topbar__title___3HLto\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./topbar.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./topbar.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./topbar.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport _ from 'lodash'\n\nconst style = require('./topbar.scss')\n\nexport default class Topbar extends React.Component {\n  promptRenameFlow = () => {\n    const name = window.prompt('Please enter the new name for that flow', this.getCurrentFlowName())\n\n    if (!name) {\n      return\n    }\n\n    if (/[^A-Z0-9-_\\/]/i.test(name)) {\n      return alert('ERROR: The flow name can only contain letters, numbers, underscores and hyphens.')\n    }\n\n    const flows = _.map(this.props.flows, f => this.cleanFlowName(f.name).toLowerCase())\n\n    if (name !== this.getCurrentFlowName() && _.includes(flows, name.toLowerCase())) {\n      alert(`ERROR: There's an other flow called \"${name}\". Flow names must be unique.`)\n    } else {\n      this.props.renameFlow(name + '.flow.json')\n    }\n  }\n\n  getCurrentFlowName() {\n    const name = _.get(this.props, 'currentFlow.name') || ''\n    return this.cleanFlowName(name)\n  }\n\n  cleanFlowName(name) {\n    return name.replace(/\\.flow\\.json$/i, '')\n  }\n\n  render() {\n    const name = this.getCurrentFlowName()\n    const { readOnly } = this.props\n    return (\n      <div className={style.title}>\n        <span>Flow Editor –</span>\n        <span className={style.name}>&nbsp;{name}</span>\n        {name &&\n          !readOnly && (\n            <span>\n              &nbsp;\n              <a onClick={this.promptRenameFlow} href=\"javascript:void(0);\" className={style.rename}>\n                (rename)\n              </a>\n            </span>\n          )}\n      </div>\n    )\n  }\n}\n","import { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport _ from 'lodash'\n\nimport { renameFlow } from '~/actions'\nimport { getCurrentFlow } from '~/reducers'\n\nimport Topbar from '../topbar.jsx'\n\nconst mapStateToProps = state => ({\n  flows: _.values(state.flows.flowsByName),\n  currentFlow: getCurrentFlow(state)\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ renameFlow }, dispatch)\n\nconst ConnectedTopbar = connect(mapStateToProps, mapDispatchToProps)(Topbar)\n\nexport default ConnectedTopbar\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__panel___UlHjz {\\n  background: #fafafa;\\n  overflow-y: auto;\\n  margin: 0 5px 0 0;\\n  width: 100%;\\n  height: 100%; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"panel\": \"style__panel___UlHjz\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import find from 'lodash/find'\n\nconst addNode = (tree, folders, flowDesc, data) => {\n  for (const folderDesc of folders) {\n    let folder = find(tree.children, folderDesc)\n    if (!folder) {\n      folder = { ...folderDesc, parent: tree, children: [] }\n      tree.children.push(folder)\n    }\n    tree = folder\n  }\n  tree.children.push({ ...flowDesc, parent: tree, ...data })\n}\n\nconst compareNodes = (a, b) => {\n  if (a.type === b.type) {\n    return a.name < b.name ? -1 : 1\n  }\n  if (a.type === 'folder') {\n    return -1\n  } else {\n    return 1\n  }\n}\n\nconst sortChildren = tree => {\n  if (!tree.children) {\n    return\n  }\n  tree.children.sort(compareNodes)\n  tree.children.forEach(sortChildren)\n}\n\nexport const getUniqueId = node => `${node.type}:${node.fullPath}`\n\nexport const splitFlowPath = flow => {\n  const flowPath = flow.replace(/\\.flow\\.json$/, '').split('/')\n  const flowName = flowPath[flowPath.length - 1]\n  const flowFolders = flowPath.slice(0, flowPath.length - 1)\n  const folders = []\n  const currentPath = []\n  for (const folder of flowFolders) {\n    currentPath.push(folder)\n    folders.push({ type: 'folder', name: folder, fullPath: currentPath.join('/') })\n  }\n  currentPath.push(flowName)\n  return {\n    folders,\n    flow: { type: 'file', name: flowName, fullPath: currentPath.join('/') }\n  }\n}\n\nexport const buildFlowsTree = flows => {\n  const tree = { type: 'root', fullPath: '', name: '<root>', children: [] }\n  flows.forEach(flowData => {\n    const { folders, flow } = splitFlowPath(flowData.name)\n    addNode(tree, folders, flow, {\n      data: flowData\n    })\n  })\n\n  sortChildren(tree)\n\n  return tree.children\n}\n","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__menuButton___2ZZ-R {\\n  position: absolute;\\n  right: 10px;\\n  top: 4px; }\\n  .style__menuButton___2ZZ-R .arrow {\\n    display: none; }\\n  .style__menuButton___2ZZ-R button {\\n    border: none; }\\n\\n.style__menu___pb_Bt {\\n  list-style: none;\\n  padding: 0;\\n  margin: 0; }\\n  .style__menu___pb_Bt li {\\n    padding: 5px 10px;\\n    cursor: pointer; }\\n    .style__menu___pb_Bt li:hover {\\n      color: #262626;\\n      background-color: #f5f5f5; }\\n\\n.popover.style__popover___2tkHS .arrow {\\n  display: none; }\\n\\n.popover-content.style__popover___2tkHS {\\n  padding: 10px 0; }\\n\\n.style__toggle___3VpWr {\\n  display: inline-block;\\n  font-size: 20px;\\n  height: 24px;\\n  line-height: 24px;\\n  transition: transform 300ms; }\\n\\n.style__toggleActive___2k43e {\\n  transform: rotateZ(90deg); }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"menuButton\": \"style__menuButton___2ZZ-R\",\n\t\"menu\": \"style__menu___pb_Bt\",\n\t\"popover\": \"style__popover___2tkHS\",\n\t\"toggle\": \"style__toggle___3VpWr\",\n\t\"toggleActive\": \"style__toggleActive___2k43e\"\n};","import { combineReducers } from 'redux'\n\nimport content from './content'\nimport flows from './flows'\nimport license from './license'\nimport ui from './ui'\nimport user from './user'\nimport bot from './bot'\nimport modules from './modules'\nimport skills from './skills'\nimport notifications from './notifications'\nexport * from './selectors'\n\nconst bpApp = combineReducers({ content, flows, license, ui, user, bot, modules, notifications, skills })\nexport default bpApp\n","import EventEmitter2 from 'eventemitter2'\nimport axios from 'axios'\nimport nanoid from 'nanoid'\n\nconst storageKey = 'bp/token'\nexport const authEvents = new EventEmitter2()\n\nexport const getToken = () => {\n  const tokenStr = localStorage.getItem(storageKey)\n\n  if (tokenStr) {\n    return JSON.parse(tokenStr)\n  }\n\n  return false\n}\n\nexport const setToken = token => {\n  localStorage.setItem(\n    storageKey,\n    JSON.stringify({\n      token,\n      time: new Date()\n    })\n  )\n\n  axios.defaults.headers.common['Authorization'] = `Bearer ${token}`\n  authEvents.emit('new_token')\n}\n\nexport const logout = () => {\n  localStorage.removeItem(storageKey)\n  authEvents.emit('logout')\n}\n\nexport const login = (user, password) => {\n  return axios.post('/api/login', { user, password }).then(result => {\n    if (result.data.success) {\n      setToken(result.data.token)\n      authEvents.emit('login')\n    } else {\n      throw new Error(result.data.reason)\n    }\n  })\n}\n\nexport const getUniqueVisitorId = () => {\n  let userId = localStorage.getItem('bp/socket/user')\n\n  if (!userId) {\n    userId = nanoid()\n    localStorage.setItem('bp/socket/user', userId)\n  }\n\n  window.__BP_VISITOR_ID = userId\n  return userId\n}\n","import React, { Fragment } from 'react'\nimport classnames from 'classnames'\nimport { Treebeard, theme as defaultTheme, decorators as defaultDecorators } from 'react-treebeard'\n\nimport merge from 'lodash/merge'\n\nimport style from './style.scss'\n\nconst theme = merge({}, defaultTheme, {\n  tree: {\n    base: {\n      color: 'black',\n      backgroundColor: 'transparent',\n      height: '100%'\n    },\n    node: {\n      activeLink: {\n        background: 'transparent',\n        fontWeight: 'bold'\n      },\n      header: {\n        base: {\n          color: 'black'\n        }\n      }\n    }\n  }\n})\n\nclass MyContainer extends defaultDecorators.Container {\n  renderToggle() {\n    // skip rendering it using react-velocity\n    // instead we render it ourselves with proper use of the\n    // node toggled state\n    return null\n  }\n}\n\nconst getDecorators = ({ dirtyFlows, renderMenu }) => ({\n  ...defaultDecorators,\n  Container: MyContainer,\n  Toggle: () => null,\n  Header(props) {\n    if (props.node.type === 'folder') {\n      return (\n        <Fragment>\n          <i\n            className={classnames('material-icons', style.toggle, {\n              [style.toggleActive]: props.node.toggled\n            })}\n          >\n            chevron_right\n          </i>\n          <i className=\"material-icons\">{props.node.toggled ? 'folder_open' : 'folder'}</i>\n          &nbsp;\n          <defaultDecorators.Header {...props} />\n        </Fragment>\n      )\n    }\n\n    const { name } = props.node.data\n    if (dirtyFlows.includes(name)) {\n      props = {\n        ...props,\n        node: {\n          ...props.node,\n          name: `${props.node.name} *`\n        }\n      }\n    }\n\n    return (\n      <Fragment>\n        <i className=\"material-icons\">description</i>\n        &nbsp;\n        <defaultDecorators.Header {...props} />\n        {renderMenu && renderMenu(props.node)}\n      </Fragment>\n    )\n  }\n})\n\nconst Tree = props => {\n  const { dirtyFlows, renderMenu, ...treeProps } = props\n  const decorators = getDecorators({ dirtyFlows, renderMenu })\n  return <Treebeard style={theme} decorators={decorators} {...treeProps} />\n}\n\nexport default Tree\n","import React, { Component, Fragment } from 'react'\nimport ReactDOM from 'react-dom'\nimport classnames from 'classnames'\n\nimport { Popover, Button, Overlay } from 'react-bootstrap'\n\nimport { get, includes } from 'lodash'\n\nimport Tree from './tree'\nimport { buildFlowsTree, getUniqueId, splitFlowPath } from './util'\n\nconst style = require('./style.scss')\n\nconst setNodeStates = (nodes, toggledNodes, activeNode) => {\n  if (!nodes) {\n    return\n  }\n  nodes.forEach(node => {\n    const id = getUniqueId(node)\n    if (toggledNodes[id]) {\n      node.toggled = true\n    } else if (id === activeNode) {\n      node.active = true\n    }\n    setNodeStates(node.children, toggledNodes, activeNode)\n  })\n}\n\nconst getInitialState = currentFlow => {\n  if (!currentFlow) {\n    return {\n      toggledNodes: {},\n      activeNode: null\n    }\n  }\n\n  const { folders, flow } = splitFlowPath(currentFlow.name)\n  return {\n    toggledNodes: folders.reduce((acc, folder) => {\n      acc[getUniqueId(folder)] = true\n      return acc\n    }, {}),\n    activeNode: getUniqueId(flow)\n  }\n}\n\nexport default class FlowsList extends Component {\n  menuButtons = {}\n\n  renderMenu = node => {\n    if (this.props.readOnly) {\n      return null\n    }\n\n    const flow = node.data\n    const index = node.fullPath.replace(/\\//g, '__')\n\n    const hideOverlay = () => {\n      this.setState({\n        showDropdownIndex: -1\n      })\n    }\n\n    const handleAction = fn => event => {\n      event.stopPropagation()\n      hideOverlay()\n      setTimeout(fn, 250)\n    }\n\n    const handleDelete = handleAction(() => {\n      if (confirm(`Are you sure you want to delete the flow ${flow.name}?`) === true) {\n        this.props.deleteFlow(flow.name)\n      }\n    })\n\n    const handleDuplicate = handleAction(() => {\n      let name = prompt('Enter the name of the new flow')\n\n      if (!name) {\n        return\n      }\n\n      name = name.replace(/\\.flow\\.json$/i, '')\n\n      if (/[^A-Z0-9-_\\/]/i.test(name)) {\n        return alert('ERROR: The flow name can only contain letters, numbers, underscores and hyphens.')\n      }\n\n      if (includes(this.props.flows.map(f => f.name), name + '.flow.json')) {\n        return alert(`ERROR: The flow ${name} already exists`)\n      }\n\n      this.props.duplicateFlow({ flowNameToDuplicate: flow.name, name: `${name}.flow.json` })\n    })\n\n    const dropdown = (\n      <Popover id={`flow-${index}-dropdown`} bsClass={classnames(style.popover, 'popover')}>\n        <ul className={style.menu}>\n          {flow.name !== 'main.flow.json' && <li onClick={handleDelete}>Delete</li>}\n          <li onClick={handleDuplicate}>Duplicate</li>\n        </ul>\n      </Popover>\n    )\n\n    const overlayShown = this.state.showDropdownIndex === index\n\n    const showOverlay = event => {\n      event.stopPropagation()\n      this.setState({\n        showDropdownIndex: index\n      })\n    }\n\n    const refId = 'menu-btn-' + index\n\n    const caret = (\n      <Button bsSize=\"xsmall\" ref={node => (this.menuButtons[refId] = node)} onClick={showOverlay}>\n        <span className=\"caret\" />\n      </Button>\n    )\n\n    const overlay = (\n      <Overlay\n        onHide={hideOverlay}\n        show={overlayShown}\n        animation={false}\n        trigger=\"click\"\n        rootClose\n        placement=\"bottom\"\n        target={() => ReactDOM.findDOMNode(this.menuButtons[refId])}\n      >\n        {dropdown}\n      </Overlay>\n    )\n\n    return (\n      <Fragment>\n        <div className={style.menuButton}>{caret}</div>\n        {overlay}\n      </Fragment>\n    )\n  }\n\n  buildTreeData() {\n    const { flows } = this.props\n    const nodes = buildFlowsTree(flows)\n    if (this.state) {\n      setNodeStates(nodes, this.state.toggledNodes, this.state.activeNode)\n    }\n    return nodes\n  }\n\n  toggleTreeNode = node => {\n    const toggledNodes = { ...this.state.toggledNodes }\n    let activeNode = this.state.activeNode\n\n    if (node.type === 'folder') {\n      const id = getUniqueId(node)\n      toggledNodes[id] = !toggledNodes[id]\n    } else if (node.type === 'file') {\n      // set the node itself as active\n      activeNode = getUniqueId(node)\n      // make all of its parents expanded\n      let parent = node.parent\n      while (parent) {\n        toggledNodes[getUniqueId(parent)] = true\n        parent = parent.parent\n      }\n      // change the route and render the corresponding diagram\n      this.props.goToFlow(node.data.name)\n    }\n\n    this.setState({ toggledNodes, activeNode })\n  }\n\n  render() {\n    const { dirtyFlows, currentFlow } = this.props\n    if (!this.state && currentFlow) {\n      // TODO: find a better place for this initialization\n      // maybe componentDidMount / componentDidUpdate\n      // eslint-disable-next-line react/no-direct-mutation-state\n      this.state = getInitialState(currentFlow)\n    }\n    const treeData = this.buildTreeData()\n    return (\n      <Tree\n        data={treeData}\n        dirtyFlows={dirtyFlows}\n        renderMenu={this.props.readOnly ? null : this.renderMenu}\n        onToggle={this.toggleTreeNode}\n      />\n    )\n  }\n}\n","import React, { Component } from 'react'\n\nimport reject from 'lodash/reject'\n\nimport FlowsList from './flows'\n\nconst style = require('./style.scss')\n\nexport default class SidePanel extends Component {\n  goToFlow = flow => this.props.history.push(`/flows/${flow.replace(/\\.flow\\.json/, '')}`)\n\n  render() {\n    const normalFlows = reject(this.props.flows, x => x.name.startsWith('skills/'))\n\n    return (\n      <div className={style.panel}>\n        <FlowsList\n          readOnly={this.props.readOnly}\n          flows={normalFlows}\n          dirtyFlows={this.props.dirtyFlows}\n          goToFlow={this.goToFlow}\n          deleteFlow={this.props.deleteFlow}\n          duplicateFlow={this.props.duplicateFlow}\n          currentFlow={this.props.currentFlow}\n        />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport style from './PageHeader.scss'\nimport classnames from 'classnames'\n\nclass PageHeader extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  render() {\n    const hasHeader = this.props.viewMode <= 2\n    const hasSidebar = this.props.viewMode < 1\n\n    if (!hasHeader) {\n      return null\n    }\n\n    const classNames = classnames({\n      [style.header]: true,\n      'bp-page-header': true,\n      [style.noSidebar]: !hasSidebar,\n      'bp-page-header-no-sidebar': !hasSidebar\n    })\n\n    return <div className={classNames}>{this.props.children}</div>\n  }\n}\n\nconst mapStateToProps = state => ({ viewMode: state.ui.viewMode })\n\nexport default connect(mapStateToProps)(PageHeader)\n","import { connect } from 'react-redux'\nimport values from 'lodash/values'\nimport { withRouter } from 'react-router-dom'\n\nimport { getCurrentFlow, getDirtyFlows } from '~/reducers'\nimport { deleteFlow, duplicateFlow } from '~/actions'\n\nimport SidePanel from '../sidePanel'\n\nconst mapStateToProps = (state, ownProps) => ({\n  currentFlow: getCurrentFlow(state),\n  flows: values(state.flows.flowsByName),\n  dirtyFlows: getDirtyFlows(state)\n})\n\nconst mapDispatchToProps = {\n  deleteFlow,\n  duplicateFlow\n}\n\nconst ConnectedSidePanel = connect(mapStateToProps, mapDispatchToProps)(withRouter(SidePanel))\nexport default ConnectedSidePanel\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__insertNode___3lYv7 {\\n  cursor: crosshair; }\\n  .style__insertNode___3lYv7 .storm-diagrams-canvas {\\n    cursor: inherit; }\\n\\n.style__insertMode___1t5i3 {\\n  position: absolute;\\n  top: 10px;\\n  left: 10px;\\n  opacity: 0.8;\\n  z-index: 100; }\\n  .style__insertMode___1t5i3 button {\\n    margin-top: 10px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"insertNode\": \"style__insertNode___3lYv7\",\n\t\"insertMode\": \"style__insertMode___1t5i3\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport { DefaultLinkWidget, LinkFactory, PointModel } from 'storm-react-diagrams'\n\nclass DeletableLinkWidget extends DefaultLinkWidget {\n  addPointToLink = (event, index) => {\n    if (\n      event.type === 'contextmenu' &&\n      !this.props.diagramEngine.isModelLocked(this.props.link) &&\n      this.props.link.points.length - 1 <= this.props.diagramEngine.getMaxNumberPointsPerLink()\n    ) {\n      event.preventDefault()\n      const point = new PointModel(this.props.link, this.props.diagramEngine.getRelativeMousePoint(event))\n      point.setSelected(true)\n      this.forceUpdate()\n      this.props.link.addPoint(point, index)\n      this.props.pointAdded(point, event)\n    }\n  }\n\n  generateLink(extraProps, id) {\n    const { link, width, color, diagramEngine } = this.props\n    const index = extraProps['data-point'] || 0\n\n    const Bottom = (\n      <path\n        className={this.state.selected || link.isSelected() ? 'selected' : ''}\n        strokeWidth={width}\n        stroke={color}\n        ref={path => path && this.refPaths && this.refPaths.push(path)}\n        {...extraProps}\n      />\n    )\n\n    const Top = (\n      <path\n        strokeLinecap=\"round\"\n        onMouseLeave={() => this.setState({ selected: false })}\n        onMouseEnter={() => this.setState({ selected: true })}\n        data-linkid={link.getID()}\n        stroke={color}\n        strokeOpacity={this.state.selected ? 0.1 : 0}\n        strokeWidth={20}\n        onContextMenu={event => this.addPointToLink(event, index + 1)}\n        {...extraProps}\n      />\n    )\n\n    return (\n      <g key={'link-' + id}>\n        {Bottom}\n        {Top}\n      </g>\n    )\n  }\n}\n\nexport class DeletableLinkFactory extends LinkFactory {\n  constructor() {\n    super('default')\n  }\n\n  generateReactWidget(diagramEngine, link) {\n    return React.createElement(DeletableLinkWidget, { link, diagramEngine })\n  }\n}\n","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport { NodeModel, NodeFactory } from 'storm-react-diagrams'\n\nimport ActionItem from '../../common/action'\nimport ConditionItem from '../../common/condition'\nimport { StandardOutgoingPortModel, StandardPortWidget, StandardIncomingPortModel } from './Ports'\n\nconst style = require('./style.scss')\n\nexport class SkillCallNodeWidget extends React.Component {\n  static defaultProps = {\n    size: 200,\n    node: null\n  }\n\n  state = {}\n\n  render() {\n    const node = this.props.node\n    const isWaiting = node.waitOnReceive\n\n    const className = classnames(style['skill-call-node'], style['node-container'])\n\n    return (\n      <div className={className}>\n        <div className={style.topPort}>\n          <StandardPortWidget name=\"in\" node={node} />\n        </div>\n        <div className={style.header} />\n        <div className={style.content}>\n          <div className={classnames(style['section-title'], style.section, { [style.waiting]: isWaiting })}>\n            <div>{node.skill}</div>\n            <div className={style['subtitle']}>Skill | {node.name}</div>\n          </div>\n          <div className={classnames(style['section-onReceive'], style.section)}>\n            {node.onReceive &&\n              node.onReceive.map((item, i) => {\n                return <ActionItem key={`${i}.${item}`} className={style.item} text={item} />\n              })}\n          </div>\n          <div className={classnames(style['section-next'], style.section)}>\n            {node.next &&\n              node.next.map((item, i) => {\n                const outputPortName = `out${i}`\n                return (\n                  <div key={`${i}.${item}`} className={classnames(style.item)}>\n                    <ConditionItem condition={item} position={i} />\n                    <StandardPortWidget name={outputPortName} node={node} />\n                  </div>\n                )\n              })}\n          </div>\n        </div>\n        <div className={style.footer}>\n          <div />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class SkillCallNodeModel extends NodeModel {\n  constructor({ id, x, y, name, skill, next = [], isStartNode = false }) {\n    super('skill-call', id)\n\n    this.setData({ name, next, isStartNode, skill })\n\n    if (x) {\n      this.x = x\n    }\n    if (y) {\n      this.y = y\n    }\n  }\n\n  serialize() {\n    return _.merge(super.serialize(), {\n      name: this.name,\n      next: this.next,\n      skill: this.skill\n    })\n  }\n\n  deSerialize(data) {\n    super.deSerialize(data)\n\n    this.setData({ name: data.name, skill: data.skill, next: data.next })\n  }\n\n  getOutPorts() {\n    return _.filter(_.values(this.ports), p => p.name.startsWith('out'))\n  }\n\n  setData({ name, next = [], isStartNode, skill }) {\n    this.isStartNode = isStartNode\n    const inNodeType = isStartNode ? 'start' : 'normal'\n\n    if (!this.ports['in']) {\n      this.addPort(new StandardIncomingPortModel('in', inNodeType))\n    }\n\n    // We create as many output port as needed\n    for (let i = 0; i < next.length; i++) {\n      if (!this.ports['out' + i]) {\n        this.addPort(new StandardOutgoingPortModel('out' + i))\n      }\n    }\n\n    if (!_.isArray(next) && _.isObjectLike(next)) {\n      next = [next]\n    }\n\n    this.skill = skill\n    this.next = next\n    this.name = name\n  }\n}\n\nexport const SkillCallNodeWidgetFactory = React.createFactory(SkillCallNodeWidget)\n\nexport class SkillCallWidgetFactory extends NodeFactory {\n  constructor() {\n    super('skill-call')\n  }\n\n  generateReactWidget(diagramEngine, node) {\n    return SkillCallNodeWidgetFactory({ node })\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__action-item___1c4aI.style__fn___1etza {\\n  color: blue; }\\n\\n.style__action-item___1c4aI.style__msg___12LvM {\\n  color: #1cbd57; }\\n\\n.style__action-item___1c4aI.style__condition___ZgOqu {\\n  color: black; }\\n\\n.style__action-item___1c4aI .style__icon___14ZH- {\\n  margin-right: 8px; }\\n\\n.style__action-item___1c4aI .style__name___10ZbV {\\n  line-height: 1.7; }\\n  .style__action-item___1c4aI .style__name___10ZbV span {\\n    padding: 2px 4px;\\n    border-radius: 2px; }\\n  .style__action-item___1c4aI .style__name___10ZbV .var {\\n    background-color: #e7f0ff;\\n    color: blue; }\\n  .style__action-item___1c4aI .style__name___10ZbV .val {\\n    background-color: #fff5ea;\\n    color: #ff7c40; }\\n\\n.style__editableInput___1xpyO {\\n  line-height: 22px;\\n  font-size: 18px;\\n  font-weight: 300;\\n  color: #000;\\n  width: 200px;\\n  border: 1px solid #fff;\\n  padding: 2px 5px;\\n  border-radius: 3px; }\\n  .style__editableInput___1xpyO.style__defaultValue___2bioK {\\n    font-style: italic;\\n    font-weight: 400;\\n    color: #999; }\\n  .style__editableInput___1xpyO:hover {\\n    border: 1px solid #eee; }\\n  .style__editableInput___1xpyO:focus {\\n    outline-color: transparent;\\n    outline-style: none;\\n    font-weight: 300;\\n    font-style: normal;\\n    border: 1px solid #2d74f3; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"action-item\": \"style__action-item___1c4aI\",\n\t\"fn\": \"style__fn___1etza\",\n\t\"msg\": \"style__msg___12LvM\",\n\t\"condition\": \"style__condition___ZgOqu\",\n\t\"icon\": \"style__icon___14ZH-\",\n\t\"name\": \"style__name___10ZbV\",\n\t\"editableInput\": \"style__editableInput___1xpyO\",\n\t\"defaultValue\": \"style__defaultValue___2bioK\"\n};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".storm-diagrams-canvas .node {\\n  opacity: 0.9; }\\n\\n.storm-diagrams-canvas .node.selected > .style__node-container___1G9Y- {\\n  border-color: #028aee !important; }\\n\\n.style__node-container___1G9Y- {\\n  width: 200px;\\n  background: white;\\n  border: 1px solid black; }\\n\\n.style__item___J7KXD {\\n  word-wrap: break-word;\\n  text-overflow: ellipsis;\\n  max-height: 78px;\\n  overflow-y: scroll;\\n  border-bottom: 1px solid black;\\n  font-size: 11px; }\\n\\n.style__section-next___Wd7Qi .style__item___J7KXD {\\n  overflow: unset; }\\n\\n.style__item___J7KXD:last-child {\\n  border-bottom: none; }\\n\\n.style__section-title___EDlLm {\\n  font-size: 12px;\\n  font-weight: 600;\\n  padding: 3px 8px;\\n  color: #fff;\\n  background: #000; }\\n  .style__section-title___EDlLm.style__waiting___mUgPB {\\n    background: #f6bd4f;\\n    color: #000; }\\n  .style__section-title___EDlLm .style__subtitle___zJtee {\\n    font-size: 80%; }\\n\\n.style__skill-call-node___2Wx8B .style__section-title___EDlLm {\\n  background: #5353fb; }\\n\\n.style__section-onEnter___1l-QR .style__item___J7KXD,\\n.style__section-onReceive___2ndmf .style__item___J7KXD,\\n.style__section-next___Wd7Qi .style__item___J7KXD {\\n  padding: 3px 8px; }\\n  .style__section-onEnter___1l-QR .style__item___J7KXD.style__fn___1eRJS,\\n  .style__section-onReceive___2ndmf .style__item___J7KXD.style__fn___1eRJS,\\n  .style__section-next___Wd7Qi .style__item___J7KXD.style__fn___1eRJS {\\n    color: blue;\\n    font-style: italic; }\\n  .style__section-onEnter___1l-QR .style__item___J7KXD.style__msg___29N4k,\\n  .style__section-onReceive___2ndmf .style__item___J7KXD.style__msg___29N4k,\\n  .style__section-next___Wd7Qi .style__item___J7KXD.style__msg___29N4k {\\n    color: #00a653; }\\n\\n.style__section-next___Wd7Qi {\\n  border-top: 1px solid black; }\\n\\n.style__section-next___Wd7Qi .style__item___J7KXD {\\n  position: relative;\\n  background: #ececec; }\\n\\n.style__section-next___Wd7Qi .style__item___J7KXD .port {\\n  background: rgba(0, 0, 0, 0.2); }\\n  .style__section-next___Wd7Qi .style__item___J7KXD .port.selected {\\n    background: rgba(0, 0, 0, 0.5); }\\n\\n.style__topPort___2rXL8 {\\n  width: 100%;\\n  margin-top: -15px; }\\n  .style__topPort___2rXL8 .port {\\n    margin: 0 auto;\\n    border: none;\\n    background: rgba(0, 0, 0, 0.2); }\\n    .style__topPort___2rXL8 .port.selected {\\n      background: rgba(0, 0, 0, 0.5); }\\n\\n.style__startPort___2GM6G .port {\\n  background-color: lime !important;\\n  border-top-left-radius: 20px;\\n  border-top-right-radius: 20px; }\\n\\n.style__endPort___1YTtE .port {\\n  background-color: #e62eea !important;\\n  border-top-right-radius: 20px;\\n  border-bottom-right-radius: 20px; }\\n\\n.style__missingConnection___3OXMS .port {\\n  background-color: red !important; }\\n\\n.style__subflowPort___24I4f .port {\\n  background-color: blue !important;\\n  border-top-right-radius: 20px;\\n  border-bottom-right-radius: 20px; }\\n\\n.style__returnPort___3BKBK .port {\\n  background-color: darkcyan !important;\\n  border-top-right-radius: 20px;\\n  border-bottom-right-radius: 20px; }\\n\\n.style__section-next___Wd7Qi .style__portContainer___2BTnl {\\n  position: absolute;\\n  right: -20px;\\n  top: 3px;\\n  width: 20px; }\\n\\n.style__section-next___Wd7Qi .style__portContainer___2BTnl.style__portLabel___3bzyb {\\n  width: 150px;\\n  right: -150px; }\\n\\n.style__portContainer___2BTnl.style__startPort___2GM6G {\\n  height: 15px; }\\n\\n.style__portLabel___3bzyb .style__label___2KNlR {\\n  position: relative;\\n  padding: 5px;\\n  right: -20px;\\n  display: inline;\\n  border-radius: 3px;\\n  top: -16px;\\n  background: rgba(0, 0, 0, 0.08); }\\n\\n.style__subflowPort___24I4f .style__label___2KNlR {\\n  color: blue; }\\n\\n.style__returnPort___3BKBK .style__label___2KNlR {\\n  color: darkcyan; }\\n\\n.style__endPort___1YTtE .style__label___2KNlR {\\n  color: #e62eea; }\\n\\n.style__startPort___2GM6G .style__label___2KNlR {\\n  color: green;\\n  font-size: 11px;\\n  right: -83px;\\n  top: -40px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"node-container\": \"style__node-container___1G9Y-\",\n\t\"item\": \"style__item___J7KXD\",\n\t\"section-next\": \"style__section-next___Wd7Qi\",\n\t\"section-title\": \"style__section-title___EDlLm\",\n\t\"waiting\": \"style__waiting___mUgPB\",\n\t\"subtitle\": \"style__subtitle___zJtee\",\n\t\"skill-call-node\": \"style__skill-call-node___2Wx8B\",\n\t\"section-onEnter\": \"style__section-onEnter___1l-QR\",\n\t\"section-onReceive\": \"style__section-onReceive___2ndmf\",\n\t\"fn\": \"style__fn___1eRJS\",\n\t\"msg\": \"style__msg___29N4k\",\n\t\"topPort\": \"style__topPort___2rXL8\",\n\t\"startPort\": \"style__startPort___2GM6G\",\n\t\"endPort\": \"style__endPort___1YTtE\",\n\t\"missingConnection\": \"style__missingConnection___3OXMS\",\n\t\"subflowPort\": \"style__subflowPort___24I4f\",\n\t\"returnPort\": \"style__returnPort___3BKBK\",\n\t\"portContainer\": \"style__portContainer___2BTnl\",\n\t\"portLabel\": \"style__portLabel___3bzyb\",\n\t\"label\": \"style__label___2KNlR\"\n};","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport { NodeModel, NodeFactory } from 'storm-react-diagrams'\n\nimport { StandardOutgoingPortModel, StandardPortWidget, StandardIncomingPortModel } from './Ports'\nimport ActionItem from '../../common/action'\nimport ConditionItem from '../../common/condition'\n\nconst style = require('./style.scss')\n\nexport class StandardNodeWidget extends Component {\n  static defaultProps = {\n    size: 200,\n    node: null\n  }\n\n  state = {}\n\n  render() {\n    const node = this.props.node\n    const isWaiting = node.waitOnReceive\n\n    const className = classnames(style['node-container'])\n\n    return (\n      <div className={className}>\n        <div className={style.topPort}>\n          <StandardPortWidget name=\"in\" node={node} />\n        </div>\n        <div className={style.header} />\n        <div className={style.content}>\n          <div className={classnames(style['section-onEnter'], style.section)}>\n            {node.onEnter &&\n              node.onEnter.map((item, i) => {\n                return <ActionItem key={`${i}.${item}`} className={style.item} text={item} />\n              })}\n          </div>\n          <div className={classnames(style['section-title'], style.section, { [style.waiting]: isWaiting })}>\n            {node.name}\n          </div>\n          <div className={classnames(style['section-onReceive'], style.section)}>\n            {node.onReceive &&\n              node.onReceive.map((item, i) => {\n                return <ActionItem key={`${i}.${item}`} className={style.item} text={item} />\n              })}\n          </div>\n          <div className={classnames(style['section-next'], style.section)}>\n            {node.next &&\n              node.next.map((item, i) => {\n                const outputPortName = `out${i}`\n                return (\n                  <div key={`${i}.${item}`} className={classnames(style.item)}>\n                    <ConditionItem condition={item} position={i} />\n                    <StandardPortWidget name={outputPortName} node={node} />\n                  </div>\n                )\n              })}\n          </div>\n        </div>\n        <div className={style.footer}>\n          <div />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport class StandardNodeModel extends NodeModel {\n  constructor({ id, x, y, name, onEnter = [], onReceive = [], next = [], isStartNode = false }) {\n    super('standard', id)\n\n    this.setData({ name, onEnter, onReceive, next, isStartNode })\n\n    if (x) {\n      this.x = x\n    }\n    if (y) {\n      this.y = y\n    }\n  }\n\n  serialize() {\n    return _.merge(super.serialize(), {\n      name: this.name,\n      onEnter: this.onEnter,\n      onReceive: this.onReceive,\n      next: this.next\n    })\n  }\n\n  deSerialize(data) {\n    super.deSerialize(data)\n\n    this.setData({ name: data.name, onEnter: data.onEnter, onReceive: data.onReceive, next: data.next })\n  }\n\n  getOutPorts() {\n    return _.filter(_.values(this.ports), p => p.name.startsWith('out'))\n  }\n\n  setData({ name, onEnter = [], onReceive = [], next = [], isStartNode }) {\n    this.isStartNode = isStartNode\n    const inNodeType = isStartNode ? 'start' : 'normal'\n    const waitOnReceive = !_.isNil(onReceive)\n\n    if (!this.ports['in']) {\n      this.addPort(new StandardIncomingPortModel('in', inNodeType))\n    }\n\n    // We create as many output port as needed\n    for (let i = 0; i < next.length; i++) {\n      if (!this.ports['out' + i]) {\n        this.addPort(new StandardOutgoingPortModel('out' + i))\n      }\n    }\n\n    if (_.isString(onEnter)) {\n      onEnter = [onEnter]\n    }\n\n    if (_.isString(onReceive)) {\n      onReceive = [onReceive]\n    } else if (_.isNil(onReceive)) {\n      onReceive = []\n    }\n\n    onReceive = onReceive.map(x => x.function || x)\n\n    if (!_.isArray(next) && _.isObjectLike(next)) {\n      next = [next]\n    }\n\n    this.onEnter = onEnter\n    this.onReceive = onReceive\n    this.waitOnReceive = waitOnReceive\n    this.next = next\n    this.name = name\n  }\n}\n\nexport const StandardNodeWidgetFactory = React.createFactory(StandardNodeWidget)\n\nexport class StandardWidgetFactory extends NodeFactory {\n  constructor() {\n    super('standard')\n  }\n\n  generateReactWidget(diagramEngine, node) {\n    return StandardNodeWidgetFactory({ node })\n  }\n}\n","import React, { Component } from 'react'\nimport { Button, Label } from 'react-bootstrap'\n\nimport ReactDOM from 'react-dom'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport { DiagramWidget, DiagramEngine, DiagramModel, LinkModel, PointModel } from 'storm-react-diagrams'\nimport { toast } from 'react-toastify'\n\nimport { hashCode } from '~/util'\n\nimport { StandardNodeModel, StandardWidgetFactory } from './nodes/StandardNode'\nimport { SkillCallNodeModel, SkillCallWidgetFactory } from './nodes/SkillCallNode'\nimport { DeletableLinkFactory } from './nodes/LinkWidget'\n\nconst style = require('./style.scss')\n\nconst passThroughNodeProps = ['name', 'onEnter', 'onReceive', 'next', 'skill']\nconst PADDING = 100\n\nconst createNodeModel = (node, props) => {\n  if (node.type && node.type === 'skill-call') {\n    return new SkillCallNodeModel({ ...props })\n  } else {\n    return new StandardNodeModel({ ...props })\n  }\n}\n\nexport default class FlowBuilder extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n\n    this.diagramEngine = new DiagramEngine()\n\n    this.diagramEngine.registerNodeFactory(new StandardWidgetFactory())\n    this.diagramEngine.registerNodeFactory(new SkillCallWidgetFactory())\n    this.diagramEngine.registerLinkFactory(new DeletableLinkFactory())\n\n    this.setModel()\n  }\n\n  setTranslation(x = 0, y = 0) {\n    this.activeModel.setOffset(x, y)\n    this.diagramWidget.fireAction()\n    this.diagramWidget.forceUpdate()\n  }\n\n  createFlow(name) {\n    this.props.createFlow(name + '.flow.json')\n  }\n\n  setModel() {\n    this.activeModel = new DiagramModel()\n    this.activeModel.setGridSize(5)\n    this.activeModel.linksHash = null\n    this.activeModel.setLocked(this.props.readOnly)\n\n    const currentFlow = this.props.currentFlow\n    if (!currentFlow) {\n      return\n    }\n\n    const nodes = currentFlow.nodes.map(node => {\n      const model = createNodeModel(node, { ...node, isStartNode: currentFlow.startNode === node.name })\n      model.x = model.oldX = node.x\n      model.y = model.oldY = node.y\n\n      return model\n    })\n\n    nodes.forEach(node => this.activeModel.addNode(node))\n    nodes.forEach(node => this.createNodeLinks(node, nodes, this.props.currentFlow.links))\n\n    this.diagramEngine.setDiagramModel(this.activeModel)\n\n    const diagramContainer = document.getElementById('diagramContainer')\n\n    if (diagramContainer) {\n      const diagramWidth = diagramContainer.offsetWidth\n      const totalFlowWidth = _.max(nodes.map(({ x }) => x)) - _.min(nodes.map(({ x }) => x))\n      this.activeModel.setZoomLevel(Math.min(1, diagramWidth / (totalFlowWidth + 2 * PADDING)) * 100)\n      this.activeModel.setOffsetX(-_.min(nodes.map(({ x }) => x)) + PADDING)\n      this.activeModel.setOffsetY(-_.min(nodes.map(({ y }) => y)) + PADDING)\n\n      this.diagramWidget && this.diagramWidget.forceUpdate()\n    }\n  }\n\n  clearModel() {\n    this.activeModel = new DiagramModel()\n    this.activeModel.setGridSize(5)\n    this.activeModel.linksHash = null\n    this.activeModel.setLocked(this.props.readOnly)\n\n    this.diagramEngine.setDiagramModel(this.activeModel)\n    this.diagramWidget && this.diagramWidget.forceUpdate()\n  }\n\n  createNodeLinks(node, allNodes, existingLinks = []) {\n    if (!_.isArray(node.next)) {\n      return\n    }\n\n    node.next.forEach((next, index) => {\n      const target = next.node\n      if (/^END$/i.test(target)) {\n        // Handle end connection\n      } else if (/\\.flow/i.test(target)) {\n        // Handle subflow connection\n      } else {\n        const sourcePort = node.ports['out' + index]\n        const targetNode = _.find(allNodes, { name: next.node })\n\n        if (!targetNode) {\n          // TODO Show warning that target node doesn't exist\n          return\n        }\n\n        const existingLink = _.find(existingLinks, {\n          source: node.id,\n          target: targetNode.id,\n          sourcePort: sourcePort.name\n        })\n        const targetPort = targetNode.ports['in']\n        const link = new LinkModel()\n        link.setSourcePort(sourcePort)\n        link.setTargetPort(targetPort)\n\n        if (existingLink) {\n          link.setPoints(\n            existingLink.points.map(pt => {\n              return new PointModel(link, { x: pt.x, y: pt.y })\n            })\n          )\n        }\n\n        this.activeModel.addLink(link)\n      }\n    })\n  }\n\n  deleteNode(nodeId) {\n    const ports = this.activeModel.getNode(nodeId).getPorts()\n    this.activeModel.removeNode(nodeId)\n    _.values(ports).forEach(port => {\n      _.values(port.getLinks()).forEach(link => {\n        this.activeModel.removeLink(link)\n      })\n    })\n  }\n\n  syncModel() {\n    // Don't serialize more than once\n    const snapshot = _.once(this.serialize)\n\n    // Remove nodes that have been deleted\n    _.keys(this.activeModel.getNodes()).forEach(nodeId => {\n      if (!_.find(this.props.currentFlow.nodes, { id: nodeId })) {\n        this.deleteNode(nodeId)\n      }\n    })\n\n    this.props.currentFlow &&\n      this.props.currentFlow.nodes.forEach(node => {\n        const model = this.activeModel.getNode(node.id)\n\n        if (!model) {\n          // Node doesn't exist\n          this.addNode(node)\n        } else if (model.lastModified !== node.lastModified) {\n          // Node has been modified\n          this.syncNode(node, model, snapshot())\n        } else {\n          model.setData({\n            ..._.pick(node, passThroughNodeProps),\n            isStartNode: this.props.currentFlow.startNode === node.name\n          })\n        }\n      })\n\n    this.activeModel.setLocked(this.props.readOnly)\n    this.diagramWidget.forceUpdate()\n  }\n\n  addNode(node) {\n    const model = createNodeModel(node, { ...node, isStartNode: this.props.currentFlow.startNode === node.name })\n    model.x = model.oldX = node.x\n    model.y = model.oldY = node.y\n    this.activeModel.addNode(model)\n\n    setTimeout(() => {\n      // Select newly inserted nodes\n      model.setSelected(true)\n      this.props.switchFlowNode(node.id)\n    }, 150)\n\n    model.setData({\n      ..._.pick(node, passThroughNodeProps),\n      isStartNode: this.props.currentFlow.startNode === node.name\n    })\n\n    model.lastModified = node.lastModified\n  }\n\n  syncNode(node, model, snapshot) {\n    model.setData({\n      ..._.pick(node, passThroughNodeProps),\n      isStartNode: this.props.currentFlow.startNode === node.name\n    })\n\n    model.setPosition(node.x, node.y)\n\n    const ports = model.getOutPorts()\n    ports.forEach(port => {\n      _.values(port.links).forEach(link => {\n        this.activeModel.removeLink(link)\n        port.removeLink(link)\n      })\n    })\n\n    // Recreate all the links\n    // If there's an existing link saved for target,port .. reuse the point locations\n\n    const allNodes = _.values(this.activeModel.getNodes())\n    this.createNodeLinks(model, allNodes, snapshot.links)\n\n    model.lastModified = node.lastModified\n  }\n\n  getSelectedNode() {\n    return _.first(this.activeModel.getSelectedItems() || [], { selected: true })\n  }\n\n  componentDidMount() {\n    this.props.fetchFlows()\n    ReactDOM.findDOMNode(this.diagramWidget).addEventListener('click', this.onDiagramClick)\n    ReactDOM.findDOMNode(this.diagramWidget).addEventListener('dblclick', this.onDiagramDoubleClick)\n    document.getElementById('diagramContainer').addEventListener('keydown', this.onKeyDown)\n  }\n\n  componentWillUnmount() {\n    ReactDOM.findDOMNode(this.diagramWidget).removeEventListener('click', this.onDiagramClick)\n    ReactDOM.findDOMNode(this.diagramWidget).removeEventListener('dblclick', this.onDiagramDoubleClick)\n    document.getElementById('diagramContainer').removeEventListener('keydown', this.onKeyDown)\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!this.props.currentFlow) {\n      // Clear the active model\n      this.clearModel()\n    } else if (\n      !prevProps.currentFlow ||\n      _.get(prevProps, 'currentFlow.name') !== _.get(this, 'props.currentFlow.name')\n    ) {\n      // Update the diagram model only if we changed the current flow\n      this.setModel()\n    } else {\n      // Update the current model with the new properties\n      this.syncModel()\n    }\n  }\n\n  onDiagramDoubleClick = () => {\n    this.props.openFlowNodeProps()\n  }\n\n  onDiagramClick = event => {\n    const selectedNode = this.getSelectedNode()\n    const currentNode = this.props.currentFlowNode\n\n    // Sanitizing the links, making sure that:\n    // 1) All links are connected to ONE [out] and [in] port\n    // 2) All ports have only ONE outbound link\n    const links = _.values(this.activeModel.getLinks())\n    links.forEach(link => {\n      // If there's not two ports attached to the link\n      if (!link.sourcePort || !link.targetPort) {\n        link.remove()\n        return this.diagramWidget.forceUpdate()\n      }\n\n      // We need at least one input port\n      if (link.sourcePort.name !== 'in' && link.targetPort.name !== 'in') {\n        link.remove()\n        return this.diagramWidget.forceUpdate()\n      }\n\n      // We need at least one output port\n      if (!link.sourcePort.name.startsWith('out') && !link.targetPort.name.startsWith('out')) {\n        link.remove()\n        return this.diagramWidget.forceUpdate()\n      }\n\n      // If ports have more than one outbout link\n      const ports = [link.sourcePort, link.targetPort]\n      ports.forEach(port => {\n        if (!port) {\n          return\n        }\n        const portLinks = _.values(port.links)\n        if (port.name.startsWith('out') && portLinks.length > 1) {\n          _.last(portLinks).remove()\n          this.diagramWidget.forceUpdate()\n        }\n      })\n\n      // We don't want to link node to itself\n      const outPort = link.sourcePort.name.startsWith('out') ? link.sourcePort : link.targetPort\n      const targetPort = link.sourcePort.name.startsWith('out') ? link.targetPort : link.sourcePort\n      if (outPort.parentNode.id === targetPort.parentNode.id) {\n        link.remove()\n        return this.diagramWidget.forceUpdate()\n      }\n    })\n\n    if (this.props.currentDiagramAction && this.props.currentDiagramAction.startsWith('insert_')) {\n      let { x, y } = this.diagramEngine.getRelativePoint(event.clientX, event.clientY)\n\n      const zoomFactor = this.activeModel.getZoomLevel() / 100\n\n      x /= zoomFactor\n      y /= zoomFactor\n\n      x -= this.activeModel.getOffsetX() / zoomFactor\n      y -= this.activeModel.getOffsetY() / zoomFactor\n\n      if (this.props.currentDiagramAction === 'insert_skill') {\n        this.props.insertNewSkillNode({ x, y })\n      } else {\n        this.props.createFlowNode({ x, y })\n      }\n\n      this.props.setDiagramAction(null)\n    }\n\n    if (!selectedNode && currentNode) {\n      this.props.switchFlowNode(null) // No node selected\n    } else if (selectedNode && (!currentNode || selectedNode.id !== currentNode.id)) {\n      this.props.switchFlowNode(selectedNode.id) // Selected a new node\n    }\n\n    if (selectedNode && (selectedNode.oldX !== selectedNode.x || selectedNode.oldY !== selectedNode.y)) {\n      this.props.updateFlowNode({ x: selectedNode.x, y: selectedNode.y })\n      Object.assign(selectedNode, { oldX: selectedNode.x, oldY: selectedNode.y })\n    }\n\n    this.checkForLinksUpdate()\n  }\n\n  checkForLinksUpdate() {\n    const newLinks = this.serializeLinks()\n    const newLinksHash = hashCode(JSON.stringify(newLinks))\n\n    if (!this.activeModel.linksHash) {\n      this.activeModel.linksHash = newLinksHash\n    }\n\n    if (this.activeModel.linksHash !== newLinksHash) {\n      this.activeModel.linksHash = newLinksHash\n      this.props.updateFlow({ links: newLinks })\n    }\n  }\n\n  serialize = () => {\n    const model = this.activeModel.serializeDiagram()\n\n    const nodes = model.nodes.map(node => {\n      return {\n        ..._.pick(node, 'id', 'name', 'onEnter', 'onReceive'),\n        next: node.next.map((next, index) => {\n          const port = _.find(node.ports, { name: 'out' + index })\n\n          if (!port || !port.links || !port.links.length) {\n            return next\n          }\n\n          const link = _.find(model.links, { id: port.links[0] })\n          const otherNodeId = link && (link.source === node.id ? link.target : link.source)\n          const otherNode = _.find(model.nodes, { id: otherNodeId })\n\n          if (!otherNode) {\n            return next\n          }\n\n          return { condition: next.condition, node: otherNode.name }\n        }),\n        position: _.pick(node, 'x', 'y')\n      }\n    })\n\n    const links = this.serializeLinks()\n\n    return { links, nodes }\n  }\n\n  serializeLinks() {\n    const diagram = this.activeModel.serializeDiagram()\n\n    return diagram.links.map(link => {\n      const instance = this.activeModel.getLink(link.id)\n      const model = {\n        source: link.source,\n        sourcePort: instance.sourcePort.name,\n        target: link.target,\n        points: link.points.map(pt => ({ x: pt.x, y: pt.y }))\n      }\n\n      if (instance.sourcePort.name === 'in') {\n        // We reverse the model so that target is always an input port\n        model.source = link.target\n        model.sourcePort = instance.targetPort.name\n        model.target = link.source\n        model.points = _.reverse(model.points)\n      }\n\n      return model\n    })\n  }\n\n  saveAllFlows() {\n    this.props.saveAllFlows()\n  }\n\n  deleteSelectedElements() {\n    const elements = _.sortBy(this.diagramEngine.getDiagramModel().getSelectedItems(), 'nodeType')\n\n    // Use sorting to make the nodes first in the array, deleting the node before the links\n    for (const element of elements) {\n      if (!this.diagramEngine.isModelLocked(element)) {\n        if (element.isStartNode) {\n          return alert(\"You can't delete the start node.\")\n        } else if (\n          _.includes(['standard', 'skill-call'], element.nodeType) ||\n          _.includes(['standard', 'skill-call'], element.type)\n        ) {\n          this.props.removeFlowNode(element.id)\n        } else if (element.linkType === 'default') {\n          element.remove()\n          this.checkForLinksUpdate()\n        } else {\n          element.remove() // it's a point or something else\n        }\n      }\n    }\n\n    this.diagramWidget.forceUpdate()\n  }\n\n  copySelectedElementToBuffer() {\n    this.props.copyFlowNode()\n    toast('Copied to buffer!', {\n      autoClose: 1000,\n      position: toast.POSITION.TOP_CENTER,\n      hideProgressBar: true,\n      closeButton: false\n    })\n  }\n\n  pasteElementFromBuffer() {\n    this.props.pasteFlowNode({ x: -this.activeModel.offsetX + PADDING, y: -this.activeModel.offsetY + PADDING })\n    this.getSelectedNode().setSelected(false)\n  }\n\n  onKeyDown = event => {\n    if ((event.ctrlKey || event.metaKey) && event.key === 'c') {\n      this.copySelectedElementToBuffer()\n    } else if ((event.ctrlKey || event.metaKey) && event.key === 'v') {\n      this.pasteElementFromBuffer()\n    } else if (event.code === 'Backspace') {\n      this.deleteSelectedElements()\n    }\n  }\n\n  render() {\n    const isInserting = this.props.currentDiagramAction && this.props.currentDiagramAction.startsWith('insert_')\n    const classNames = classnames({ [style.insertNode]: isInserting })\n    const cancelInsert = () => this.props.setDiagramAction(null)\n\n    return (\n      <div\n        id=\"diagramContainer\"\n        tabIndex=\"1\"\n        className={classNames}\n        style={{ outline: 'none', width: '100%', height: '100%' }}\n      >\n        {isInserting && (\n          <div className={style.insertMode}>\n            <div>\n              <Label bsStyle=\"primary\">Insertion Mode</Label>\n            </div>\n            <Button bsStyle=\"danger\" onClick={cancelInsert}>\n              Cancel\n            </Button>\n          </div>\n        )}\n        <DiagramWidget\n          readOnly={this.props.readOnly}\n          ref={w => (this.diagramWidget = w)}\n          deleteKeys={[]}\n          diagramEngine={this.diagramEngine}\n        />\n      </div>\n    )\n  }\n}\n","import { connect } from 'react-redux'\n\nimport { getCurrentFlow, getCurrentFlowNode } from '~/reducers'\nimport {\n  fetchFlows,\n  switchFlowNode,\n  openFlowNodeProps,\n  setDiagramAction,\n  createFlowNode,\n  saveAllFlows,\n  updateFlowNode,\n  removeFlowNode,\n  copyFlowNode,\n  pasteFlowNode,\n  createFlow,\n  updateFlow,\n  insertNewSkillNode\n} from '~/actions'\n\nimport Diagram from '../diagram'\n\nconst mapStateToProps = state => ({\n  flows: state.flows,\n  currentFlow: getCurrentFlow(state),\n  currentFlowNode: getCurrentFlowNode(state),\n  currentDiagramAction: state.flows.currentDiagramAction\n})\n\nconst mapDispatchToProps = {\n  fetchFlows,\n  switchFlowNode,\n  openFlowNodeProps,\n  setDiagramAction,\n  createFlowNode,\n  saveAllFlows,\n  removeFlowNode,\n  createFlow,\n  updateFlowNode,\n  updateFlow,\n  copyFlowNode,\n  pasteFlowNode,\n  insertNewSkillNode\n}\n\nconst ConnectedDiagram = connect(mapStateToProps, mapDispatchToProps, null, { withRef: true })(Diagram)\nexport default ConnectedDiagram\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport classnames from 'classnames'\nimport style from './ContentWrapper.scss'\n\nclass ContentWrapper extends React.Component {\n  state = {\n    show: false\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.setState({\n        show: true\n      })\n    }, 50)\n  }\n\n  render() {\n    const { unwrap, viewMode, stretch: _stretch, children } = this.props\n\n    const childElement = unwrap ? <div className=\"unwrap\">{children}</div> : children\n\n    const hasPadding = viewMode < 2\n    const stretch = _stretch === true\n\n    const classNames = classnames({\n      [style.contentWrapper]: true,\n      'bp-content-wrapper': true,\n      [style.contentWrapperPadding]: !stretch && hasPadding,\n      'bp-content-wrapper-padding': !stretch && hasPadding,\n      [style.show]: this.state.show,\n      'bp-content-wrapper-show': this.state.show,\n      [this.props.className]: true\n    })\n\n    return <div className={classNames}>{childElement}</div>\n  }\n}\n\nconst mapStateToProps = state => ({ viewMode: state.ui.viewMode })\n\nexport default connect(mapStateToProps)(ContentWrapper)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"#toolbarInsertSkill {\\n  padding: 3px 12px;\\n  margin: 3px 5px 0;\\n  border-radius: 0; }\\n\\n.toolbar__wrapper___1jiX3 {\\n  width: 100%;\\n  border-top: 1px solid #e0e0e0;\\n  border-bottom: 1px solid #e0e0e0;\\n  background: #fafafa;\\n  padding: 0 40px; }\\n\\n.toolbar__toolbar___3dUHc .toolbar__unsavedText___1M_K- {\\n  color: #888; }\\n\\n.toolbar__separator___G34EP {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  border-left: 1px solid #d9d9d9;\\n  height: 40px;\\n  margin: 0 5px 0 4px;\\n  vertical-align: top;\\n  display: inline-block; }\\n\\n.toolbar__btn___3YXDx {\\n  -webkit-user-select: none;\\n     -moz-user-select: none;\\n      -ms-user-select: none;\\n          user-select: none;\\n  margin: 6px 0 0 2px;\\n  height: 30px;\\n  background: 0;\\n  border-color: transparent;\\n  border-style: solid;\\n  border-width: 1px;\\n  border-radius: 2px;\\n  outline: none;\\n  padding: 0;\\n  line-height: 30px;\\n  list-style: none;\\n  font-size: 11px;\\n  font-weight: bold;\\n  text-decoration: none;\\n  vertical-align: middle;\\n  cursor: pointer; }\\n  .toolbar__btn___3YXDx:focus {\\n    outline: none !important; }\\n  .toolbar__btn___3YXDx i {\\n    padding: 4px 3px;\\n    font-size: 21px;\\n    color: #000;\\n    opacity: 0.54; }\\n  .toolbar__btn___3YXDx:hover {\\n    border-color: transparent !important;\\n    border-color: rgba(0, 0, 0, 0.06); }\\n    .toolbar__btn___3YXDx:hover i {\\n      opacity: 1; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"wrapper\": \"toolbar__wrapper___1jiX3\",\n\t\"toolbar\": \"toolbar__toolbar___3dUHc\",\n\t\"unsavedText\": \"toolbar__unsavedText___1M_K-\",\n\t\"separator\": \"toolbar__separator___G34EP\",\n\t\"btn\": \"toolbar__btn___3YXDx\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./toolbar.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./toolbar.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./toolbar.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n\nimport { Button, OverlayTrigger, Tooltip, DropdownButton, MenuItem } from 'react-bootstrap'\n\nimport _ from 'lodash'\n\nimport { updateGlobalStyle } from '~/actions'\nimport PermissionsChecker from '~/components/Layout/PermissionsChecker'\n\nconst style = require('./toolbar.scss')\n\nclass Toolbar extends React.Component {\n  componentDidMount() {\n    this.props.updateGlobalStyle({\n      'bp-navbar': {\n        borderBottom: 'none'\n      }\n    })\n  }\n\n  componentWillUnmount() {\n    this.props.updateGlobalStyle({\n      'bp-navbar': {}\n    })\n  }\n\n  render() {\n    const createTooltip = (name, text) => <Tooltip id={name}>{text}</Tooltip>\n\n    const hasUnsavedChanges = !_.isEmpty(this.props.dirtyFlows)\n\n    const isInsertNodeMode = this.props.currentDiagramAction === 'insert_node'\n\n    const toggleInsertMode = action => () => {\n      this.props.setDiagramAction(this.props.currentDiagramAction === action ? null : action)\n    }\n\n    const canMakeStartNode = () => {\n      const current = this.props.currentFlow && this.props.currentFlow.startNode\n      const potential = this.props.currentFlowNode && this.props.currentFlowNode.name\n      return current && potential && current !== potential\n    }\n\n    const setAsCurrentNode = () => {\n      this.props.updateFlow({\n        startNode: this.props.currentFlowNode.name\n      })\n    }\n\n    const promptNewFlow = () => {\n      let name = prompt('Enter the name of the new flow')\n\n      if (!name) {\n        return\n      }\n\n      name = name.replace(/\\.flow\\.json$/i, '')\n\n      if (/[^A-Z0-9-_\\/]/i.test(name)) {\n        return alert('ERROR: The flow name can only contain letters, numbers, underscores and hyphens.')\n      }\n\n      if (_.includes(this.props.flowsNames, name + '.flow.json')) {\n        return alert('ERROR: This flow already exists')\n      }\n\n      this.props.onCreateFlow(name)\n    }\n\n    const noSkills = (\n      <MenuItem eventKey=\"1\" disabled={true}>\n        No skills installed\n      </MenuItem>\n    )\n\n    const insertSkillsDropdown = (\n      <PermissionsChecker user={this.props.user} op=\"write\" res=\"bot.skills\">\n        <DropdownButton title=\"Insert skill\" id=\"toolbarInsertSkill\">\n          <MenuItem header>Installed skills</MenuItem>\n          {!this.props.skills.length && noSkills}\n          {this.props.skills.map((skill, i) => (\n            <MenuItem key={i} eventKey={i} onClick={() => this.props.buildSkill(skill.id)}>\n              {skill.name}\n            </MenuItem>\n          ))}\n        </DropdownButton>\n      </PermissionsChecker>\n    )\n\n    return (\n      <div className={style.wrapper}>\n        <div className={style.toolbar}>\n          <Button className={style.btn} bsStyle=\"default\" onClick={promptNewFlow}>\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('addFlow', 'Create new flow')}>\n              <i className=\"material-icons\">create_new_folder</i>\n            </OverlayTrigger>\n          </Button>\n\n          <div className={style.separator} />\n\n          <Button\n            className={style.btn}\n            bsStyle=\"default\"\n            disabled={window.BOTPRESS_FLOW_EDITOR_DISABLED || !hasUnsavedChanges}\n            onClick={() => this.props.onSaveAllFlows && this.props.onSaveAllFlows()}\n          >\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('saveAll', 'Save all')}>\n              <i className=\"material-icons\">save</i>\n            </OverlayTrigger>\n          </Button>\n\n          <div className={style.separator} />\n\n          <Button className={style.btn} bsStyle=\"default\" disabled={!this.props.canUndo} onClick={this.props.undo}>\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('undo', 'Undo')}>\n              <i className=\"material-icons\">undo</i>\n            </OverlayTrigger>\n          </Button>\n\n          <Button className={style.btn} bsStyle=\"default\" disabled={!this.props.canRedo} onClick={this.props.redo}>\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('redo', 'Redo')}>\n              <i className=\"material-icons\">redo</i>\n            </OverlayTrigger>\n          </Button>\n\n          <Button className={style.btn} bsStyle=\"default\" onClick={this.props.onCopy}>\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('copy', 'Copy')}>\n              <i className=\"material-icons\">content_copy</i>\n            </OverlayTrigger>\n          </Button>\n\n          <Button\n            className={style.btn}\n            bsStyle=\"default\"\n            onClick={this.props.onPaste}\n            disabled={!this.props.canPasteNode}\n          >\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('paste', 'Paste')}>\n              <i className=\"material-icons\">content_paste</i>\n            </OverlayTrigger>\n          </Button>\n\n          <div className={style.separator} />\n\n          <Button\n            className={style.btn}\n            bsStyle=\"default\"\n            active={isInsertNodeMode}\n            onClick={toggleInsertMode('insert_node')}\n          >\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('addNode', 'Insert New Node')}>\n              <i className=\"material-icons\">add_box</i>\n            </OverlayTrigger>\n          </Button>\n\n          {insertSkillsDropdown}\n\n          <div className={style.separator} />\n\n          <Button className={style.btn} bsStyle=\"default\" disabled={!canMakeStartNode()} onClick={setAsCurrentNode}>\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('makeStartNode', 'Set as Start node')}>\n              <i className=\"material-icons\">stars</i>\n            </OverlayTrigger>\n          </Button>\n\n          <Button className={style.btn} bsStyle=\"default\" onClick={this.props.onDelete}>\n            <OverlayTrigger placement=\"bottom\" overlay={createTooltip('delete', 'Delete')}>\n              <i className=\"material-icons\">delete</i>\n            </OverlayTrigger>\n          </Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ updateGlobalStyle }, dispatch)\n\nexport default connect(null, mapDispatchToProps)(Toolbar)\n","import { connect } from 'react-redux'\nimport _ from 'lodash'\n\nimport { setDiagramAction, updateFlow, flowEditorRedo, flowEditorUndo, buildNewSkill } from '~/actions'\nimport { getCurrentFlow, getCurrentFlowNode, getDirtyFlows, canFlowUndo, canFlowRedo } from '~/reducers'\n\nimport Toolbar from '../toolbar.jsx'\n\nconst mapStateToProps = state => ({\n  flowsNames: _.keys(state.flows.flowsByName),\n  currentFlow: getCurrentFlow(state),\n  currentDiagramAction: state.flows.currentDiagramAction,\n  currentFlowNode: getCurrentFlowNode(state),\n  dirtyFlows: getDirtyFlows(state),\n  canUndo: canFlowUndo(state),\n  canRedo: canFlowRedo(state),\n  canPasteNode: Boolean(state.flows.nodeInBuffer),\n  skills: state.skills.installed,\n  user: state.user\n})\n\nconst mapDispatchToProps = {\n  setDiagramAction: setDiagramAction,\n  updateFlow: updateFlow,\n  undo: flowEditorUndo,\n  redo: flowEditorRedo,\n  buildSkill: buildNewSkill\n}\n\nconst ConnectedToolbar = connect(mapStateToProps, mapDispatchToProps)(Toolbar)\n\nexport default ConnectedToolbar\n","import React, { Component } from 'react'\nimport SplitPane from 'react-split-pane'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport _ from 'lodash'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\nimport { operationAllowed } from '~/components/Layout/PermissionsChecker'\n\nimport Toolbar from './containers/Toolbar'\nimport Diagram from './containers/Diagram'\nimport SidePanel from './containers/SidePanel'\nimport Topbar from './containers/Topbar'\nimport SkillsBuilder from './containers/SkillsBuilder'\nimport NodeProps from './containers/NodeProps'\n\nimport { switchFlow } from '~/actions'\nimport { getDirtyFlows } from '~/reducers'\n\nconst style = require('./style.scss')\n\nclass FlowBuilder extends Component {\n  state = {\n    initialized: false\n  }\n\n  init() {\n    if (this.state.initialized || !this.props.user || this.props.user.id == null) {\n      return\n    }\n    this.setState({\n      initialized: true,\n      readOnly: !operationAllowed({ user: this.props.user, op: 'write', res: 'bot.flows' })\n    })\n  }\n\n  componentDidMount() {\n    this.init()\n  }\n\n  componentDidUpdate() {\n    this.init()\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { flow } = nextProps.match.params\n    if (flow) {\n      const nextFlow = `${flow}.flow.json`\n      if (this.props.currentFlow !== nextFlow) {\n        this.props.switchFlow(nextFlow)\n      }\n    } else if (this.props.currentFlow) {\n      this.props.history.push(`/flows/${this.props.currentFlow.replace(/\\.flow\\.json/, '')}`)\n    }\n  }\n\n  componentWillUnmount() {\n    const { pathname } = this.props.history.location\n    const hasDirtyFlows = !_.isEmpty(this.props.dirtyFlows)\n\n    const hasUnsavedChanges = !/^\\/flows\\//g.exec(pathname) && !window.BOTPRESS_FLOW_EDITOR_DISABLED && hasDirtyFlows\n\n    if (hasUnsavedChanges) {\n      const isSave = confirm('Save changes?')\n\n      if (isSave) {\n        this.diagram.saveAllFlows()\n      }\n    }\n  }\n\n  render() {\n    if (!this.state.initialized) {\n      return null\n    }\n\n    const { readOnly } = this.state\n\n    return (\n      <ContentWrapper stretch={true} className={style.wrapper}>\n        <PageHeader className={style.header} width=\"100%\">\n          <Topbar readOnly={readOnly} />\n        </PageHeader>\n        {!readOnly && (\n          <Toolbar\n            onSaveAllFlows={() => {\n              this.diagram.saveAllFlows()\n            }}\n            onCreateFlow={name => {\n              this.diagram.createFlow(name)\n            }}\n            onDelete={() => {\n              this.diagram.deleteSelectedElements()\n            }}\n            onCopy={() => {\n              this.diagram.copySelectedElementToBuffer()\n            }}\n            onPaste={() => {\n              this.diagram.pasteElementFromBuffer()\n            }}\n          />\n        )}\n        <div className={style.workspace}>\n          <SplitPane split=\"vertical\" minSize={200} defaultSize={250}>\n            <div className={style.sidePanel}>\n              <SidePanel readOnly={readOnly} />\n            </div>\n\n            <div className={style.diagram}>\n              <Diagram\n                readOnly={readOnly}\n                ref={el => {\n                  if (!!el) {\n                    this.diagram = el.getWrappedInstance()\n                  }\n                }}\n              />\n            </div>\n          </SplitPane>\n          <SkillsBuilder />\n          <NodeProps readOnly={readOnly} show={this.props.showFlowNodeProps} />\n        </div>\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  currentFlow: state.flows.currentFlow,\n  showFlowNodeProps: state.flows.showFlowNodeProps,\n  dirtyFlows: getDirtyFlows(state),\n  user: state.user\n})\n\nexport default connect(mapStateToProps, { switchFlow })(withRouter(FlowBuilder))\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__folders___Y0bTe {\\n  list-style: none;\\n  padding: 0; }\\n\\n.style__files___1_M0Y {\\n  list-style: none;\\n  padding: 0; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"folders\": \"style__folders___Y0bTe\",\n\t\"files\": \"style__files___1_M0Y\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport { getHost } from './util'\n\nconst AboutGhostContent = () => (\n  <section>\n    <p>Some of the bot's behavior is determined by the content coming from the files (Content / Forms, Flows).</p>\n    <p>For your convenience Botpress provides the GUI tools to edit these files while in development.</p>\n    <p>\n      We also provide the same tools in production, but there's a caveat. If we would write the same change to the\n      server's file system they could easily be lost due to the nature of ephemeral server instances (when the new\n      version of the bot is deployed the old server instance may be simply shut down by the cloud hosting platform).\n    </p>\n    <p>\n      To address this issue we give you the Ghost COntent feature. In production your changes are saved to the database\n      which is persisted between deployments. But how do you get these changes back to your bot's codebase?\n    </p>\n    <p>\n      To do so you run a special command from your bot folder,&nbsp;\n      <code>./node_modules/.bin/botpress ghost-sync {getHost()}</code>. This will fetch the updated content from the\n      server, apply it to the local file system, and also record the revision IDs in a special file.\n    </p>\n    <p>The synchronisation is finalized after these updated files are redeployed.</p>\n  </section>\n)\n\nexport default AboutGhostContent\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport orderBy from 'lodash/orderBy'\nimport moment from 'moment'\n\nimport { Alert, Button, Modal, Panel } from 'react-bootstrap'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\nimport PermissionsChecker from '~/components/Layout/PermissionsChecker'\nimport Loading from '~/components/Util/Loading'\nimport About from './About'\n\nimport { fetchStatus, getHost, revertPendingFileChanges } from './util'\n\nimport style from './style.scss'\n\nclass GhostView extends Component {\n  state = {\n    loading: true,\n    data: null,\n    error: null,\n    showAbout: false,\n    showSyncHelp: false\n  }\n\n  showAbout = () => {\n    this.setState({ showAbout: true })\n  }\n\n  hideAbout = () => {\n    this.setState({ showAbout: false })\n  }\n\n  showSyncHelp = () => {\n    this.setState({ showSyncHelp: true })\n  }\n\n  hideSyncHelp = () => {\n    this.setState({ showSyncHelp: false })\n  }\n\n  fetch() {\n    this.setState({ loading: true })\n\n    fetchStatus()\n      .then(data => {\n        this.setState({ data, loading: false, error: null })\n      })\n      .catch(error => {\n        this.setState({ error: error.message || 'Unknown', loading: false })\n      })\n  }\n\n  componentDidMount() {\n    this.fetch()\n  }\n\n  renderRevision({ folder, file, revision, created_on: createdOn }, index) {\n    const mostRecent = index === 0 ? '(most recent)' : ''\n    const timeAgo = moment.utc(createdOn).fromNow()\n\n    return (\n      <li key={`${folder}/${file}/${revision}`}>\n        Revision <code>{revision}</code> – Edited {timeAgo} {mostRecent}\n      </li>\n    )\n  }\n\n  revertFile(folder, file) {\n    return revertPendingFileChanges(folder, file).then(() => this.fetch())\n  }\n\n  renderFile(folder, file, data) {\n    data = orderBy(data, ['created_on'], ['desc'])\n\n    const undo = () => {\n      if (confirm('Are you sure you want to revert these changes? Changes will be lost and this is not reversible.')) {\n        this.revertFile(folder, file)\n      }\n    }\n\n    return (\n      <li key={`${folder}/${file}`}>\n        <details>\n          <summary>\n            {file}\n            <PermissionsChecker user={this.props.user} op=\"write\" res=\"bot.ghost_content\">\n              {' '}\n              <a href=\"javascript:void(0);\" onClick={undo}>\n                Revert changes\n              </a>\n            </PermissionsChecker>\n          </summary>\n          <ul>{data.map((datum, i) => this.renderRevision(Object.assign({ folder }, datum), i))}</ul>\n        </details>\n      </li>\n    )\n  }\n\n  renderFolder(folder, data) {\n    const files = Object.keys(data).sort()\n\n    return (\n      <Panel collapsible=\"true\" defaultExpanded key={folder}>\n        <Panel.Heading>{folder}</Panel.Heading>\n        <Panel.Body>\n          <ul className={style.files}>{files.map(file => this.renderFile(folder, file, data[file]))}</ul>\n        </Panel.Body>\n      </Panel>\n    )\n  }\n\n  renderContent() {\n    const { data, showSyncHelp } = this.state\n    const folders = Object.keys(data).sort()\n\n    if (!folders.length) {\n      return (\n        <Alert bsStyle=\"success\">\n          <p>You don&apos;t have any ghost content in your DB, DB is in sync with the bot source code.</p>\n          <p>\n            Don&apos;t know what is ghost content?&nbsp;\n            <Button bsSize=\"small\" bsStyle=\"link\" onClick={this.showAbout}>\n              Read about this feature\n            </Button>.\n          </p>\n        </Alert>\n      )\n    }\n\n    return (\n      <div>\n        <Alert bsStyle=\"warning\">\n          <p>\n            Below is the list of ghost content present in the DB. You need to eventually sync it up with the bot source\n            code.&nbsp;\n            <Button bsSize=\"small\" bsStyle=\"info\" onClick={this.showSyncHelp}>\n              Show me how to do it\n            </Button>\n          </p>\n          <p>\n            Don&apos;t know what is ghost content?&nbsp;\n            <Button bsSize=\"small\" bsStyle=\"link\" onClick={this.showAbout}>\n              Read about this feature\n            </Button>\n          </p>\n        </Alert>\n        {showSyncHelp && (\n          <Alert bsStyle=\"info\" onDismiss={this.hideSyncHelp}>\n            <p>\n              <strong>To pull the pending ghost content run in your bot&apos;s project folder:</strong>\n            </p>\n            <p>\n              <code>./node_modules/.bin/botpress ghost-sync {getHost()}</code>\n            </p>\n          </Alert>\n        )}\n        <ul className={style.folders}>{folders.map(folder => this.renderFolder(folder, data[folder]))}</ul>\n      </div>\n    )\n  }\n\n  renderBody() {\n    const { loading, error } = this.state\n\n    if (loading) {\n      return <Loading />\n    }\n\n    if (error) {\n      return (\n        <Alert bsStyle=\"danger\">\n          <p>Error fetching status dta: {error}.</p>\n          <p>\n            <Button bsStyle=\"info\" onClick={() => this.fetch()}>\n              Try again\n            </Button>\n          </p>\n        </Alert>\n      )\n    }\n\n    return this.renderContent()\n  }\n\n  render() {\n    return (\n      <ContentWrapper>\n        <PageHeader>Version Control</PageHeader>\n        {this.renderBody()}\n\n        <Modal show={this.state.showAbout} onHide={this.hideAbout}>\n          <Modal.Header closeButton>\n            <Modal.Title>Version Control</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <About />\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={this.hideAbout}>Close</Button>\n          </Modal.Footer>\n        </Modal>\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n})\n\nexport default connect(mapStateToProps)(GhostView)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__content___1aMIq {\\n  width: 100%;\\n  height: 100%;\\n  padding-left: 0;\\n  padding-right: 0; }\\n\\n.style__modal___sKgpR .style__cancel___37yqf {\\n  position: absolute;\\n  left: 90px;\\n  bottom: 24px;\\n  height: 34px;\\n  padding-right: 12px;\\n  padding-left: 12px;\\n  min-width: 70px; }\\n\\n.style__modal___sKgpR .btn-info {\\n  background-color: #46cba0;\\n  border-color: #46cba0; }\\n  .style__modal___sKgpR .btn-info:hover {\\n    background-color: #40bd94;\\n    border-color: #40bd94; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"content\": \"style__content___1aMIq\",\n\t\"modal\": \"style__modal___sKgpR\",\n\t\"cancel\": \"style__cancel___37yqf\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__list___3EX80 {\\n  min-height: 85vh; }\\n  .style__list___3EX80 .style__header___1xYOt {\\n    padding: 10px 0;\\n    height: 60px;\\n    margin: 5px 0 0 0;\\n    border-bottom: 1px solid #c9c8ca; }\\n    .style__list___3EX80 .style__header___1xYOt .checkbox {\\n      margin-top: 0px;\\n      margin-bottom: 0px;\\n      margin-left: -2px;\\n      height: 18px; }\\n    .style__list___3EX80 .style__header___1xYOt button {\\n      height: 30px;\\n      width: 34px;\\n      position: relative;\\n      margin-right: 8px; }\\n      .style__list___3EX80 .style__header___1xYOt button i {\\n        position: absolute;\\n        left: 6px;\\n        top: 6px;\\n        font-size: 18px;\\n        line-height: 18px;\\n        color: #807f81; }\\n    .style__list___3EX80 .style__header___1xYOt .style__left___3ermR .style__search___Q_Dum {\\n      position: relative;\\n      width: 300px;\\n      display: inline-block;\\n      margin-right: 10px;\\n      margin-left: 10px; }\\n      .style__list___3EX80 .style__header___1xYOt .style__left___3ermR .style__search___Q_Dum .form-control {\\n        position: absolute;\\n        top: -4px;\\n        height: 30px; }\\n    .style__list___3EX80 .style__header___1xYOt .style__right___2KDss {\\n      right: 5px; }\\n      .style__list___3EX80 .style__header___1xYOt .style__right___2KDss .style__paging___2gGsw {\\n        margin-right: 10px; }\\n  .style__list___3EX80 .style__container___1UAPk table {\\n    border: none; }\\n    .style__list___3EX80 .style__container___1UAPk table tr {\\n      font-size: 90%; }\\n    .style__list___3EX80 .style__container___1UAPk table td {\\n      padding: 10px;\\n      border: none;\\n      border-bottom: 1px solid #e0e0e0; }\\n    .style__list___3EX80 .style__container___1UAPk table .checkbox {\\n      margin-top: 0px;\\n      margin-bottom: 0px;\\n      height: 20px; }\\n    .style__list___3EX80 .style__container___1UAPk table .style__selected___2GM9r {\\n      background-color: #7de4c2; }\\n  .style__list___3EX80 .style__empty___1pkCw {\\n    text-align: center;\\n    font-weight: bolder;\\n    margin-top: 35px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"list\": \"style__list___3EX80\",\n\t\"header\": \"style__header___1xYOt\",\n\t\"left\": \"style__left___3ermR\",\n\t\"search\": \"style__search___Q_Dum\",\n\t\"right\": \"style__right___2KDss\",\n\t\"paging\": \"style__paging___2gGsw\",\n\t\"container\": \"style__container___1UAPk\",\n\t\"selected\": \"style__selected___2GM9r\",\n\t\"empty\": \"style__empty___1pkCw\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport moment from 'moment'\n\nimport { Checkbox, Table, Button, FormControl, FormGroup, Tooltip, OverlayTrigger, Glyphicon } from 'react-bootstrap'\n\nconst style = require('./style.scss')\n\nexport default class ListView extends Component {\n  state = {\n    checkedIds: [],\n    allChecked: false,\n    search: ''\n  }\n\n  componentDidMount() {\n    const fn = () => {\n      if (this.props.handleSearch) {\n        this.props.handleSearch(this.state.search)\n      }\n    }\n\n    this.debouncedHandleSearch = _.debounce(fn, 1000)\n  }\n\n  handleCheckboxChanged(id) {\n    const modified = this.state.checkedIds\n\n    if (_.includes(this.state.checkedIds, id)) {\n      _.pull(modified, id)\n    } else {\n      modified.push(id)\n    }\n\n    this.setState({\n      checkedIds: modified\n    })\n  }\n\n  handleAllCheckedChanged = () => {\n    this.setState({\n      allChecked: !this.state.allChecked\n    })\n\n    setImmediate(() => {\n      const ids = []\n\n      if (this.state.allChecked) {\n        _.forEach(this.props.contentItems, ({ id }) => {\n          ids.push(id)\n        })\n      }\n\n      this.setState({\n        checkedIds: ids\n      })\n    })\n  }\n\n  handleDeleteSelected = () => {\n    this.props.handleDeleteSelected(this.state.checkedIds)\n\n    this.setState({\n      checkedIds: [],\n      allChecked: false\n    })\n  }\n\n  handleCloneSelected = () => {\n    this.props.handleClone(this.state.checkedIds)\n\n    this.setState({\n      checkedIds: [],\n      allChecked: false\n    })\n  }\n\n  handleSearchChanged = event => {\n    this.setState({\n      search: event.target.value\n    })\n\n    this.debouncedHandleSearch && this.debouncedHandleSearch()\n  }\n\n  renderTableHeader() {\n    return (\n      <tr>\n        <th />\n        <th>Content Id</th>\n        <th>Category</th>\n        <th>Preview</th>\n        <th>Created on</th>\n      </tr>\n    )\n  }\n\n  renderContentItem = (m, i) => {\n    const handleEdit = () => !this.props.readOnly && this.props.handleEdit(m.id, m.categoryId)\n    const checked = _.includes(this.state.checkedIds, m.id)\n    const className = classnames(style.item, { [style.selected]: checked })\n\n    return (\n      <tr className={className} key={i}>\n        {!this.props.readOnly && (\n          <td style={{ width: '2%', minWidth: '34px' }}>\n            <Checkbox checked={checked} onClick={() => this.handleCheckboxChanged(m.id, m.categoryId)} />\n          </td>\n        )}\n        <td style={{ width: '16%' }}>{'#!' + m.id}</td>\n        <td style={{ width: '8%' }}>{m.categoryId}</td>\n        <td style={{ width: '58%' }}>{m.previewText}</td>\n        <td style={{ width: '18%' }}>{moment(m.createdOn).format('MMMM Do YYYY, h:mm')}</td>\n        {!this.props.readOnly && (\n          <td>\n            <Button bsSize=\"small\" onClick={handleEdit}>\n              <Glyphicon glyph=\"pencil\" />\n            </Button>\n          </td>\n        )}\n      </tr>\n    )\n  }\n\n  renderTable() {\n    if (this.props.contentItems && this.props.contentItems.length === 0) {\n      const message = this.props.readOnly\n        ? \"There's no content here.\"\n        : \"There's no content yet. You can create some using the 'Add' button.\"\n      return <div className={style.empty}>{message}</div>\n    }\n\n    return (\n      <div className={style.container}>\n        <Table striped bordered condensed hover>\n          <tbody>{this.props.contentItems.map(this.renderContentItem)}</tbody>\n        </Table>\n      </div>\n    )\n  }\n\n  renderPaging() {\n    const count = this.props.count\n\n    let from = (this.props.page - 1) * this.props.itemsPerPage + 1\n    let to = this.props.page * this.props.itemsPerPage\n\n    from = count !== 0 ? from : 0\n    to = to <= count ? to : count\n\n    const text = `${from} - ${to} of ${count}`\n\n    return <span className={style.paging}>{text}</span>\n  }\n\n  renderActionButtons() {\n    return (\n      <span>\n        {!this.props.readOnly && (\n          <Button onClick={this.handleAllCheckedChanged}>\n            <Checkbox checked={this.state.allChecked} onClick={this.handleAllCheckedChanged} />\n          </Button>\n        )}\n        <Button onClick={this.props.handleRefresh} title=\"Refresh\">\n          <i className=\"material-icons\">refresh</i>\n        </Button>\n        {!this.props.readOnly && (\n          <Button\n            onClick={this.handleDeleteSelected}\n            disabled={_.isEmpty(this.state.checkedIds)}\n            title=\"Delete selected\"\n          >\n            <i className=\"material-icons\">delete</i>\n          </Button>\n        )}\n        {!this.props.readOnly && (\n          <Button onClick={this.handleCloneSelected} disabled={_.isEmpty(this.state.checkedIds)} title=\"Clone selected\">\n            <i className=\"material-icons\">filter_none</i>\n          </Button>\n        )}\n      </span>\n    )\n  }\n\n  renderPagingButtons() {\n    return (\n      <span className={style.pagingButtons}>\n        <Button onClick={this.props.handlePrevious} disabled={this.props.page === 1}>\n          <i className=\"material-icons\">keyboard_arrow_left</i>\n        </Button>\n        <Button\n          onClick={this.props.handleNext}\n          disabled={this.props.page * this.props.itemsPerPage >= this.props.count}\n        >\n          <i className=\"material-icons\">keyboard_arrow_right</i>\n        </Button>\n      </span>\n    )\n  }\n\n  renderSearchBar() {\n    return (\n      <FormGroup className={style.search}>\n        <FormControl type=\"text\" placeholder=\"Search\" value={this.state.search} onChange={this.handleSearchChanged} />\n      </FormGroup>\n    )\n  }\n\n  renderHeader() {\n    const leftCls = classnames('pull-left', style.left)\n    const rightCls = classnames('pull-right', style.right)\n\n    return (\n      <div className={style.header}>\n        <div className={leftCls}>\n          {this.renderActionButtons()}\n          {this.renderSearchBar()}\n        </div>\n        <div className={rightCls}>\n          {this.renderPaging()}\n          {this.renderPagingButtons()}\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const classNames = classnames('bp-list', style.list)\n\n    return (\n      <div className={classNames}>\n        {this.renderHeader()}\n        {this.renderTable()}\n      </div>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__sidebar___1N6kp {\\n  min-height: 85vh; }\\n  .style__sidebar___1N6kp button {\\n    margin-top: 18px;\\n    width: 100%; }\\n    .style__sidebar___1N6kp button.style__disabled___1T_4x {\\n      background-color: #b5b3b6;\\n      cursor: not-allowed; }\\n      .style__sidebar___1N6kp button.style__disabled___1T_4x:hover {\\n        background-color: #b5b3b6; }\\n  .style__sidebar___1N6kp ul {\\n    list-style: none;\\n    padding: 10px;\\n    margin-top: 20px; }\\n    .style__sidebar___1N6kp ul li {\\n      margin-bottom: 5px;\\n      padding-left: 6px;\\n      line-height: 24px;\\n      border-left: solid 3px #fff; }\\n      .style__sidebar___1N6kp ul li a {\\n        cursor: pointer;\\n        color: #000000;\\n        font-weight: bolder;\\n        text-decoration: none; }\\n        .style__sidebar___1N6kp ul li a:hover {\\n          color: #444444; }\\n      .style__sidebar___1N6kp ul li.style__selected___3uWrd {\\n        border-color: #46cba0; }\\n        .style__sidebar___1N6kp ul li.style__selected___3uWrd a {\\n          font-weight: bold; }\\n      .style__sidebar___1N6kp ul li .style__title___2RKRS {\\n        margin-right: 5px; }\\n      .style__sidebar___1N6kp ul li .style__count___3hBqq {\\n        opacity: 0.7; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"sidebar\": \"style__sidebar___1N6kp\",\n\t\"disabled\": \"style__disabled___1T_4x\",\n\t\"selected\": \"style__selected___3uWrd\",\n\t\"title\": \"style__title___2RKRS\",\n\t\"count\": \"style__count___3hBqq\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport classnames from 'classnames'\nimport _ from 'lodash'\nimport { Button } from 'react-bootstrap'\n\nconst style = require('./style.scss')\n\nconst CATEGORY_ALL = {\n  id: 'all',\n  title: 'All',\n  count: null\n}\n\nexport default class SidebarView extends Component {\n  renderAddButton() {\n    if (this.props.readOnly) {\n      return null\n    }\n\n    const classNames = classnames('bp-button', {\n      [style.disabled]: this.props.selectedId === 'all'\n    })\n\n    return (\n      <Button className={classNames} onClick={() => this.props.handleAdd()} disabled={this.props.selectedId == 'all'}>\n        Add Content\n      </Button>\n    )\n  }\n\n  renderCategory = (c, i) => {\n    const classNames = classnames({\n      [style.selected]: c.id === this.props.selectedId\n    })\n\n    return (\n      <li className={classNames} key={i}>\n        <a onClick={() => this.props.handleCategorySelected(c.id)}>\n          <span className={style.title}>{c.title}</span>\n          {c.count ? <span className={style.count}>{'(' + c.count + ')  '}</span> : null}\n        </a>\n      </li>\n    )\n  }\n\n  renderCategories() {\n    const { categories } = this.props\n\n    if (!categories || !categories.length) {\n      return null\n    }\n\n    return <ul>{[CATEGORY_ALL].concat(categories).map(this.renderCategory)}</ul>\n  }\n\n  render() {\n    const classNames = classnames('bp-sidebar', style.sidebar)\n\n    return (\n      <div className={classNames}>\n        {this.renderAddButton()}\n        {this.renderCategories()}\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport classnames from 'classnames'\nimport Promise from 'bluebird'\nimport _ from 'lodash'\n\nimport { Grid, Row, Col, Alert } from 'react-bootstrap'\n\nimport Sidebar from './Sidebar'\nimport { fetchContentCategories, fetchContentItems, upsertContentItem, deleteContentItems } from '~/actions'\n\nimport List from './List'\nimport CreateOrEditModal from '~/components/Content/CreateOrEditModal'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\nimport { operationAllowed } from '~/components/Layout/PermissionsChecker'\n\nconst style = require('./style.scss')\nconst ITEMS_PER_PAGE = 20\n\nclass ContentView extends Component {\n  state = {\n    showModal: false,\n    modifyId: null,\n    selectedId: 'all',\n    page: 1,\n    contentToEdit: null\n  }\n\n  initialized = false\n\n  init() {\n    if (this.initialized || !this.props.user || this.props.user.id == null) {\n      return\n    }\n    this.initialized = true\n    this.canRead = operationAllowed({ user: this.props.user, op: 'read', res: 'bot.content' })\n    this.canEdit = operationAllowed({ user: this.props.user, op: 'write', res: 'bot.content' })\n\n    if (this.canRead) {\n      this.props.fetchContentCategories()\n      this.fetchCategoryItems(this.state.selectedId)\n    }\n  }\n\n  componentDidMount() {\n    this.init()\n  }\n\n  componentDidUpdate() {\n    this.init()\n  }\n\n  fetchCategoryItems(id) {\n    if (!this.canRead) {\n      return Promise.resolve()\n    }\n    return this.props.fetchContentItems({\n      id,\n      count: ITEMS_PER_PAGE,\n      from: (this.state.page - 1) * ITEMS_PER_PAGE,\n      searchTerm: this.state.searchTerm\n    })\n  }\n\n  currentCategoryId() {\n    return this.state.modifyId\n      ? _.find(this.props.contentItems, { id: this.state.modifyId }).categoryId\n      : this.state.selectedId\n  }\n\n  handleCloseModal = () => {\n    this.setState({\n      showModal: false,\n      modifyId: null,\n      contentToEdit: null\n    })\n  }\n\n  handleCreateNew = () => {\n    this.setState({\n      showModal: true,\n      modifyId: null,\n      contentToEdit: null\n    })\n  }\n\n  handleUpsert = () => {\n    const categoryId = this.currentCategoryId()\n    this.props\n      .upsertContentItem({ categoryId, formData: this.state.contentToEdit, modifyId: this.state.modifyId })\n      .then(() => this.fetchCategoryItems(this.state.selectedId))\n      .then(() => this.setState({ showModal: false }))\n  }\n\n  handleClone = ids => {\n    return Promise.all(\n      this.props.contentItems\n        .filter(({ id }) => ids.includes(id))\n        .map(({ categoryId, formData }) => this.props.upsertContentItem({ formData, categoryId }))\n    ).then(() => this.fetchCategoryItems(this.state.selectedId))\n  }\n\n  handleFormEdited = data => {\n    this.setState({ contentToEdit: data })\n  }\n\n  handleCategorySelected = id => {\n    this.fetchCategoryItems(id)\n    this.setState({ selectedId: id })\n  }\n\n  handleDeleteSelected = ids => {\n    this.props.deleteContentItems(ids).then(() => this.fetchCategoryItems(this.state.selectedId))\n  }\n\n  handleModalShowForEdit = id => {\n    const contentToEdit = _.find(this.props.contentItems, { id }).formData\n    this.setState({ modifyId: id, showModal: true, contentToEdit })\n  }\n\n  handleRefresh = () => {\n    this.fetchCategoryItems(this.state.selectedId || 'all')\n  }\n\n  handlePrevious = () => {\n    this.setState({ page: this.state.page - 1 || 1 })\n    setImmediate(() => this.fetchCategoryItems(this.state.selectedId))\n  }\n\n  handleNext = () => {\n    this.setState({ page: this.state.page + 1 })\n    setImmediate(() => this.fetchCategoryItems(this.state.selectedId))\n  }\n\n  handleSearch = input => {\n    this.setState({ searchTerm: input })\n    setImmediate(() => this.fetchCategoryItems(this.state.selectedId))\n  }\n\n  renderBody() {\n    const { selectedId = 'all', contentToEdit } = this.state\n    const categories = this.props.categories || []\n    const selectedCategory = _.find(categories, { id: this.currentCategoryId() })\n\n    const classNames = classnames(style.content, 'bp-content')\n\n    if (!categories.length) {\n      return (\n        <div className={classNames}>\n          <Alert bsStyle=\"warning\">\n            <strong>We think you don&apos;t have any content types defined.</strong> Please&nbsp;\n            <a href=\"https://botpress.io/docs/foundamentals/content/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              <strong>read the docs</strong>\n            </a>\n            &nbsp;to see how you can make use of this feature.\n          </Alert>\n        </div>\n      )\n    }\n\n    return (\n      <div>\n        <Grid className={classNames}>\n          <Row>\n            <Col xs={3}>\n              <Sidebar\n                readOnly={!this.canEdit}\n                categories={categories}\n                selectedId={selectedId}\n                handleAdd={this.handleCreateNew}\n                handleCategorySelected={this.handleCategorySelected}\n              />\n            </Col>\n            <Col xs={9}>\n              <List\n                readOnly={!this.canEdit}\n                page={this.state.page}\n                count={\n                  this.state.selectedId === 'all'\n                    ? _.sumBy(categories, 'count') || 0\n                    : _.find(categories, { id: this.state.selectedId }).count\n                }\n                itemsPerPage={ITEMS_PER_PAGE}\n                contentItems={this.props.contentItems || []}\n                searchTerm={this.state.searchTerm}\n                handlePrevious={this.handlePrevious}\n                handleNext={this.handleNext}\n                handleRefresh={this.handleRefresh}\n                handleEdit={this.handleModalShowForEdit}\n                handleDeleteSelected={this.handleDeleteSelected}\n                handleClone={this.handleClone}\n                handleSearch={this.handleSearch}\n              />\n            </Col>\n          </Row>\n        </Grid>\n        {this.canEdit && (\n          <CreateOrEditModal\n            show={this.state.showModal}\n            schema={(selectedCategory && selectedCategory.schema.json) || {}}\n            uiSchema={(selectedCategory && selectedCategory.schema.ui) || {}}\n            formData={contentToEdit}\n            handleCreateOrUpdate={this.handleUpsert}\n            handleEdit={this.handleFormEdited}\n            handleClose={this.handleCloseModal}\n          />\n        )}\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <ContentWrapper>\n        <PageHeader>Content Manager</PageHeader>\n        {this.renderBody()}\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  categories: state.content.categories,\n  contentItems: state.content.currentItems,\n  user: state.user\n})\n\nconst mapDispatchToProps = {\n  fetchContentCategories,\n  fetchContentItems,\n  upsertContentItem,\n  deleteContentItems\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ContentView)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__documentation___3v16S {\\n  margin: 0px 15px 25px 15px;\\n  padding: 10px 25px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"documentation\": \"style__documentation___3v16S\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__dragging___pqyTv {\\n  border: 1px dashed #666; }\\n\\n.style__middlewareList___5aGkH .list-group-item {\\n  padding: 0; }\\n\\n.style__header___3AmeS {\\n  padding: 20px; }\\n  .style__header___3AmeS h4 {\\n    display: inline;\\n    margin: 10px 0; }\\n  .style__header___3AmeS .style__help___1oCIS {\\n    font-size: 12px;\\n    margin-left: 10px;\\n    color: #2e948f; }\\n    .style__header___3AmeS .style__help___1oCIS:hover {\\n      cursor: default;\\n      color: #58d1b0; }\\n\\n.style__footer___1Nes7 {\\n  height: 5px;\\n  background-color: #fbfbfb; }\\n\\n.style__middleware___1KK5z {\\n  padding: 10px 15px;\\n  cursor: pointer;\\n  transition: background-color 0.15s ease-in-out, border-color 0.5s ease-in-out;\\n  border-left: 5px solid #58d1b0; }\\n  .style__middleware___1KK5z:hover {\\n    color: #666;\\n    background-color: #f6f6f6; }\\n  .style__middleware___1KK5z h4 {\\n    color: #2e948f;\\n    transition: color 0.5s ease-in-out; }\\n  .style__middleware___1KK5z .style__circle___26j1N {\\n    background-color: #58d1b0;\\n    transition: background-color 0.5s ease-in-out;\\n    width: 10px;\\n    height: 10px;\\n    border-radius: 50%;\\n    display: inline-block;\\n    float: left;\\n    margin-right: 10px;\\n    margin-top: 3px; }\\n  .style__middleware___1KK5z .style__helpIcon___11711 {\\n    color: #bfbfbf;\\n    position: absolute;\\n    top: 25px;\\n    right: 25px;\\n    width: 18px;\\n    height: 18px; }\\n\\n.style__disabled___3afoG {\\n  transition: border-color 0.5s ease-in-out;\\n  border-left: 5px solid #bfbfbf; }\\n  .style__disabled___3afoG .style__circle___26j1N {\\n    background-color: #bfbfbf; }\\n\\n.style__saveButton___1aZDR {\\n  border: none;\\n  background-color: #58d1b0;\\n  color: white;\\n  font-weight: bolder;\\n  position: absolute;\\n  right: 15px;\\n  top: 16px;\\n  font-size: 14px;\\n  text-align: center;\\n  width: 70px;\\n  height: 30px;\\n  opacity: 0;\\n  transition: opacity 0.5s ease-in-out, background-color 0.15s ease-in-out; }\\n  .style__saveButton___1aZDR.style__dirty___1qDyM {\\n    opacity: 0.5; }\\n  .style__saveButton___1aZDR.style__dirty___1qDyM:hover {\\n    background-color: #58d1b0;\\n    opacity: 1;\\n    color: white; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"dragging\": \"style__dragging___pqyTv\",\n\t\"middlewareList\": \"style__middlewareList___5aGkH\",\n\t\"header\": \"style__header___3AmeS\",\n\t\"help\": \"style__help___1oCIS\",\n\t\"footer\": \"style__footer___1Nes7\",\n\t\"middleware\": \"style__middleware___1KK5z\",\n\t\"circle\": \"style__circle___26j1N\",\n\t\"helpIcon\": \"style__helpIcon___11711\",\n\t\"disabled\": \"style__disabled___3afoG\",\n\t\"saveButton\": \"style__saveButton___1aZDR\",\n\t\"dirty\": \"style__dirty___1qDyM\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport PropTypes from 'prop-types'\nimport { sortable } from 'react-sortable'\n\nimport { ListGroup, ListGroupItem, Tooltip, OverlayTrigger } from 'react-bootstrap'\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport axios from 'axios'\n\nimport { operationAllowed } from '~/components/Layout/PermissionsChecker'\n\nimport style from './style.scss'\n\nclass MiddlewareComponent extends Component {\n  static propTypes = {\n    middleware: PropTypes.object.isRequired,\n    toggleEnabled: PropTypes.func,\n    readOnly: PropTypes.bool\n  }\n\n  render() {\n    const { name, enabled, module, description } = this.props.middleware\n    const { readOnly } = this.props\n    const className = classnames(this.props.className, style.middleware, 'bp-middleware', {\n      [style.disabled]: !enabled,\n      ['bp-disabled']: !enabled\n    })\n    const tooltip = description ? <Tooltip id={`module-${name}-description`}>{description}</Tooltip> : null\n\n    return (\n      <div>\n        <div className={className} onClick={readOnly ? null : this.props.toggleEnabled}>\n          <div className={classnames(style.helpIcon, 'bp-help-icon')}>\n            <OverlayTrigger placement=\"left\" overlay={tooltip}>\n              <i className=\"material-icons\">help</i>\n            </OverlayTrigger>\n          </div>\n          <div>\n            <span className={classnames(style.circle, 'bp-circle')} />\n            <h4>{module}</h4>\n          </div>\n          <div>\n            Handler: <b>{name || 'N/A'}</b>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst ListItem = ({ children, ...props }) => (\n  <ListGroupItem {...props} className=\"list-item\">\n    {children}\n  </ListGroupItem>\n)\n\nconst SortableListItem = sortable(ListItem)\n\nclass Middlewares extends Component {\n  static propTypes = {\n    type: PropTypes.string.isRequired\n  }\n\n  state = {\n    loading: true,\n    incoming: [],\n    outgoing: [],\n    incomingDragIndex: null,\n    incomingItems: [],\n    outgoingDragIndex: null,\n    outgoingItems: [],\n    initialStateHash: null\n  }\n\n  initialized = false\n\n  init() {\n    if (this.initialized || !this.props.user || this.props.user.id == null) {\n      return\n    }\n    this.initialized = true\n    this.canRead = operationAllowed({ user: this.props.user, op: 'read', res: 'bot.middleware.list' })\n    this.canEdit = operationAllowed({ user: this.props.user, op: 'write', res: 'bot.middleware.customizations' })\n\n    if (this.canRead) {\n      axios.get('/api/middlewares').then(({ data }) => this.setMiddlewares(data))\n    }\n  }\n\n  componentDidMount() {\n    this.init()\n  }\n\n  componentDidUpdate() {\n    this.init()\n  }\n\n  getStateHash() {\n    let hash = ''\n    this.state.incomingItems.forEach(m => {\n      const middleware = _.find(this.state.incoming, { name: m })\n      hash += m + ':' + middleware.enabled + ' '\n    })\n    this.state.outgoingItems.forEach(m => {\n      const middleware = _.find(this.state.outgoing, { name: m })\n      hash += m + ':' + middleware.enabled + ' '\n    })\n    return hash\n  }\n\n  setMiddlewares(middlewares) {\n    const incoming = _.filter(middlewares, { type: 'incoming' })\n    const outgoing = _.filter(middlewares, { type: 'outgoing' })\n    const incomingItems = _.map(incoming, i => i.name)\n    const outgoingItems = _.map(outgoing, i => i.name)\n\n    this.setState({\n      loading: false,\n      incoming,\n      outgoing,\n      incomingItems,\n      outgoingItems,\n      initialIncomingOrder: incomingItems.join(' '),\n      initialOutgoingOrder: outgoingItems.join(' ')\n    })\n\n    setImmediate(() => this.setState({ initialStateHash: this.getStateHash() }))\n  }\n\n  handleSort = type => data => {\n    if (data.items) {\n      this.setState({ [type + 'Items']: data.items })\n    }\n\n    if (typeof data.draggingIndex !== 'undefined') {\n      this.setState({ [type + 'DragIndex']: data.draggingIndex })\n    }\n  }\n\n  renderSortable(type) {\n    const itemsKey = type + 'Items'\n    const items = this.state[itemsKey]\n    const dragIndexKey = type + 'DragIndex'\n\n    if (!items) {\n      return null\n    }\n\n    return items.map((item, i) => {\n      const middleware = _.find(this.state[type], { name: item })\n      const currentlyDragging = this.state[dragIndexKey] === i\n      const className = classnames({\n        [style.dragging]: currentlyDragging\n      })\n      const readOnly = !this.canEdit\n\n      const innerComponent = (\n        <MiddlewareComponent\n          readOnly={readOnly}\n          toggleEnabled={readOnly ? null : this.toggleEnabled(item, type)}\n          middleware={middleware}\n          className={className}\n        />\n      )\n\n      if (readOnly) {\n        return (\n          <ListItem key={i} outline=\"list\">\n            {innerComponent}\n          </ListItem>\n        )\n      } else {\n        return (\n          <SortableListItem\n            key={i}\n            updateState={this.handleSort(type)}\n            items={items}\n            draggingIndex={this.state[dragIndexKey]}\n            sortId={i}\n            outline=\"list\"\n          >\n            {innerComponent}\n          </SortableListItem>\n        )\n      }\n    })\n  }\n\n  isDirty() {\n    return this.state.initialStateHash !== null && this.state.initialStateHash !== this.getStateHash()\n  }\n\n  renderIsDirty() {\n    const classNames = classnames('bp-button', style.saveButton, this.isDirty() ? style.dirty : null)\n\n    return (\n      <button className={classNames} onClick={this.saveChanges}>\n        Save\n      </button>\n    )\n  }\n\n  saveChanges = () => {\n    this.setState({ loading: true })\n\n    const middlewares = []\n\n    if (this.props.type === 'incoming') {\n      this.state.incomingItems.forEach((item, i) => {\n        const middleware = _.find(this.state.incoming, { name: item })\n        middlewares.push({ name: item, order: i, enabled: middleware.enabled })\n      })\n    } else {\n      this.state.outgoingItems.forEach((item, i) => {\n        const middleware = _.find(this.state.outgoing, { name: item })\n        middlewares.push({ name: item, order: i, enabled: middleware.enabled })\n      })\n    }\n\n    axios.post('/api/middlewares/customizations', { middlewares }).then(({ data }) => this.setMiddlewares(data))\n  }\n\n  toggleEnabled(middleware, type) {\n    return () => {\n      const newProp = _.map(this.state[type], m => {\n        if (m.name === middleware) {\n          return Object.assign({}, m, { enabled: !m.enabled })\n        }\n\n        return m\n      })\n\n      this.setState({ [type]: newProp })\n    }\n  }\n\n  renderIncoming() {\n    const tooltip = (\n      <Tooltip id=\"header-incoming-tooltip\">\n        An incoming middleware is a message processor&nbsp; that has the potential to track, alter or swallow\n        messages.&nbsp; Usually, messages are put (sent) into the incoming middleware queue&nbsp; by{' '}\n        <strong>connector modules</strong> such as Facebook Messenger, Slack...\n      </Tooltip>\n    )\n\n    const title = 'Incoming middleware'\n\n    return this.renderList('incoming', title, tooltip)\n  }\n\n  renderOutgoing() {\n    const tooltip = (\n      <Tooltip id=\"header-outgoing-tooltip\">\n        An outgoing middleware is a message processor&nbsp; that has the potential to track, alter or swallow messages\n        to be sent.&nbsp; Usually, messages are put (sent) into the outgoing middleware queue by user code or incoming\n        modules.&nbsp;\n        <strong>Connector modules</strong> are in charge of sending the messages to the users, thus they should&nbsp;\n        usually be placed at the end of the chain.\n      </Tooltip>\n    )\n\n    const title = 'Outgoing middleware'\n\n    return this.renderList('outgoing', title, tooltip)\n  }\n\n  renderList(type, title, tooltip) {\n    return (\n      <ListGroup className={classnames(style.middlewareList, 'bp-middleware-list')}>\n        <ListGroupItem>\n          <div className={classnames(style.header, 'bp-header')}>\n            {this.renderIsDirty()}\n            <h4>{title}</h4>\n            <OverlayTrigger placement=\"right\" overlay={tooltip}>\n              <a className={classnames(style.help, 'bp-help')}>what&apos;s this?</a>\n            </OverlayTrigger>\n          </div>\n        </ListGroupItem>\n        {this.renderSortable(type)}\n        <ListGroupItem>\n          <div className={style.footer} />\n        </ListGroupItem>\n      </ListGroup>\n    )\n  }\n\n  render() {\n    if (this.state.loading || !this.initialized) {\n      return null\n    }\n\n    return this.props.type === 'incoming' ? this.renderIncoming() : this.renderOutgoing()\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n})\n\nexport default connect(mapStateToProps)(Middlewares)\n","import React from 'react'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\nimport MiddlewaresComponent from '~/components/Middlewares'\n\nimport Markdown from 'react-markdown'\n\nimport { Grid, Row, Col, Panel } from 'react-bootstrap'\n\nconst style = require('./style.scss')\n\nconst documentation = `\n  #### **Documentation**\n\n  A middleware chain is simply a collection of middleware functions that are called in a predertermined order.\n\n  Every middleware has to be registered to appear and you will be able to  do so with\n  the \\`bp.middlewares.register()\\` method.\n\n  For more details about middleware, look at the [documentation](https://botpress.io/docs/advanced/middleware.html).\n\n  ##### **Ordering middleware**\n\n  All middleware functions that are registered (usually every modules are registered in their initialization).\n  You must load them using \\`bp.middlewares.load()\\` in your \\`index.js\\`, which will create the incoming\n  and outgoing chains automatically.\n\n  By default, middleware functions are ordered by ascending order according to their \\`order\\` property\n  set on registration. The order can then be manually overwritten here by using **drag-n-drop**.\n\n  You can also re-order them programmatically using middleware function customizations.\n  `\n\nexport default class ManageView extends React.Component {\n  state = {\n    collapse: true\n  }\n\n  getDocumentation() {\n    if (this.state.collapse) {\n      return documentation.substring(0, 194) + '...'\n    }\n    return documentation\n  }\n\n  getReadMore() {\n    return this.state.collapse ? 'Read more' : 'Hide'\n  }\n\n  handleReadMore = event => {\n    event.preventDefault()\n    event.stopPropagation()\n\n    this.setState({\n      collapse: !this.state.collapse\n    })\n  }\n\n  render() {\n    return (\n      <ContentWrapper>\n        <PageHeader>\n          <span> Middleware</span>\n        </PageHeader>\n        <Grid fluid>\n          <Row>\n            <Panel className={style.documentation}>\n              <Panel.Body>\n                <Row className={style.explication}>\n                  <Col sm={12}>\n                    <Markdown source={this.getDocumentation()} />\n                    <div>\n                      <a href=\"#\" onClick={this.handleReadMore}>\n                        {this.getReadMore()}\n                      </a>\n                    </div>\n                  </Col>\n                </Row>\n              </Panel.Body>\n            </Panel>\n          </Row>\n          <Row>\n            <Col sm={12} md={6} mdOffset={0}>\n              <MiddlewaresComponent type=\"incoming\" />\n            </Col>\n            <Col sm={12} md={6} mdOffset={0}>\n              <MiddlewaresComponent type=\"outgoing\" />\n            </Col>\n          </Row>\n        </Grid>\n      </ContentWrapper>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"@keyframes style__rays___1yjcf {\\n  from {\\n    transform: rotate(0deg); }\\n  to {\\n    transform: rotate(360deg); } }\\n\\n.style__root___1ghQ1 h4 {\\n  font-size: 20px; }\\n\\n.style__username___32Nxc {\\n  color: #58d1b0;\\n  font-weight: 500; }\\n\\n.style__heroContainer___brEq2 {\\n  position: relative; }\\n\\n.style__heroInfo___3gOBf {\\n  position: absolute;\\n  display: inline;\\n  top: 10px;\\n  right: 10px;\\n  z-index: 5;\\n  color: #bee6db;\\n  font-size: 12px; }\\n\\n.style__contribution___3Pruh {\\n  position: relative;\\n  height: 255px;\\n  text-align: center;\\n  overflow: hidden; }\\n  .style__contribution___3Pruh .panel-body {\\n    padding: 0;\\n    height: 100%; }\\n  .style__contribution___3Pruh .style__raysAnim___3Rwa- {\\n    height: 400%;\\n    width: 250%;\\n    margin-top: -25%;\\n    margin-left: -75%;\\n    transform-origin: center center;\\n    animation: style__rays___1yjcf 60s infinite linear; }\\n    .style__contribution___3Pruh .style__raysAnim___3Rwa- .style__rays___1yjcf {\\n      height: 100%;\\n      background: url(/img/rays.png) no-repeat;\\n      background-size: cover;\\n      opacity: 0.05; }\\n  .style__contribution___3Pruh .style__contributionContent___3WEds {\\n    width: 100%;\\n    text-align: center;\\n    line-height: 25px;\\n    position: absolute;\\n    padding: 15px;\\n    top: 50%;\\n    transform: translateY(-50%); }\\n    .style__contribution___3Pruh .style__contributionContent___3WEds img {\\n      background-color: lightgrey;\\n      height: 70px;\\n      width: 70px;\\n      margin-bottom: 30px;\\n      border-radius: 5px; }\\n    .style__contribution___3Pruh .style__contributionContent___3WEds strong {\\n      font-weight: bolder; }\\n    .style__contribution___3Pruh .style__contributionContent___3WEds p {\\n      margin: 0; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"root\": \"style__root___1ghQ1\",\n\t\"username\": \"style__username___32Nxc\",\n\t\"heroContainer\": \"style__heroContainer___brEq2\",\n\t\"heroInfo\": \"style__heroInfo___3gOBf\",\n\t\"contribution\": \"style__contribution___3Pruh\",\n\t\"raysAnim\": \"style__raysAnim___3Rwa-\",\n\t\"rays\": \"style__rays___1yjcf\",\n\t\"contributionContent\": \"style__contributionContent___3WEds\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport { OverlayTrigger, Tooltip, Panel } from 'react-bootstrap'\n\nimport _ from 'lodash'\nimport classnames from 'classnames'\nimport axios from 'axios'\n\nimport style from './style.scss'\n\nexport default class HeroComponent extends React.Component {\n  state = {\n    loading: true\n  }\n\n  componentDidMount() {\n    this.queryHero().then(() => {\n      this.setState({ loading: false })\n    })\n  }\n\n  queryHero() {\n    return axios.get('/api/module/hero').then(result => {\n      this.setState({\n        ...result.data\n      })\n    })\n  }\n\n  renderUsername() {\n    return (\n      <a className={(style.username, 'bp-username')} href={this.state.github} target=\"_blank\">\n        {this.state.username}\n      </a>\n    )\n  }\n\n  renderPhrase() {\n    const { module: m, contributions: c } = this.state\n\n    const utterances = [\n      <h4>\n        Shout out to {this.renderUsername()} for being awesome and contributing {c} commits to <b>{m}</b>\n      </h4>,\n      <h4>\n        Did you know that without {this.renderUsername()}, <b>{m}</b> wouldn't be the same ?\n      </h4>,\n      <h4>\n        {this.renderUsername()} is one of the heroes behind <b>{m}</b>.\n      </h4>,\n      <h4>The world needs more people like {this.renderUsername()}. You're awesome for contributing to botpress!</h4>\n    ]\n\n    return _.sample(utterances)\n  }\n\n  render() {\n    if (this.state.loading) {\n      return null\n    }\n\n    const heroTooltip = (\n      <Tooltip id=\"heroTooltip\">\n        These are people randomly selected from the list of contributors&nbsp; to various open-source components of the\n        botpress ecosystem.&nbsp; We feel they deserve to be publicly recognized for their contributions.\n      </Tooltip>\n    )\n\n    return (\n      <div className={classnames(style.heroContainer, 'bp-hero')}>\n        <div className={classnames(style.heroInfo, 'bp-info')}>\n          <OverlayTrigger placement=\"left\" overlay={heroTooltip}>\n            <i className=\"material-icons\">info</i>\n          </OverlayTrigger>\n        </div>\n        <Panel className={classnames(style.contribution, 'bp-contribution')}>\n          <Panel.Body>\n            <div className={classnames(style.raysAnim, 'bp-rays-anim')}>\n              <div className={classnames(style.rays, 'bp-rays')} />\n            </div>\n            <div className={classnames(style.root, 'bp-root')}>\n              <div className={classnames(style.contributionContent, 'bp-content')}>\n                <img src={this.state.avatar} />\n                {this.renderPhrase()}\n              </div>\n            </div>\n          </Panel.Body>\n        </Panel>\n      </div>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__information___19xGY {\\n  height: 255px;\\n  padding: 15px 25px 15px 25px;\\n  position: relative; }\\n\\n.style__informationName___2lyFe {\\n  font-size: 28px;\\n  margin-top: 5px;\\n  margin-bottom: 20px;\\n  color: #434343; }\\n\\n.style__informationDescription___ZfSu- {\\n  color: #999;\\n  font-weight: lighter; }\\n\\n.style__informationAuthor___KRA0K strong {\\n  font-weight: bolder; }\\n\\n.style__informationVersion___34VMS {\\n  color: #999;\\n  margin-bottom: 5px; }\\n\\n.style__informationLicense___g4yLA a:hover {\\n  color: #58d1b0; }\\n\\n.style__whereFrom___1KSPf {\\n  position: absolute;\\n  bottom: 5px;\\n  right: 15px;\\n  font-size: 12px;\\n  color: #bfbfbf; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"information\": \"style__information___19xGY\",\n\t\"informationName\": \"style__informationName___2lyFe\",\n\t\"informationDescription\": \"style__informationDescription___ZfSu-\",\n\t\"informationAuthor\": \"style__informationAuthor___KRA0K\",\n\t\"informationVersion\": \"style__informationVersion___34VMS\",\n\t\"informationLicense\": \"style__informationLicense___g4yLA\",\n\t\"whereFrom\": \"style__whereFrom___1KSPf\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { Panel } from 'react-bootstrap'\nimport classnames from 'classnames'\nimport { toggleLicenseModal } from '~/actions'\n\nconst style = require('./style.scss')\n\nclass InformationComponent extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  state = {\n    loading: true\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: false\n    })\n  }\n\n  openLicenseComponent = () => {\n    this.props.toggleLicenseModal()\n  }\n\n  render() {\n    if (this.state.loading) {\n      return null\n    }\n\n    return (\n      <Panel className={classnames(style.information, 'bp-info')}>\n        <Panel.Body>\n          <h3 className={classnames(style.informationName, 'bp-name')}>{this.props.botInformation.name}</h3>\n          <p className={classnames(style.informationDescription, 'bp-description')}>\n            {this.props.botInformation.description}\n          </p>\n          <p className={classnames(style.informationAuthor, 'bp-author')}>\n            Created by <strong>{this.props.botInformation.author}</strong>\n          </p>\n          <p className={classnames(style.informationVersion, 'bp-version')}>\n            Version {this.props.botInformation.version}\n          </p>\n          <p className={classnames(style.informationLicense, 'bp-license')}>\n            Licensed under{' '}\n            <a href=\"#\" onClick={this.openLicenseComponent}>\n              {this.props.botInformation.license}\n            </a>\n          </p>\n          <div className={classnames(style.whereFrom, 'bp-where-from')}>Info extracted from package.json</div>\n        </Panel.Body>\n      </Panel>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({ botInformation: state.bot })\nconst mapDispatchToProps = dispatch => bindActionCreators({ toggleLicenseModal }, dispatch)\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InformationComponent)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".PageHeader__header___2Gzr5 {\\n  position: fixed;\\n  top: 0;\\n  left: 220px;\\n  height: 50px;\\n  padding: 10px;\\n  z-index: 20;\\n  line-height: 30px;\\n  color: #999;\\n  font-size: 18px; }\\n  .PageHeader__header___2Gzr5 .PageHeader__icon___2_tXO {\\n    font-size: 14px;\\n    margin: 0 5px;\\n    color: #434343; }\\n  .PageHeader__header___2Gzr5 a {\\n    color: #bfbfbf; }\\n\\n.PageHeader__header___2Gzr5 .glyphicon {\\n  margin: 0 5px;\\n  font-size: 14px;\\n  line-height: 30px; }\\n\\n.PageHeader__noSidebar___2udZq {\\n  left: 10px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"header\": \"PageHeader__header___2Gzr5\",\n\t\"icon\": \"PageHeader__icon___2_tXO\",\n\t\"noSidebar\": \"PageHeader__noSidebar___2udZq\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./PageHeader.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./PageHeader.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./PageHeader.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ContentWrapper__contentWrapper___16hI9 {\\n  padding: 0;\\n  margin: 0;\\n  opacity: 0;\\n  visibility: hidden; }\\n\\n.ContentWrapper__contentWrapperPadding___3SipB {\\n  padding: 20px 40px; }\\n\\n.ContentWrapper__contentWrapper___16hI9.ContentWrapper__show___7b3e3 {\\n  opacity: 1;\\n  visibility: visible; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"contentWrapper\": \"ContentWrapper__contentWrapper___16hI9\",\n\t\"contentWrapperPadding\": \"ContentWrapper__contentWrapperPadding___3SipB\",\n\t\"show\": \"ContentWrapper__show___7b3e3\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./ContentWrapper.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./ContentWrapper.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./ContentWrapper.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport { Grid, Row, Col } from 'react-bootstrap'\n\nimport axios from 'axios'\n\nimport ContentWrapper from '~/components/Layout/ContentWrapper'\nimport PageHeader from '~/components/Layout/PageHeader'\nimport InformationComponent from '~/components/Information'\nimport HeroComponent from '~/components/Hero'\n\nclass Dashboard extends React.Component {\n  state = {\n    loading: true,\n    popularModules: [],\n    featuredModules: [],\n    hiddenHeroSection: true\n  }\n\n  initialized = false\n\n  init() {\n    if (this.initialized || !this.props.user || this.props.user.id == null) {\n      return\n    }\n\n    this.initialized = true\n    this.setState({ loading: false })\n  }\n\n  componentDidMount() {\n    this.init()\n    this.fetchHeroConfig()\n  }\n\n  componentDidUpdate() {\n    this.init()\n  }\n\n  fetchHeroConfig() {\n    axios\n      .get('/api/community/hero')\n      .then(({ data: { hidden: hiddenHeroSection } }) => this.setState({ hiddenHeroSection }))\n  }\n\n  hero() {\n    const { hiddenHeroSection } = this.state\n\n    return !hiddenHeroSection ? (\n      <Col xs={12} sm={8} md={4} smOffset={2} mdOffset={0}>\n        <HeroComponent />\n      </Col>\n    ) : null\n  }\n\n  render() {\n    const { hiddenHeroSection, loading } = this.state\n\n    if (loading || !this.initialized) {\n      return null\n    }\n\n    return (\n      <ContentWrapper>\n        <PageHeader>\n          <span> Dashboard</span>\n        </PageHeader>\n        <Grid fluid className={'bp-dashboard'}>\n          <Row>\n            <Col sm={12} md={hiddenHeroSection ? 12 : 8}>\n              <InformationComponent />\n            </Col>\n            {this.hero()}\n          </Row>\n        </Grid>\n      </ContentWrapper>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n})\n\nexport default connect(mapStateToProps)(Dashboard)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Modal, Button, Radio, OverlayTrigger, Tooltip, Panel, Well, Alert } from 'react-bootstrap'\nimport Select from 'react-select'\nimport Promise from 'bluebird'\nimport classnames from 'classnames'\n\nimport Loading from '~/components/Util/Loading'\nimport CreateOrEditModal from '../CreateOrEditModal'\nimport { fetchContentItemsRecent, fetchContentItemsCount, fetchContentCategories, upsertContentItem } from '~/actions'\nimport { moveCursorToEnd } from '~/util'\n\nconst style = require('./style.scss')\n\nconst SEARCH_RESULTS_LIMIT = 5\n\nconst formSteps = {\n  INITIAL: 0,\n  PICK_CATEGORY: 1,\n  MAIN: 2\n}\n\nclass SelectContent extends Component {\n  constructor(props) {\n    super(props)\n\n    const { categoryId = null } = props\n\n    this.state = {\n      show: true,\n      categoryId,\n      hideCategoryInfo: !!categoryId,\n      activeItemIndex: 0,\n      step: categoryId ? formSteps.MAIN : formSteps.INITIAL,\n      newItemCategory: null,\n      searchTerm: '',\n      newItemData: null\n    }\n  }\n\n  componentDidMount() {\n    this.searchContentItems()\n    this.fetchContentItemsCount()\n    this.props.fetchContentCategories()\n\n    this.props.container.addEventListener('keyup', this.handleChangeActiveItem)\n  }\n\n  componentWillReceiveProps(newProps) {\n    const { categories } = newProps\n    if (!categories || this.state.step !== formSteps.INITIAL || this.state.categoryId) {\n      return\n    }\n\n    this.setState({\n      step: categories.length > 1 ? formSteps.PICK_CATEGORY : formSteps.MAIN\n    })\n  }\n\n  searchContentItems() {\n    return this.props.fetchContentItemsRecent({\n      count: SEARCH_RESULTS_LIMIT,\n      searchTerm: this.state.searchTerm,\n      categoryId: this.state.categoryId || 'all'\n    })\n  }\n\n  fetchContentItemsCount() {\n    return this.props.fetchContentItemsCount(this.state.categoryId)\n  }\n\n  handleChangeActiveItem = e => {\n    const index = this.state.activeItemIndex\n    if (e.key === 'ArrowUp') {\n      this.setState({ activeItemIndex: index > 0 ? index - 1 : index })\n    } else if (e.key === 'ArrowDown') {\n      const { contentItems } = this.props\n      const itemsCount = contentItems ? contentItems.length : 0\n      this.setState({ activeItemIndex: index < itemsCount - 1 ? index + 1 : index })\n    } else if (e.key === 'Enter' && this.state.step === formSteps.PICK_CATEGORY) {\n      this.setCurrentCategory(this.props.categories[this.state.activeItemIndex].id)\n    } else if (e.key === 'Enter') {\n      this.handlePick(this.props.contentItems[this.state.activeItemIndex])\n    }\n  }\n\n  onSearchChange = event => {\n    const newSearchTerm = event.target.value\n    const { searchTerm } = this.state\n    if (newSearchTerm === searchTerm) {\n      return\n    }\n    this.setState({ searchTerm: newSearchTerm }, () => {\n      this.searchContentItems().then(() => this.setState({ activeItemIndex: 0 }))\n    })\n  }\n\n  handleCreate = () => {\n    this.props\n      .upsertContentItem({\n        categoryId: this.state.newItemCategory.id,\n        formData: this.state.newItemData\n      })\n      .then(this.resetCreateContent(true))\n      .then(() => Promise.all([this.searchContentItems(), this.fetchContentItemsCount()]))\n  }\n\n  handlePick(item) {\n    this.props.onSelect && this.props.onSelect(item)\n    this.onClose()\n  }\n\n  handleFormEdited = data => {\n    this.setState({ newItemData: data })\n  }\n\n  resetCreateContent = (resetSearch = false) => response => {\n    const { data: id } = response\n    const item = Object.assign(this.state.newItemData || {}, { id })\n    const stateUpdate = { newItemCategory: null, newItemData: null }\n    if (resetSearch) {\n      Object.assign(stateUpdate, {\n        searchTerm: '',\n        activeItemIndex: 0\n      })\n    }\n    return new Promise(resolve =>\n      this.setState(stateUpdate, () => {\n        if (id) {\n          this.handlePick(item)\n        }\n\n        resolve()\n      })\n    )\n  }\n\n  onClose = () => {\n    this.setState({ show: false }, () => {\n      this.props.onClose && this.props.onClose()\n    })\n  }\n\n  getVisibleCategories() {\n    const { categories } = this.props\n    if (!categories) {\n      return []\n    }\n\n    const { categoryId } = this.state\n    return categoryId ? categories.filter(({ id }) => id === categoryId) : categories\n  }\n\n  setCurrentCategory(categoryId) {\n    this.setState({ categoryId }, () => {\n      Promise.all([this.searchContentItems(), this.fetchContentItemsCount()]).then(() =>\n        this.setState({ step: formSteps.MAIN })\n      )\n    })\n  }\n\n  renderCategoryPicker() {\n    const { categories } = this.props\n    return (\n      <div>\n        <strong>Search in:</strong>\n        <div className=\"list-group\">\n          <a href=\"#\" onClick={() => this.setCurrentCategory(null)} className=\"list-group-item list-group-item-action\">\n            All\n          </a>\n          {categories.map((category, i) => (\n            <a\n              href=\"#\"\n              key={i}\n              onClick={() => this.setCurrentCategory(category.id)}\n              className={classnames('list-group-item', 'list-group-item-action', {\n                active: i === this.state.activeItemIndex\n              })}\n            >\n              {category.title}\n            </a>\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  resetCurrentCategory = () => {\n    this.setState({ categoryId: null, step: formSteps.PICK_CATEGORY })\n  }\n\n  renderCurrentCategoryInfo() {\n    const { categories } = this.props\n    const { hideCategoryInfo } = this.state\n    if (hideCategoryInfo || !categories || categories.length < 2) {\n      return null\n    }\n\n    const { categoryId } = this.state\n    const title = categoryId ? categories.find(({ id }) => id === categoryId).title : 'All'\n\n    return (\n      <p>\n        Currently Searching in: <strong>{title}</strong>.&nbsp;\n        <button className=\"btn btn-warning btn-sm\" onClick={this.resetCurrentCategory}>\n          Change\n        </button>\n      </p>\n    )\n  }\n\n  getSearchDescription() {\n    const { categories } = this.props\n    const { categoryId } = this.state\n    const title = categoryId ? categories.find(({ id }) => id === categoryId).title : 'all content elements'\n    return `Search ${title} (${this.props.itemsCount})`\n  }\n\n  renderMainBody() {\n    const categories = this.getVisibleCategories()\n\n    if (!categories.length) {\n      return (\n        <Alert bsStyle=\"warning\">\n          <strong>We think you don&apos;t have any content types defined.</strong> Please&nbsp;\n          <a href=\"https://botpress.io/docs/foundamentals/content/\" target=\"_blank\" rel=\"noopener noreferrer\">\n            <strong>read the docs</strong>\n          </a>\n          &nbsp;to see how you can make use of this feature.\n        </Alert>\n      )\n    }\n\n    return (\n      <div>\n        {this.renderCurrentCategoryInfo()}\n        <input\n          type=\"text\"\n          className=\"form-control\"\n          placeholder={this.getSearchDescription()}\n          aria-label=\"Search content elements\"\n          onChange={this.onSearchChange}\n          autoFocus\n          value={this.state.searchTerm}\n        />\n        <hr />\n        <div className=\"list-group\">\n          {categories.map((category, i) => (\n            <a\n              href=\"#\"\n              key={i}\n              onClick={() => this.setState({ newItemCategory: category, newItemData: null })}\n              className={`list-group-item list-group-item-action ${style.createItem}`}\n            >\n              Create new {category.title}\n            </a>\n          ))}\n          {this.props.contentItems.map((contentItem, i) => (\n            <a\n              href=\"#\"\n              key={i}\n              className={`list-group-item list-group-item-action ${i === this.state.activeItemIndex ? 'active' : ''}`}\n              onClick={() => this.handlePick(contentItem)}\n            >\n              {`[${contentItem.categoryId}] ${contentItem.previewText}`}\n            </a>\n          ))}\n        </div>\n      </div>\n    )\n  }\n\n  renderBody() {\n    if (this.state.step === formSteps.INITIAL) {\n      return <Loading />\n    } else if (this.state.step === formSteps.PICK_CATEGORY) {\n      return this.renderCategoryPicker()\n    }\n    return this.renderMainBody()\n  }\n\n  render() {\n    const { state: { newItemCategory, show }, props: { container } } = this\n    const schema = (newItemCategory || {}).schema || { json: {}, ui: {} }\n\n    return (\n      <Modal animation={false} show={show} onHide={this.onClose} container={container} style={{ zIndex: 1051 }}>\n        <Modal.Header closeButton>\n          <Modal.Title>Pick Content</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>{this.renderBody()}</Modal.Body>\n\n        <CreateOrEditModal\n          show={!!newItemCategory}\n          schema={schema.json}\n          uiSchema={schema.ui}\n          handleClose={this.resetCreateContent(false)}\n          formData={this.state.newItemData}\n          handleEdit={this.handleFormEdited}\n          handleCreateOrUpdate={this.handleCreate}\n        />\n      </Modal>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  contentItems: state.content.recentItems,\n  itemsCount: state.content.itemsCount,\n  categories: state.content.categories\n})\n\nconst mapDispatchToProps = {\n  fetchContentItemsRecent,\n  fetchContentItemsCount,\n  fetchContentCategories,\n  upsertContentItem\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectContent)\n","import React, { Component } from 'react'\nimport Select from './index'\nimport nanoId from 'nanoid'\n\nclass SelectContentManager extends Component {\n  state = {\n    selects: []\n  }\n\n  constructor(props) {\n    super(props)\n\n    window.botpress = window.botpress || {}\n    window.botpress.pickContent = ({ categoryId = null } = {}, callback) => {\n      const id = nanoId()\n      const rootEl = document.createElement('DIV')\n      rootEl.setAttribute('data-select-content-container', id)\n      document.getElementById('app').appendChild(rootEl)\n      this.setState(({ selects }) => ({\n        selects: [...selects, { categoryId, callback, id, rootEl }]\n      }))\n    }\n  }\n\n  componentWillUnmount() {\n    delete window.botpress.pickContent\n  }\n\n  onClose = i => () => {\n    const { rootEl } = this.state.selects[i]\n    this.setState(\n      ({ selects }) => ({\n        selects: selects.slice(0, i).concat(selects.slice(i + 1))\n      }),\n      () => {\n        if (rootEl.parentNode) {\n          rootEl.parentNode.removeChild(rootEl)\n        }\n      }\n    )\n  }\n\n  render() {\n    const { selects } = this.state\n    return (\n      <div>\n        {selects.map(({ categoryId, callback, id, rootEl }, i) => (\n          <Select key={id} categoryId={categoryId} onSelect={callback} onClose={this.onClose(i)} container={rootEl} />\n        ))}\n      </div>\n    )\n  }\n}\n\nexport default SelectContentManager\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".style__body___3uwpm {\\n  font-size: 16px; }\\n  .style__body___3uwpm .style__big___a44U8 {\\n    font-size: 22px; }\\n  .style__body___3uwpm .style__emp___2sb4D {\\n    font-weight: 400; }\\n  .style__body___3uwpm .style__left___1YC2M {\\n    text-align: left; }\\n  .style__body___3uwpm li {\\n    margin: 10px 20px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"body\": \"style__body___3uwpm\",\n\t\"big\": \"style__big___a44U8\",\n\t\"emp\": \"style__emp___2sb4D\",\n\t\"left\": \"style__left___1YC2M\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import ReactEmoji from 'react-emoji'\n\nmodule.exports = (text, size = 20) => {\n  return ReactEmoji.emojify(text, {\n    emojiType: 'emojione',\n    attributes: { width: size, height: size }\n  })\n}\n","import React from 'react'\nimport { Modal, Button, Alert } from 'react-bootstrap'\nimport classnames from 'classnames'\n\nimport emojify from '~/util/Emoji'\n\nimport axios from 'axios'\nimport _ from 'lodash'\n\nimport style from './style.scss'\n\nconst STEPS_COUNT = 3\n\nexport default class GuidedTour extends React.Component {\n  state = {\n    finished: false,\n    step: 0\n  }\n\n  handleClose = () => {\n    axios.delete('/api/guided-tour').then(() => {\n      this.setState({ finished: true })\n    })\n  }\n\n  handleNext = () => {\n    if (this.state.step < STEPS_COUNT - 1) {\n      this.setState({ step: this.state.step + 1 })\n    } else {\n      this.handleClose()\n    }\n  }\n\n  handlePrevious = () => {\n    if (this.state.step > 0) {\n      this.setState({ step: this.state.step - 1 })\n    }\n  }\n\n  renderSkipButton() {\n    return (\n      <Button className=\"pull-left\" onClick={this.handleClose}>\n        Skip\n      </Button>\n    )\n  }\n\n  renderPrevButton() {\n    const disabled = this.state.step <= 0\n    return (\n      <Button disabled={disabled} onClick={this.handlePrevious}>\n        Back\n      </Button>\n    )\n  }\n\n  renderNextButton() {\n    const buttonText = this.state.step < STEPS_COUNT - 1 ? 'Next' : \"Let's start!\"\n    return (\n      <Button onClick={this.handleNext} bsStyle=\"success\">\n        {buttonText}\n      </Button>\n    )\n  }\n\n  renderStep_0() {\n    return (\n      <div>\n        <p>{emojify(':tada:', 100)}</p>\n        <p className={style.big}>Congratulations on choosing Botpress for your next bot!</p>\n        <p>\n          Botpress is the most effective way for developers to create bots. This tour will help you get\n          started quickly.\n        </p>\n        <hr />\n        <p>\n          First, you should know that a Botpress bot is just a regular Node.js app. There is no black magic, and\n          everything your bot does is done either through the code you write or done for you by pre-made modules (thanks to\n          our awesome community).\n        </p>\n        <p>\n          By default, your bot's entry point is the <code>index.js</code> file, but you can arrange your code base as\n          you wish. Again, <span className={style.emp}>your bot is just a regular Node.js program.</span>\n        </p>\n      </div>\n    )\n  }\n\n  renderStep_1() {\n    return (\n      <div>\n        <p>{emojify(':package:', 100)}</p>\n        <p className={style.big}>There's a module for that.</p>\n        <p>Whenever there's a piece of functionality that you need for your bot, think modules.</p>\n        <hr />\n        <p>You can install modules via this graphical interface or from the command-line interface.</p>\n        <p>\n          If there's no module for the generic feature you are looking for, please consider creating one or contributing\n          to an existing module to add that feature. Botpress relies heavily on the community to thrive. Every single\n          contribution is needed, even if it's tiny {emojify(':blush:')}!\n        </p>\n        <p>\n          Installing a module from the command-line is as simple as typing <code>npm install botpress-messenger</code>\n        </p>\n      </div>\n    )\n  }\n\n  renderStep_2() {\n    return (\n      <div>\n        <p>{emojify(':rocket:', 100)}</p>\n        <p className={style.big}>Before you deploy your bot...</p>\n        <ul className={style.left}>\n          <li>\n            We recommend you{' '}\n            <a target=\"_blank\" href=\"https://botpress.io/docs/getting_started/trivia_deploying/#using-postgres-as-the-database\">\n              enable the Postgres database\n            </a>{' '}\n            for production environments.\n          </li>\n          <li>\n            Do <strong>not</strong> store keys, passwords or any sensitive information in your botfile. Use environment\n            variables instead.\n          </li>\n          <li>\n            Switch to the <b>Botpress License</b> (the default license is AGPL), which is 100% free for all bots and\n            more permissive than AGPL.\n          </li>\n        </ul>\n        <p>\n          Deployment tutorials are{' '}\n          <a href=\"https://botpress.io/docs/getting_started/trivia_deploying/#deploying-to-self-hosted-server\" target=\"_blank\">\n            available here.\n          </a>\n        </p>\n      </div>\n    )\n  }\n\n  renderCurrentStep() {\n    const currentStep = Math.min(this.state.step, STEPS_COUNT - 1)\n    return this[`renderStep_${currentStep}`]()\n  }\n\n  render() {\n    const bodyStyle = classnames('text-center', style.body)\n\n    return (\n      <Modal show={!this.state.finished && this.props.opened} onHide={this.handleClose} backdrop=\"static\">\n        <Modal.Header>\n          <Modal.Title>Welcome to Botpress!</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className={bodyStyle}>{this.renderCurrentStep()}</Modal.Body>\n        <Modal.Footer>\n          {this.renderSkipButton()}\n          {this.renderPrevButton()}\n          {this.renderNextButton()}\n        </Modal.Footer>\n      </Modal>\n    )\n  }\n}\n","import React from 'react'\n\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport { Modal } from 'react-bootstrap'\n\nimport { toggleAboutModal } from '~/actions'\n\nconst AboutComponent = props => (\n  <Modal show={props.opened} onHide={props.toggleAboutModal}>\n    <Modal.Header closeButton>\n      <Modal.Title>About Botpress</Modal.Title>\n    </Modal.Header>\n    <Modal.Body>\n      <h3>\n        Botpress <b>v{window.BOTPRESS_VERSION}</b>\n      </h3>\n      <h5>The only sane way of building great bots</h5>\n      <br />\n      Emoji provided free by <a href=\"http://emojione.com/\">EmojiOne</a>\n    </Modal.Body>\n  </Modal>\n)\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ toggleAboutModal }, dispatch)\n\nexport default connect(null, mapDispatchToProps)(AboutComponent)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".modal-dialog {\\n  width: 750px; }\\n\\n.style__textArea___qy4-D {\\n  font-size: 16px;\\n  overflow-y: scroll;\\n  width: 100%;\\n  height: 300px;\\n  border-radius: 5px;\\n  padding: 10px 20px 10px 20px;\\n  border-color: lightgrey;\\n  margin: 10px 0px 10px 0px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"textArea\": \"style__textArea___qy4-D\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Modal, Button } from 'react-bootstrap'\n\nimport style from './style.scss'\n\nclass License extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  state = {\n    loading: true\n  }\n\n  componentDidMount() {\n    this.setState({\n      loading: false\n    })\n  }\n\n  handleClose = () => {\n    this.props.toggleLicenseModal()\n  }\n\n  renderLicenseTextArea() {\n    return (\n      <div>\n        <textarea readOnly={true} className={style.textArea} value={this.props.license.text} />\n      </div>\n    )\n  }\n\n  renderCancelButton() {\n    return <Button onClick={this.handleClose}>Close</Button>\n  }\n\n  render() {\n    if (this.state.loading) {\n      return null\n    }\n\n    return (\n      <Modal show={this.props.opened} onHide={this.handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>{this.props.license.name}</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>{this.renderLicenseTextArea()}</Modal.Body>\n        <Modal.Footer>{this.renderCancelButton()}</Modal.Footer>\n      </Modal>\n    )\n  }\n}\n\nexport default License\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".HelpButton__container___hqLkB {\\n  position: absolute;\\n  right: 60px;\\n  bottom: 80px; }\\n\\n.HelpButton__button___31ZHt {\\n  position: relative;\\n  width: 56px;\\n  height: 56px;\\n  background-color: #242424;\\n  color: #fff;\\n  border-radius: 50%;\\n  cursor: pointer;\\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.13);\\n  transition: background-color 0.12s cubic-bezier(0.2, 0.7, 0.5, 1), box-shadow 0.12s cubic-bezier(0.2, 0.7, 0.5, 1); }\\n  .HelpButton__button___31ZHt .icon {\\n    font-size: 32px;\\n    margin: 12px; }\\n  .HelpButton__button___31ZHt:hover {\\n    background-color: #3b3b3b;\\n    box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.13); }\\n  .HelpButton__button___31ZHt .HelpButton__icon___UYWGy {\\n    position: absolute;\\n    left: 0; }\\n  .HelpButton__button___31ZHt i {\\n    transform: scale(0);\\n    opacity: 0;\\n    transition: transform 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 0ms, opacity 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 0ms; }\\n    .HelpButton__button___31ZHt i.HelpButton__show___3Y5m5 {\\n      transform: scale(1);\\n      opacity: 1; }\\n\\n.HelpButton__menu___3-P-2 ul {\\n  list-style-type: none;\\n  margin: 0;\\n  padding: 0;\\n  margin-top: -300px; }\\n\\n.HelpButton__menu___3-P-2 li {\\n  transform: scale(0.8);\\n  opacity: 0;\\n  pointer-events: none;\\n  cursor: pointer;\\n  position: absolute;\\n  width: 48px;\\n  height: 48px;\\n  right: 4px;\\n  border-radius: 50%;\\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.13); }\\n  .HelpButton__menu___3-P-2 li .icon {\\n    margin: 11px; }\\n  .HelpButton__menu___3-P-2 li.HelpButton__btn1___3p7_r {\\n    background-color: #fff;\\n    transition: background-color 0.12s, transform 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 0ms, opacity 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 0ms, bottom 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 0ms; }\\n    .HelpButton__menu___3-P-2 li.HelpButton__btn1___3p7_r a {\\n      color: #58d1b0; }\\n  .HelpButton__menu___3-P-2 li.HelpButton__btn2___1iYsn {\\n    background-color: #58d1b0;\\n    transition: background-color 0.12s, transform 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 40ms, opacity 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 40ms, bottom 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 40ms; }\\n    .HelpButton__menu___3-P-2 li.HelpButton__btn2___1iYsn:hover {\\n      background-color: #5ee1bc; }\\n    .HelpButton__menu___3-P-2 li.HelpButton__btn2___1iYsn a {\\n      color: #fff; }\\n  .HelpButton__menu___3-P-2 li.HelpButton__btn3___2V0Nb {\\n    background-color: #242424;\\n    transition: background-color 0.12s, transform 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 80ms, opacity 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 80ms, bottom 0.12s cubic-bezier(0.2, 0.7, 0.5, 1) 80ms; }\\n    .HelpButton__menu___3-P-2 li.HelpButton__btn3___2V0Nb:hover {\\n      background-color: #3b3b3b; }\\n    .HelpButton__menu___3-P-2 li.HelpButton__btn3___2V0Nb a {\\n      color: #fff; }\\n  .HelpButton__menu___3-P-2 li.HelpButton__show___3Y5m5 {\\n    opacity: 1;\\n    transform: scale(1);\\n    pointer-events: all; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"container\": \"HelpButton__container___hqLkB\",\n\t\"button\": \"HelpButton__button___31ZHt\",\n\t\"icon\": \"HelpButton__icon___UYWGy\",\n\t\"show\": \"HelpButton__show___3Y5m5\",\n\t\"menu\": \"HelpButton__menu___3-P-2\",\n\t\"btn1\": \"HelpButton__btn1___3p7_r\",\n\t\"btn2\": \"HelpButton__btn2___1iYsn\",\n\t\"btn3\": \"HelpButton__btn3___2V0Nb\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./HelpButton.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./HelpButton.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./HelpButton.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { Tooltip, OverlayTrigger } from 'react-bootstrap'\n\nimport classnames from 'classnames'\n\nimport style from './HelpButton.scss'\n\nexport default class HelpButton extends React.Component {\n  state = {\n    shown: false\n  }\n\n  toggleShown = () => {\n    this.setState({ shown: !this.state.shown })\n  }\n\n  render() {\n    const basePosition = this.state.shown ? 38 : 18\n    const btnClass = name =>\n      classnames(style.link, style[name], {\n        [style.show]: this.state.shown\n      })\n\n    const showIcon = negate =>\n      classnames('icon', 'material-icons', {\n        [style.icon]: true,\n        [style.show]: negate ? this.state.shown : !this.state.shown\n      })\n\n    const community = (\n      <Tooltip id=\"community-tooltip\">\n        Slack <strong>Community</strong>\n      </Tooltip>\n    )\n    const documentation = (\n      <Tooltip id=\"documentation-tooltip\">\n        Official <strong>Documentation</strong>\n      </Tooltip>\n    )\n    const tutorials = (\n      <Tooltip id=\"tutorials-tooltip\">\n        Watch our <strong>tutorials</strong>\n      </Tooltip>\n    )\n\n    return (\n      <div className={style.container}>\n        <div className={style.button} onClick={this.toggleShown}>\n          <i className={showIcon(false)}>forum</i>\n          <i className={showIcon(true)}>close</i>\n        </div>\n        <div className={style.menu}>\n          <ul>\n            <li className={btnClass('btn1')} style={{ bottom: basePosition + 0 + 'px' }}>\n              <OverlayTrigger placement=\"left\" overlay={community}>\n                <a href=\"https://slack.botpress.io\" target=\"_blank\">\n                  <i className=\"icon material-icons\">group</i>\n                </a>\n              </OverlayTrigger>\n            </li>\n            <li className={btnClass('btn2')} style={{ bottom: basePosition + 60 + 'px' }}>\n              <OverlayTrigger placement=\"left\" overlay={documentation}>\n                <a href=\"https://botpress.io/docs\" target=\"_blank\">\n                  <i className=\"icon material-icons\">book</i>\n                </a>\n              </OverlayTrigger>\n            </li>\n            <li className={btnClass('btn3')} style={{ bottom: basePosition + 120 + 'px' }}>\n              <OverlayTrigger placement=\"left\" overlay={tutorials}>\n                <a href=\"https://www.youtube.com/watch?v=HTpUmDz9kRY\" target=\"_blank\">\n                  <i className=\"icon material-icons\">video_library</i>\n                </a>\n              </OverlayTrigger>\n            </li>\n          </ul>\n        </div>\n      </div>\n    )\n  }\n}\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".SidebarFooter__bottomInformation___2BwAg {\\n  z-index: 100;\\n  height: 140px;\\n  width: 200px;\\n  color: #58d1b0;\\n  font-size: 12px;\\n  position: fixed;\\n  bottom: 0px;\\n  text-align: left;\\n  background: rgba(36, 36, 36, 0.5);\\n  background: -webkit-gradient(left bottom, left top, color-stop(60%, rgba(36, 36, 36, 0)), color-stop(100%, rgba(36, 36, 36, 0)));\\n  background: linear-gradient(to top, #242424 60%, rgba(36, 36, 36, 0) 100%); }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__innerFooter___BzH-- {\\n    border-top: 1px solid #565656;\\n    background-color: #242424;\\n    position: absolute;\\n    bottom: 0px;\\n    width: 100%;\\n    opacity: 1;\\n    padding-top: 10px;\\n    padding-left: 20px;\\n    padding-bottom: 10px; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__license___3Ptwu {\\n    margin-bottom: 5px;\\n    display: block; }\\n    .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__license___3Ptwu:hover {\\n      color: #58d1b0; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__unlicensed___xoJ-G {\\n    color: #d84744;\\n    font-weight: bold; }\\n  .SidebarFooter__bottomInformation___2BwAg a:hover {\\n    color: #58d1b0; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__name___l8UmJ {\\n    font-size: 16px;\\n    color: #c7c7c7; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__production___1XBwN {\\n    margin-bottom: 10px; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__logo___ZCT6J {\\n    margin: 20px 0 10px 15px !important;\\n    padding: 3px; }\\n    .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__logo___ZCT6J img {\\n      width: 110px; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__progressBar___1ox-D {\\n    height: 8px;\\n    border: solid 1px #878787;\\n    margin-right: 20px;\\n    margin-bottom: 5px; }\\n    .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__progressBar___1ox-D .SidebarFooter__used___46WWO {\\n      background-color: #58d1b0;\\n      height: 100%; }\\n    .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__progressBar___1ox-D .SidebarFooter__warning___2P58i {\\n      background-color: #fffd77; }\\n    .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__progressBar___1ox-D .SidebarFooter__urgent___fYOrT {\\n      background-color: #fea464; }\\n    .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__progressBar___1ox-D .SidebarFooter__reached___1u-Dx {\\n      background-color: #f86768; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__status___3dywB .SidebarFooter__dot___1auhw {\\n    background-color: #21cf9e;\\n    display: inline-block;\\n    height: 6px;\\n    width: 6px;\\n    border-radius: 50%;\\n    margin-bottom: 1px;\\n    margin-right: 4px; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__status___3dywB .SidebarFooter__reached___1u-Dx {\\n    background-color: #d84744; }\\n  .SidebarFooter__bottomInformation___2BwAg .SidebarFooter__buy___2WOHP {\\n    font-size: 14px;\\n    font-weight: 400;\\n    color: #c7c7c7;\\n    display: block;\\n    margin-top: 5px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"bottomInformation\": \"SidebarFooter__bottomInformation___2BwAg\",\n\t\"innerFooter\": \"SidebarFooter__innerFooter___BzH--\",\n\t\"license\": \"SidebarFooter__license___3Ptwu\",\n\t\"unlicensed\": \"SidebarFooter__unlicensed___xoJ-G\",\n\t\"name\": \"SidebarFooter__name___l8UmJ\",\n\t\"production\": \"SidebarFooter__production___1XBwN\",\n\t\"logo\": \"SidebarFooter__logo___ZCT6J\",\n\t\"progressBar\": \"SidebarFooter__progressBar___1ox-D\",\n\t\"used\": \"SidebarFooter__used___46WWO\",\n\t\"warning\": \"SidebarFooter__warning___2P58i\",\n\t\"urgent\": \"SidebarFooter__urgent___fYOrT\",\n\t\"reached\": \"SidebarFooter__reached___1u-Dx\",\n\t\"status\": \"SidebarFooter__status___3dywB\",\n\t\"dot\": \"SidebarFooter__dot___1auhw\",\n\t\"buy\": \"SidebarFooter__buy___2WOHP\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js??ref--5-1!../../../../../node_modules/postcss-loader/lib/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./SidebarFooter.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./SidebarFooter.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./SidebarFooter.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n\nimport { Link } from 'react-router-dom'\nimport classnames from 'classnames'\nimport moment from 'moment'\n\nimport { toggleLicenseModal, toggleAboutModal } from '~/actions'\nimport { operationAllowed } from './PermissionsChecker'\n\nconst style = require('./SidebarFooter.scss')\n\nclass SidebarFooter extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  openLicenseComponent = () => {\n    this.props.toggleLicenseModal()\n  }\n\n  openAbout = () => {\n    this.props.toggleAboutModal()\n  }\n\n  renderProgressBar() {\n    const limit = this.props.license.limit\n\n    const progressClassNames = classnames(style.progressBar, 'bp-progress')\n\n    const progress = limit && limit.get('progress')\n    const usedClassNames = classnames(style.used, 'bp-used', {\n      [style.warning]: progress >= 0.75,\n      ['bp-warning']: progress >= 0.75,\n      [style.urgent]: progress >= 0.9,\n      ['bp-urgent']: progress >= 0.9,\n      [style.reached]: progress >= 1,\n      ['bp-reached']: progress >= 1\n    })\n\n    let width = limit && limit.get('progress') * 100 + '%'\n\n    if (limit && limit.get('reached')) {\n      width = '100%'\n    }\n\n    const usedStyle = {\n      width\n    }\n\n    if (limit && limit.get('progress')) {\n      return (\n        <div className={progressClassNames}>\n          <div style={usedStyle} className={usedClassNames} />\n        </div>\n      )\n    }\n\n    return null\n  }\n\n  renderStatusDiv(message) {\n    const limit = this.props.license.limit\n\n    const statusClassNames = classnames(style.status, 'bp-status')\n\n    const dotClassNames = classnames(style.dot, 'bp-dot', {\n      [style.reached]: limit && limit.get('reached'),\n      ['bp-reached']: limit && limit.get('reached')\n    })\n\n    return (\n      <div className={statusClassNames}>\n        <div className={dotClassNames} />\n        {message}\n      </div>\n    )\n  }\n\n  renderLicenseStatus() {\n    const limit = this.props.license.limit\n\n    if (limit && limit.get('message')) {\n      return this.renderStatusDiv(limit.get('message'))\n    }\n\n    const date = this.props.license.date\n\n    if (date) {\n      const expiration = moment(date).format('MMM Do YYYY')\n      const text = 'Valid until ' + expiration\n\n      return this.renderStatusDiv(text)\n    }\n\n    return null\n  }\n\n  renderBuyLink() {\n    const limit = this.props.license.limit\n    const licensed = this.props.license.licensed\n\n    if ((limit && limit.get('reached')) || !licensed) {\n      const classNames = classnames(style.buy, 'bp-buy')\n\n      return (\n        <a className={classNames} href=\"https://botpress.io\">\n          Buy a license\n        </a>\n      )\n    }\n\n    return null\n  }\n\n  renderLicense() {\n    const { licensed } = this.props.license\n    const license = licensed ? this.props.license.name : 'Unlicensed'\n\n    const classNames = classnames(style.license, 'bp-edition-license', {\n      [style.unlicensed]: !licensed\n    })\n\n    return (\n      <Link className={classNames} to=\"#\" title=\"License\" onClick={this.openLicenseComponent}>\n        {license}\n      </Link>\n    )\n  }\n\n  renderAllLicenseElements() {\n    if (!window.AUTH_ENABLED) {\n      return null\n    }\n\n    return (\n      <div>\n        {this.renderLicense()}\n        {this.renderProgressBar()}\n        {this.renderLicenseStatus()}\n        {this.renderBuyLink()}\n      </div>\n    )\n  }\n\n  render() {\n    if (this.props.viewMode >= 1) {\n      return null\n    }\n\n    const production = window.DEV_MODE ? 'in development' : 'in production'\n\n    const name = this.props.botInformation && this.props.botInformation.name\n\n    const sidebarFooterClassNames = classnames(style.bottomInformation, 'bp-sidebar-footer')\n    const sidebarInnerClassNames = classnames(style.innerFooter, 'bp-inner-footer')\n    const nameClassNames = classnames(style.name, 'bp-name')\n    const productionClassNames = classnames(style.production, 'bp-production')\n    const aboutClassNames = classnames(style.about, 'bp-about')\n\n    return (\n      <div className={sidebarFooterClassNames}>\n        <div className={sidebarInnerClassNames}>\n          <div className={nameClassNames}>{name}</div>\n          <div className={productionClassNames}>{production}</div>\n          {this.renderAllLicenseElements()}\n          <Link className={aboutClassNames} to=\"#\" title=\"About\" onClick={this.openAbout}>\n            About Botpress\n          </Link>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  botInformation: state.bot,\n  license: state.license,\n  viewMode: state.ui.viewMode\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ toggleLicenseModal, toggleAboutModal }, dispatch)\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SidebarFooter)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".Sidebar__sidebarReact___3LyJe {\\n  bottom: 0px !important; }\\n\\n.Sidebar__sidebar___2zqXw {\\n  background-color: #242424;\\n  color: #aaa;\\n  height: 100%;\\n  max-width: 200px; }\\n\\n.Sidebar__sidebar___2zqXw ul {\\n  background-color: #242424; }\\n\\n.Sidebar__sidebar___2zqXw ul li {\\n  font-size: 16px;\\n  line-height: 44px;\\n  border-top: 1px solid #2d2d2d; }\\n  .Sidebar__sidebar___2zqXw ul li a {\\n    padding: 0 15px; }\\n    .Sidebar__sidebar___2zqXw ul li a .icon {\\n      display: inline;\\n      vertical-align: middle;\\n      color: #58d1b0;\\n      padding: 0 10px 0 0;\\n      font-size: 18px; }\\n\\n.Sidebar__sidebar___2zqXw ul li a {\\n  color: #aaa; }\\n  .Sidebar__sidebar___2zqXw ul li a:hover, .Sidebar__sidebar___2zqXw ul li a:focus, .Sidebar__sidebar___2zqXw ul li a:active {\\n    background-color: #111111; }\\n\\n.Sidebar__active___1D-kR {\\n  background-color: #111111;\\n  border-left: 5px solid #58d1b0; }\\n\\n.Sidebar__customIcon___3ao4_ {\\n  width: 28px;\\n  height: 18px;\\n  padding-right: 10px; }\\n\\n.Sidebar__empty___1D1re {\\n  height: 120px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"sidebarReact\": \"Sidebar__sidebarReact___3LyJe\",\n\t\"sidebar\": \"Sidebar__sidebar___2zqXw\",\n\t\"active\": \"Sidebar__active___1D-kR\",\n\t\"customIcon\": \"Sidebar__customIcon___3ao4_\",\n\t\"empty\": \"Sidebar__empty___1D1re\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./Sidebar.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./Sidebar.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./Sidebar.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\n\nimport { fetchStatus } from './util'\n\nconst CHECK_INTERVAL_SEC = 5\n\nclass GhostContentStatusChecker extends Component {\n  state = {\n    hasPending: false\n  }\n\n  fetch = () => {\n    fetchStatus()\n      .then(data => {\n        const hasPending = data && !!Object.keys(data).length\n        this.setState({ hasPending })\n      })\n      .catch(() => {\n        // do nothing\n      })\n  }\n\n  componentDidMount() {\n    this.fetch()\n    this.checkInterval = setInterval(this.fetch, CHECK_INTERVAL_SEC * 1000)\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.checkInterval)\n  }\n\n  render() {\n    const { hasPending } = this.state\n    return (\n      hasPending && (\n        <span>\n          &nbsp;<i className=\"icon material-icons\" title=\"You have unsynced changes, see how to sync it.\">\n            warning\n          </i>\n        </span>\n      )\n    )\n  }\n}\n\nexport default GhostContentStatusChecker\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".SidebarHeader__logo___2S7yw {\\n  margin: 20px 0 10px 15px !important;\\n  padding: 3px; }\\n  .SidebarHeader__logo___2S7yw img {\\n    width: 110px; }\\n\\n.SidebarHeader__header___YVZ2E {\\n  width: 200px;\\n  max-width: 200px;\\n  background-color: #242424;\\n  color: #aaa; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"logo\": \"SidebarHeader__logo___2S7yw\",\n\t\"header\": \"SidebarHeader__header___YVZ2E\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./SidebarHeader.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./SidebarHeader.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./SidebarHeader.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from 'react'\nimport { Navbar, Nav, NavItem, NavDropdown, MenuItem } from 'react-bootstrap'\nimport classnames from 'classnames'\n\nimport headerStyle from './Header.scss'\nimport style from './SidebarHeader.scss'\n\nexport default class SidebarHeader extends Component {\n  render() {\n    const headerClass = classnames(style.header, headerStyle.navbar, 'bp-sidebar-header')\n\n    return (\n      <Navbar inverse className={headerClass}>\n        <Navbar.Header>\n          <Navbar.Brand>\n            <a href=\"/\" className={classnames(style.logo, 'bp-logo')}>\n              <img src=\"/img/logo.png\" alt=\"Botpress Logo\" />\n            </a>\n          </Navbar.Brand>\n          <Navbar.Toggle />\n        </Navbar.Header>\n      </Navbar>\n    )\n  }\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\n\nimport { NavLink } from 'react-router-dom'\nimport classnames from 'classnames'\n\nimport ReactSidebar from 'react-sidebar'\nimport SidebarHeader from './SidebarHeader'\n\nimport GhostChecker from '~/views/GhostContent/Checker'\nimport PermissionsChecker from './PermissionsChecker'\n\nconst style = require('./Sidebar.scss')\n\nconst BASIC_MENU_ITEMS = [\n  {\n    name: 'Dashboard',\n    path: '/dashboard',\n    rule: { res: 'bot.information', op: 'read' },\n    icon: 'dashboard'\n  },\n  window.GHOST_ENABLED && {\n    name: 'Version Control',\n    path: 'version-control',\n    rule: { res: 'bot.ghost_content', op: 'read' },\n    icon: 'content_copy',\n    renderSuffix() {\n      return <GhostChecker />\n    }\n  },\n  {\n    name: 'Content',\n    path: '/content',\n    rule: { res: 'bot.content', op: 'read' },\n    icon: 'description'\n  },\n  {\n    name: 'Flows',\n    path: '/flows',\n    rule: { res: 'bot.flows', op: 'read' },\n    icon: 'device_hub'\n  },\n  {\n    name: 'Middleware',\n    path: '/middleware',\n    rule: { res: 'bot.middleware.list', op: 'read' },\n    icon: 'settings'\n  }\n].filter(Boolean)\n\nclass Sidebar extends React.Component {\n  static contextTypes = {\n    router: PropTypes.object.isRequired\n  }\n\n  state = {\n    sidebarOpen: false,\n    sidebarDocked: false\n  }\n\n  onSetSidebarOpen = open => {\n    this.setState({ sidebarOpen: open })\n  }\n\n  componentWillMount() {\n    const mql = window.matchMedia(`(min-width: 800px)`)\n    mql.addListener(this.mediaQueryChanged)\n    this.setState({ mql: mql, sidebarDocked: mql.matches })\n  }\n\n  componentWillUnmount() {\n    this.state.mql.removeListener(this.mediaQueryChanged)\n  }\n\n  mediaQueryChanged = () => {\n    this.setState({ sidebarDocked: this.state.mql.matches })\n  }\n\n  renderModuleItem = module => {\n    const path = `/modules/${module.name}`\n    const iconPath = `/img/modules/${module.name}.png`\n    const moduleIcon =\n      module.menuIcon === 'custom' ? (\n        <img className={classnames(style.customIcon, 'bp-custom-icon')} src={iconPath} />\n      ) : (\n        <i className=\"icon material-icons\">{module.menuIcon}</i>\n      )\n\n    return (\n      <li key={`menu_module_${module.name}`}>\n        <NavLink to={path} title={module.menuText} activeClassName={style.active}>\n          {moduleIcon}\n          <span>{module.menuText}</span>\n        </NavLink>\n      </li>\n    )\n  }\n\n  renderBasicItem = ({ name, path, rule, icon, renderSuffix }) => {\n    return (\n      <PermissionsChecker user={this.props.user} res={rule.res} op={rule.op} key={name}>\n        <li key={path}>\n          <NavLink to={path} title={name} activeClassName={style.active}>\n            <i className=\"icon material-icons\">{icon}</i>\n            {name}\n            {renderSuffix && renderSuffix()}\n          </NavLink>\n        </li>\n      </PermissionsChecker>\n    )\n  }\n\n  render() {\n    const modules = this.props.modules\n    const moduleItems = modules.filter(x => !x.noInterface).map(this.renderModuleItem)\n    const emptyClassName = classnames(style.empty, 'bp-empty')\n\n    const sidebarContent = (\n      <div className={classnames(style.sidebar, 'bp-sidebar')}>\n        <SidebarHeader />\n        <ul className=\"nav\">\n          {BASIC_MENU_ITEMS.map(this.renderBasicItem)}\n          {moduleItems}\n          <li className={emptyClassName} />\n        </ul>\n      </div>\n    )\n\n    const isOpen = this.props.viewMode < 1\n\n    return (\n      <ReactSidebar\n        sidebarClassName={classnames(style.sidebarReact, 'bp-sidebar-react')}\n        sidebar={sidebarContent}\n        open={isOpen}\n        docked={isOpen}\n        shadow={false}\n        transitions={false}\n        styles={{ sidebar: { zIndex: 20 } }}\n        onSetOpen={this.onSetSidebarOpen}\n      >\n        {this.props.children}\n      </ReactSidebar>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  viewMode: state.ui.viewMode,\n  modules: state.modules\n})\n\nexport default connect(mapStateToProps)(Sidebar)\n","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".Header__navbar___YUtxs {\\n  border: none;\\n  margin-bottom: 0;\\n  background-color: #ffffff;\\n  color: #434343; }\\n  .Header__navbar___YUtxs .navbar-nav a:hover, .Header__navbar___YUtxs .navbar-nav a:active, .Header__navbar___YUtxs .navbar-nav a:focus, .Header__navbar___YUtxs .navbar-nav a:visited {\\n    background: none !important;\\n    box-shadow: none !important; }\\n  .Header__navbar___YUtxs .open .material-icons {\\n    color: #434343 !important; }\\n  .Header__navbar___YUtxs .dropdown-menu a {\\n    width: 100%;\\n    text-decoration: none; }\\n\\n.navbar-default .navbar-nav > .open > a {\\n  background-color: #ffffff !important; }\\n\\n.Header__app-navbar___2NzX7 {\\n  position: fixed;\\n  right: 0;\\n  width: 100%;\\n  z-index: 10;\\n  border-bottom-style: solid;\\n  border-width: 1px;\\n  border-color: #eeeeee;\\n  border-radius: 0; }\\n  .Header__app-navbar___2NzX7 li a {\\n    color: #999 !important; }\\n    .Header__app-navbar___2NzX7 li a:hover {\\n      color: #434343 !important; }\\n\\n.Header__navbar___YUtxs .container {\\n  width: 100%; }\\n\\n.Header__slack___2RSAt img {\\n  opacity: 0.8;\\n  width: 17px;\\n  height: 17px;\\n  cursor: pointer; }\\n  .Header__slack___2RSAt img:hover {\\n    opacity: 1; }\\n\\n.Header__account___1x6oO {\\n  padding-top: 9px !important;\\n  padding-bottom: 0px !important;\\n  border: none; }\\n  .Header__account___1x6oO a {\\n    padding: 0px !important; }\\n  .Header__account___1x6oO img {\\n    height: 32px;\\n    width: 32px;\\n    border-radius: 50%; }\\n  .Header__account___1x6oO .material-icons {\\n    font-size: 32px; }\\n    .Header__account___1x6oO .material-icons:hover {\\n      color: #434343 !important; }\\n  .Header__account___1x6oO .dropdown-menu a {\\n    padding: 5px 10px !important;\\n    width: 100%;\\n    display: block;\\n    text-decoration: none; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"navbar\": \"Header__navbar___YUtxs\",\n\t\"app-navbar\": \"Header__app-navbar___2NzX7\",\n\t\"slack\": \"Header__slack___2RSAt\",\n\t\"account\": \"Header__account___1x6oO\"\n};","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".hubStyle__markAsReadButton___10ECK {\\n  top: 22px;\\n  right: 12px; }\\n\\n.hubStyle__item___2bssI {\\n  padding-top: 4px;\\n  width: 400px;\\n  border-left: 4px solid #e2e2e2; }\\n\\n.hubStyle__item-unread___1zM1I.hubStyle__level-info___2c3jB {\\n  background-color: #f6f8ff;\\n  border-left: 4px solid #aeccee; }\\n\\n.hubStyle__item-unread___1zM1I.hubStyle__level-error___1bMIT {\\n  background-color: #fff7f6;\\n  border-left: 4px solid #eeb2ae; }\\n\\n.hubStyle__item-unread___1zM1I.hubStyle__level-success___plc0G {\\n  background-color: #f6fff7;\\n  border-left: 4px solid #aeeeb6; }\\n\\n.hubStyle__topMenu___1Vqke {\\n  padding: 10px 12px;\\n  border-bottom: 1px solid #d1d1d1;\\n  color: #5f5f5f;\\n  font-size: 13px; }\\n\\n.hubStyle__dropdown___1Hf-W {\\n  padding: 0; }\\n  .hubStyle__dropdown___1Hf-W.open > a {\\n    background-color: #f1f1f1 !important; }\\n\\n.hubStyle__message___f7ZP4 {\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap; }\\n\\n.hubStyle__empty___pY-3M {\\n  width: 400px;\\n  padding: 20px;\\n  font-size: 15px;\\n  text-align: center; }\\n\\n.hubStyle__invisible___1WEZR {\\n  opacity: 0; }\\n\\n.hubStyle__icon___2W2Ia {\\n  width: 16px;\\n  height: 16px;\\n  font-size: 16px; }\\n\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"markAsReadButton\": \"hubStyle__markAsReadButton___10ECK\",\n\t\"item\": \"hubStyle__item___2bssI\",\n\t\"item-unread\": \"hubStyle__item-unread___1zM1I\",\n\t\"level-info\": \"hubStyle__level-info___2c3jB\",\n\t\"level-error\": \"hubStyle__level-error___1bMIT\",\n\t\"level-success\": \"hubStyle__level-success___plc0G\",\n\t\"topMenu\": \"hubStyle__topMenu___1Vqke\",\n\t\"dropdown\": \"hubStyle__dropdown___1Hf-W\",\n\t\"message\": \"hubStyle__message___f7ZP4\",\n\t\"empty\": \"hubStyle__empty___pY-3M\",\n\t\"invisible\": \"hubStyle__invisible___1WEZR\",\n\t\"icon\": \"hubStyle__icon___2W2Ia\"\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./hubStyle.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./hubStyle.scss\", function() {\n\t\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js??ref--5-1!../../../../node_modules/postcss-loader/lib/index.js!../../../../node_modules/sass-loader/lib/loader.js!./hubStyle.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}","var map = {\n\t\"./af\": 507,\n\t\"./af.js\": 507,\n\t\"./ar\": 506,\n\t\"./ar-dz\": 505,\n\t\"./ar-dz.js\": 505,\n\t\"./ar-kw\": 504,\n\t\"./ar-kw.js\": 504,\n\t\"./ar-ly\": 503,\n\t\"./ar-ly.js\": 503,\n\t\"./ar-ma\": 502,\n\t\"./ar-ma.js\": 502,\n\t\"./ar-sa\": 501,\n\t\"./ar-sa.js\": 501,\n\t\"./ar-tn\": 500,\n\t\"./ar-tn.js\": 500,\n\t\"./ar.js\": 506,\n\t\"./az\": 499,\n\t\"./az.js\": 499,\n\t\"./be\": 498,\n\t\"./be.js\": 498,\n\t\"./bg\": 497,\n\t\"./bg.js\": 497,\n\t\"./bm\": 496,\n\t\"./bm.js\": 496,\n\t\"./bn\": 495,\n\t\"./bn.js\": 495,\n\t\"./bo\": 494,\n\t\"./bo.js\": 494,\n\t\"./br\": 493,\n\t\"./br.js\": 493,\n\t\"./bs\": 492,\n\t\"./bs.js\": 492,\n\t\"./ca\": 491,\n\t\"./ca.js\": 491,\n\t\"./cs\": 490,\n\t\"./cs.js\": 490,\n\t\"./cv\": 489,\n\t\"./cv.js\": 489,\n\t\"./cy\": 488,\n\t\"./cy.js\": 488,\n\t\"./da\": 487,\n\t\"./da.js\": 487,\n\t\"./de\": 486,\n\t\"./de-at\": 485,\n\t\"./de-at.js\": 485,\n\t\"./de-ch\": 484,\n\t\"./de-ch.js\": 484,\n\t\"./de.js\": 486,\n\t\"./dv\": 483,\n\t\"./dv.js\": 483,\n\t\"./el\": 482,\n\t\"./el.js\": 482,\n\t\"./en-au\": 481,\n\t\"./en-au.js\": 481,\n\t\"./en-ca\": 480,\n\t\"./en-ca.js\": 480,\n\t\"./en-gb\": 479,\n\t\"./en-gb.js\": 479,\n\t\"./en-ie\": 478,\n\t\"./en-ie.js\": 478,\n\t\"./en-il\": 477,\n\t\"./en-il.js\": 477,\n\t\"./en-nz\": 476,\n\t\"./en-nz.js\": 476,\n\t\"./eo\": 475,\n\t\"./eo.js\": 475,\n\t\"./es\": 474,\n\t\"./es-do\": 473,\n\t\"./es-do.js\": 473,\n\t\"./es-us\": 472,\n\t\"./es-us.js\": 472,\n\t\"./es.js\": 474,\n\t\"./et\": 471,\n\t\"./et.js\": 471,\n\t\"./eu\": 470,\n\t\"./eu.js\": 470,\n\t\"./fa\": 469,\n\t\"./fa.js\": 469,\n\t\"./fi\": 468,\n\t\"./fi.js\": 468,\n\t\"./fo\": 467,\n\t\"./fo.js\": 467,\n\t\"./fr\": 466,\n\t\"./fr-ca\": 465,\n\t\"./fr-ca.js\": 465,\n\t\"./fr-ch\": 464,\n\t\"./fr-ch.js\": 464,\n\t\"./fr.js\": 466,\n\t\"./fy\": 463,\n\t\"./fy.js\": 463,\n\t\"./gd\": 462,\n\t\"./gd.js\": 462,\n\t\"./gl\": 461,\n\t\"./gl.js\": 461,\n\t\"./gom-latn\": 460,\n\t\"./gom-latn.js\": 460,\n\t\"./gu\": 459,\n\t\"./gu.js\": 459,\n\t\"./he\": 458,\n\t\"./he.js\": 458,\n\t\"./hi\": 457,\n\t\"./hi.js\": 457,\n\t\"./hr\": 456,\n\t\"./hr.js\": 456,\n\t\"./hu\": 455,\n\t\"./hu.js\": 455,\n\t\"./hy-am\": 454,\n\t\"./hy-am.js\": 454,\n\t\"./id\": 453,\n\t\"./id.js\": 453,\n\t\"./is\": 452,\n\t\"./is.js\": 452,\n\t\"./it\": 451,\n\t\"./it.js\": 451,\n\t\"./ja\": 450,\n\t\"./ja.js\": 450,\n\t\"./jv\": 449,\n\t\"./jv.js\": 449,\n\t\"./ka\": 448,\n\t\"./ka.js\": 448,\n\t\"./kk\": 447,\n\t\"./kk.js\": 447,\n\t\"./km\": 446,\n\t\"./km.js\": 446,\n\t\"./kn\": 445,\n\t\"./kn.js\": 445,\n\t\"./ko\": 444,\n\t\"./ko.js\": 444,\n\t\"./ky\": 443,\n\t\"./ky.js\": 443,\n\t\"./lb\": 442,\n\t\"./lb.js\": 442,\n\t\"./lo\": 441,\n\t\"./lo.js\": 441,\n\t\"./lt\": 440,\n\t\"./lt.js\": 440,\n\t\"./lv\": 439,\n\t\"./lv.js\": 439,\n\t\"./me\": 438,\n\t\"./me.js\": 438,\n\t\"./mi\": 437,\n\t\"./mi.js\": 437,\n\t\"./mk\": 436,\n\t\"./mk.js\": 436,\n\t\"./ml\": 435,\n\t\"./ml.js\": 435,\n\t\"./mn\": 434,\n\t\"./mn.js\": 434,\n\t\"./mr\": 433,\n\t\"./mr.js\": 433,\n\t\"./ms\": 432,\n\t\"./ms-my\": 431,\n\t\"./ms-my.js\": 431,\n\t\"./ms.js\": 432,\n\t\"./mt\": 430,\n\t\"./mt.js\": 430,\n\t\"./my\": 429,\n\t\"./my.js\": 429,\n\t\"./nb\": 428,\n\t\"./nb.js\": 428,\n\t\"./ne\": 427,\n\t\"./ne.js\": 427,\n\t\"./nl\": 426,\n\t\"./nl-be\": 425,\n\t\"./nl-be.js\": 425,\n\t\"./nl.js\": 426,\n\t\"./nn\": 424,\n\t\"./nn.js\": 424,\n\t\"./pa-in\": 423,\n\t\"./pa-in.js\": 423,\n\t\"./pl\": 422,\n\t\"./pl.js\": 422,\n\t\"./pt\": 421,\n\t\"./pt-br\": 420,\n\t\"./pt-br.js\": 420,\n\t\"./pt.js\": 421,\n\t\"./ro\": 419,\n\t\"./ro.js\": 419,\n\t\"./ru\": 418,\n\t\"./ru.js\": 418,\n\t\"./sd\": 417,\n\t\"./sd.js\": 417,\n\t\"./se\": 416,\n\t\"./se.js\": 416,\n\t\"./si\": 415,\n\t\"./si.js\": 415,\n\t\"./sk\": 414,\n\t\"./sk.js\": 414,\n\t\"./sl\": 413,\n\t\"./sl.js\": 413,\n\t\"./sq\": 412,\n\t\"./sq.js\": 412,\n\t\"./sr\": 411,\n\t\"./sr-cyrl\": 410,\n\t\"./sr-cyrl.js\": 410,\n\t\"./sr.js\": 411,\n\t\"./ss\": 409,\n\t\"./ss.js\": 409,\n\t\"./sv\": 408,\n\t\"./sv.js\": 408,\n\t\"./sw\": 407,\n\t\"./sw.js\": 407,\n\t\"./ta\": 406,\n\t\"./ta.js\": 406,\n\t\"./te\": 405,\n\t\"./te.js\": 405,\n\t\"./tet\": 404,\n\t\"./tet.js\": 404,\n\t\"./tg\": 403,\n\t\"./tg.js\": 403,\n\t\"./th\": 402,\n\t\"./th.js\": 402,\n\t\"./tl-ph\": 401,\n\t\"./tl-ph.js\": 401,\n\t\"./tlh\": 400,\n\t\"./tlh.js\": 400,\n\t\"./tr\": 399,\n\t\"./tr.js\": 399,\n\t\"./tzl\": 398,\n\t\"./tzl.js\": 398,\n\t\"./tzm\": 397,\n\t\"./tzm-latn\": 396,\n\t\"./tzm-latn.js\": 396,\n\t\"./tzm.js\": 397,\n\t\"./ug-cn\": 395,\n\t\"./ug-cn.js\": 395,\n\t\"./uk\": 394,\n\t\"./uk.js\": 394,\n\t\"./ur\": 393,\n\t\"./ur.js\": 393,\n\t\"./uz\": 392,\n\t\"./uz-latn\": 391,\n\t\"./uz-latn.js\": 391,\n\t\"./uz.js\": 392,\n\t\"./vi\": 390,\n\t\"./vi.js\": 390,\n\t\"./x-pseudo\": 389,\n\t\"./x-pseudo.js\": 389,\n\t\"./yo\": 388,\n\t\"./yo.js\": 388,\n\t\"./zh-cn\": 387,\n\t\"./zh-cn.js\": 387,\n\t\"./zh-hk\": 386,\n\t\"./zh-hk.js\": 386,\n\t\"./zh-tw\": 385,\n\t\"./zh-tw.js\": 385\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 995;","import React from 'react'\nimport { connect } from 'react-redux'\nimport { NavDropdown, MenuItem } from 'react-bootstrap'\nimport _ from 'lodash'\nimport classnames from 'classnames'\n\nimport NotificationComponent from './index.jsx'\nimport styles from './hubStyle.scss'\n\nconst NB_OF_NOTIFICATIONS_TO_DISPLAY = 6\n\nclass NotificationHub extends NotificationComponent {\n  constructor(props, context) {\n    super(props, context, {\n      itemComponent: MenuItem,\n      renderDivider: true,\n      styles: styles\n    })\n  }\n\n  renderMessage(message) {\n    return <div className={classnames(styles.message, 'bp-hub-message')}>{message}</div>\n  }\n\n  renderEmptyPanel() {\n    return (\n      <MenuItem header className={styles.empty}>\n        <div>You have no notifications !</div>\n      </MenuItem>\n    )\n  }\n\n  render() {\n    const notifications = this.props.notifications || []\n    const isEmpty = notifications.length === 0\n    const displayedNotifications = _.take(notifications, NB_OF_NOTIFICATIONS_TO_DISPLAY)\n    const unread = _.filter(notifications, { read: false })\n    const unreadCount = unread.length\n\n    const hasAnyError = _.some(unread, notif => {\n      return notif.level === 'error'\n    })\n\n    const className = classnames('label', {\n      'label-danger': hasAnyError,\n      'label-default': !hasAnyError,\n      invisible: unreadCount === 0\n    })\n\n    const label = (\n      <span>\n        <em className=\"glyphicon glyphicon-bell\" />\n        <span className={className}>{unreadCount}</span>\n      </span>\n    )\n\n    return (\n      <NavDropdown\n        id=\"notificationsDropdown\"\n        noCaret={!unreadCount}\n        title={label}\n        className={classnames(styles.dropdown, 'bp-notifications-dropdown')}\n      >\n        <MenuItem header className={classnames(styles.topMenu, 'bp-top-menu')}>\n          <span>\n            <strong>Notifications</strong>\n            &nbsp; &middot; &nbsp; total of {notifications.length}\n          </span>\n          <div className=\"pull-right\">\n            <a href=\"#\" onClick={this.markAllAsRead}>\n              Mark all as read\n            </a>\n            &nbsp; &middot; &nbsp;\n            <a href=\"/notifications\">Show all</a>\n          </div>\n        </MenuItem>\n        {isEmpty && this.renderEmptyPanel()}\n        {this.renderMenuItems(displayedNotifications)}\n      </NavDropdown>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({ notifications: state.notifications })\n\nexport default connect(mapStateToProps)(NotificationHub)\n","import React from 'react'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\n\nimport { Navbar, Nav, NavItem, Glyphicon, NavDropdown, MenuItem } from 'react-bootstrap'\nimport classnames from 'classnames'\n\nimport NotificationHub from '~/components/Notifications/Hub'\n\nimport { logout } from '~/util/Auth'\nimport style from './Header.scss'\nimport { viewModeChanged } from '~/actions'\nimport PermissionsChecker from './PermissionsChecker'\n\nclass Header extends React.Component {\n  state = {\n    loading: true\n  }\n\n  handleFullscreen = () => {\n    const newViewMode = this.props.viewMode < 1 ? 1 : 0\n    this.props.viewModeChanged(newViewMode)\n  }\n\n  renderLogoutButton() {\n    if (!window.AUTH_ENABLED) {\n      return null\n    }\n\n    const url = this.props.user.avatar_url\n    const label = url ? <img src={url} /> : <i className=\"material-icons\">account_circle</i>\n\n    return (\n      <NavDropdown className={style.account} noCaret title={label} id=\"account-button\">\n        <MenuItem header>Signed in as</MenuItem>\n        <MenuItem disabled>✉️&nbsp;{this.props.user.email}</MenuItem>\n        <MenuItem disabled>👤&nbsp;{this.props.user.username}</MenuItem>\n        <MenuItem divider />\n        <MenuItem eventKey={1} onClick={logout}>\n          <b>Logout</b>\n        </MenuItem>\n      </NavDropdown>\n    )\n  }\n\n  renderFullScreenButton() {\n    return (\n      <span className={classnames(style.fullScreen, 'bp-full-screen')}>\n        <Glyphicon glyph=\"fullscreen\" />\n      </span>\n    )\n  }\n\n  render() {\n    if (this.props.viewMode >= 3) {\n      return null\n    }\n\n    const classNames = classnames(style.navbar, style['app-navbar'], 'bp-navbar')\n    const customStyle = this.props.customStyle['bp-navbar']\n\n    return (\n      <Navbar className={classNames} style={customStyle}>\n        <Navbar.Collapse>\n          <Nav pullRight>\n            <NavItem onClick={this.handleFullscreen}>{this.renderFullScreenButton()}</NavItem>\n            <PermissionsChecker user={this.props.user} res=\"bot.logs\" op=\"read\">\n              <NavItem href=\"/logs\">\n                <Glyphicon glyph=\"list-alt\" />\n              </NavItem>\n            </PermissionsChecker>\n            <PermissionsChecker user={this.props.user} res=\"bot.notifications\" op=\"read\">\n              <NotificationHub />\n            </PermissionsChecker>\n            {this.renderLogoutButton()}\n          </Nav>\n          <Nav pullRight className=\"bp-navbar-module-buttons\" />\n        </Navbar.Collapse>\n      </Navbar>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  viewMode: state.ui.viewMode,\n  customStyle: state.ui.customStyle\n})\n\nconst mapDispatchToProps = dispatch => bindActionCreators({ viewModeChanged }, dispatch)\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)\n"],"sourceRoot":""}