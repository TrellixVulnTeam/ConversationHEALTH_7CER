!function(e){function t(t){for(var o,l,u=t[0],i=t[1],c=t[2],d=0,f=[];d<u.length;d++)l=u[d],r[l]&&f.push(r[l][0]),r[l]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);for(s&&s(t);f.length;)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,u=1;u<n.length;u++){var i=n[u];0!==r[i]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},r={1:0},a=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/js/";var u=window.webpackJsonp=window.webpackJsonp||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var s=i;a.push([629,0]),n()}({132:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=c(n(1)),l=c(n(31)),u=c(n(212)),i=c(n(145));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(t){function n(){var e,t,o;!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=o=s(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(a))),o.state={moduleComponent:null},s(o,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default.Component),r(n,[{key:"loadModule",value:function(t,n,o){var r=this,a=t||this.props.moduleName,l=n||this.props.viewName||"default",u=o||this.props.lite||!1;if(a!==this.state.moduleName||l!=this.state.viewName)if(this.setState({moduleComponent:null,moduleName:a,viewName:n}),window.botpress&&window.botpress[a])this.setState({moduleComponent:null}),e(function(){r.setViewInState(a,l,u)});else{var i=document.createElement("script");i.type="text/javascript",i.onload=function(){i.onload=null,e(function(){r.setViewInState(a,l,u)})};var c=a.replace(/^botpress-/i,"").replace(/^@botpress\//i,"");i.src=u?"/js/modules/"+c+"/"+l:"/js/modules/"+c,document.getElementsByTagName("head")[0].appendChild(i)}}},{key:"setViewInState",value:function(e,t,n){var o=function(e){var o=n?"default":t;return window.botpress&&window.botpress[e]&&window.botpress[e][o]},r=o((e.startsWith("@botpress/")||e.startsWith("botpress-")?[e]:["@botpress/"+e,"botpress-"+e]).find(o));r?this.setState({moduleComponent:r,error:null}):this.setState({error:new Error('Subview "'+t+'" doesn\'t exist for module "'+e+'"'),moduleComponent:null})}},{key:"componentDidMount",value:function(){this.loadModule()}},{key:"componentWillReceiveProps",value:function(e){this.loadModule(e.moduleName,e.viewName,e.lite)}},{key:"render",value:function(){var e=this.state.moduleComponent;if(this.state.error)return console.log("Error rendering plugin",this.state.error),this.props.onNotFound&&this.props.onNotFound(this.state.error)||null;if(!e)return null;var t={events:i.default.default,axios:l.default},n=this.props.extraProps||{};return a.default.createElement(u.default,o({component:e,name:this.props.moduleName,bp:t},n))}}]),n}();t.default=d}).call(this,n(74).setImmediate)},145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=l(n(184)),r=l(n(542)),a=n(75);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{wildcard:!0,maxListeners:100}));return e.dispatchSocketEvent=function(t){e.emit(t.name,t.data,"server")},e.dispatchClientEvent=function(t,n,o){if("server"!==o){var r=t.startsWith("guest.")?e.guestSocket:e.adminSocket;r&&r.emit("event",{name:t,data:n})}},e.setup=function(){var t={visitorId:(0,a.getUniqueVisitorId)()};if(window.AUTH_ENABLED){var n=(0,a.getToken)();n&&Object.assign(t,{token:n.token})}e.adminSocket&&(e.adminSocket.off("event",e.dispatchEvent),e.adminSocket.disconnect()),e.guestSocket&&(e.guestSocket.off("event",e.dispatchEvent),e.guestSocket.disconnect());var o=window.location.origin;e.adminSocket=(0,r.default)(o+"/admin",{query:t}),e.adminSocket.on("event",e.dispatchSocketEvent),e.guestSocket=(0,r.default)(o+"/guest",{query:t}),e.guestSocket.on("event",e.dispatchSocketEvent)},e.onAny(e.dispatchClientEvent),a.authEvents.on("new_token",e.setup),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),t}();u.default=new u,t.default=u},146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prettyId=t.moveCursorToEnd=t.hashCode=void 0,r(n(11));var o=r(n(557));function r(e){return e&&e.__esModule?e:{default:e}}t.hashCode=function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t},t.moveCursorToEnd=function(e){if(e)if("number"==typeof e.selectionStart)e.selectionStart=e.selectionEnd=e.value.length,e.focus();else if(void 0!==e.createTextRange){e.focus();var t=e.createTextRange();t.collapse(!1),t.select()}},t.prettyId=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return(0,o.default)("1234567890abcdef",e)}},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requestEditSkill=t.editSkill=t.updateSkill=t.insertNewSkillNode=t.insertNewSkill=t.cancelNewSkill=t.buildNewSkill=t.addNotifications=t.replaceNotifications=t.fetchNotifications=t.newNotificationsReceived=t.allNotificationsReceived=t.fetchModules=t.modulesReceived=t.fetchBotInformation=t.botInfoReceived=t.fetchUser=t.userReceived=t.updateGlobalStyle=t.viewModeChanged=t.toggleAboutModal=t.toggleLicenseModal=t.fetchLicense=t.licenseChanged=t.deleteContentItems=t.upsertContentItem=t.fetchContentItemsCount=t.receiveContentItemsCount=t.fetchContentItem=t.receiveContentItem=t.fetchContentItemsRecent=t.receiveContentItemsRecent=t.fetchContentItems=t.receiveContentItems=t.fetchContentCategories=t.receiveContentCategories=t.setDiagramAction=t.flowEditorRedo=t.flowEditorUndo=t.handleFlowEditorRedo=t.handleFlowEditorUndo=t.closeFlowNodeProps=t.openFlowNodeProps=t.pasteFlowNodeElement=t.copyFlowNodeElement=t.pasteFlowNode=t.copyFlowNode=t.removeFlowNode=t.createFlowNode=t.switchFlowNode=t.updateFlowNode=t.refreshFlowsLinks=t.handleRefreshFlowLinks=t.duplicateFlow=t.deleteFlow=t.switchFlow=t.createFlow=t.renameFlow=t.updateFlow=t.saveAllFlows=t.receiveSaveFlows=t.requestSaveFlows=t.fetchFlows=t.receiveFlows=t.requestFlows=void 0;var o=n(30),r=u(n(31)),a=u(n(11)),l=u(n(267));function u(e){return e&&e.__esModule?e:{default:e}}var i=t.requestFlows=(0,o.createAction)("FLOWS/REQUEST"),c=t.receiveFlows=(0,o.createAction)("FLOWS/RECEIVE",function(e){return e},function(){return{receiveAt:new Date}}),s=(t.fetchFlows=function(){return function(e){e(i()),r.default.get("/api/flows/all").then(function(t){var n=t.data,o=a.default.keyBy(n,"name");e(c(o))})}},t.requestSaveFlows=(0,o.createAction)("FLOWS/SAVE")),d=t.receiveSaveFlows=(0,o.createAction)("FLOWS/SAVE/RECEIVE",function(e){return e},function(){return{receiveAt:new Date}}),f=(t.saveAllFlows=function(){return function(e,t){e(s());var n=a.default.values(t().flows.flowsByName).map(function(e){return{flow:e.name,location:e.location,startNode:e.startNode,catchAll:e.catchAll,links:e.links,nodes:e.nodes,skillData:e.skillData}});r.default.post("/api/flows/save",n).then(function(){e(d())})}},t.updateFlow=(0,o.createAction)("FLOWS/FLOW/UPDATE"),t.renameFlow=(0,o.createAction)("FLOWS/FLOW/RENAME"),t.createFlow=(0,o.createAction)("FLOWS/CREATE"),t.switchFlow=(0,o.createAction)("FLOWS/SWITCH"),t.deleteFlow=(0,o.createAction)("FLOWS/DELETE"),t.duplicateFlow=(0,o.createAction)("FLOWS/DUPLICATE"),t.handleRefreshFlowLinks=(0,o.createAction)("FLOWS/FLOW/UPDATE_LINKS")),p=t.refreshFlowsLinks=function(){return function(e){return setTimeout(function(){return e(f())},10)}},w=(t.updateFlowNode=(0,o.createAction)("FLOWS/FLOW/UPDATE_NODE"),t.switchFlowNode=(0,o.createAction)("FLOWS/FLOW/SWITCH_NODE"),t.createFlowNode=(0,o.createAction)("FLOWS/FLOW/CREATE"),t.removeFlowNode=(0,o.createAction)("FLOWS/FLOW/REMOVE"),t.copyFlowNode=(0,o.createAction)("FLOWS/NODE/COPY"),t.pasteFlowNode=(0,o.createAction)("FLOWS/NODE/PASTE"),t.copyFlowNodeElement=(0,o.createAction)("FLOWS/NODE_ELEMENT/COPY"),t.pasteFlowNodeElement=(0,o.createAction)("FLOWS/NODE_ELEMENT/PASTE"),t.openFlowNodeProps=(0,o.createAction)("FLOWS/FLOW/OPEN_NODE_PROPS"),t.closeFlowNodeProps=(0,o.createAction)("FLOWS/FLOW/CLOSE_NODE_PROPS"),t.handleFlowEditorUndo=(0,o.createAction)("FLOWS/EDITOR/UNDO")),m=t.handleFlowEditorRedo=(0,o.createAction)("FLOWS/EDITOR/REDO"),v=(t.flowEditorUndo=function(){return function(e){e(w()),e(p())}},t.flowEditorRedo=function(){return function(e){e(m()),e(p())}},t.setDiagramAction=(0,o.createAction)("FLOWS/FLOW/SET_ACTION"),t.receiveContentCategories=(0,o.createAction)("CONTENT/CATEGORIES/RECEIVE")),y=(t.fetchContentCategories=function(){return function(e){return r.default.get("/api/content/categories").then(function(t){var n=t.data;e(v(n))})}},t.receiveContentItems=(0,o.createAction)("CONTENT/ITEMS/RECEIVE")),h=(t.fetchContentItems=function(e){var t=e.id,n=e.from,o=e.count,a=e.searchTerm;return function(e){return r.default.get("/api/content/items",{params:{categoryId:t,from:n,count:o,searchTerm:a}}).then(function(t){var n=t.data;return e(y(n))})}},t.receiveContentItemsRecent=(0,o.createAction)("CONTENT/ITEMS/RECEIVE_RECENT")),N=(t.fetchContentItemsRecent=function(e){var t=e.searchTerm,n=e.count,o=void 0===n?5:n,a=e.categoryId,l=void 0===a?"all":a;return function(e){return r.default.get("/api/content/items",{params:{categoryId:l,count:o,searchTerm:t,orderBy:["createdOn","desc"]}}).then(function(t){var n=t.data;return e(h(n))})}},(0,l.default)(function(e){return r.default.get("/api/content/items-batched/"+e.join(",")).then(function(t){return t.data.reduce(function(t,n,o){return t[e[o]]=n,t},{})})})),b=t.receiveContentItem=(0,o.createAction)("CONTENT/ITEMS/RECEIVE_ONE"),F=(t.fetchContentItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.force,o=void 0!==n&&n,a=t.batched,l=void 0!==a&&a;return function(t,n){return!e||!o&&n().content.itemsById[e]?Promise.resolve():(l?function(e){return N.add(e)}(e):function(e){return r.default.get("/api/content/items/"+e).then(function(e){return e.data})}(e)).then(function(e){return t(b(e))})}},t.receiveContentItemsCount=(0,o.createAction)("CONTENT/ITEMS/RECEIVE_COUNT")),E=(t.fetchContentItemsCount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return function(t){return r.default.get("/api/content/items/count",{params:{categoryId:e}}).then(function(e){return t(F(e))})}},t.upsertContentItem=function(e){var t=e.categoryId,n=e.formData,o=e.modifyId;return function(){return r.default.post("/api/content/categories/"+t+"/items/"+(o||""),{formData:n})}},t.deleteContentItems=function(e){return function(){return r.default.post("/api/content/categories/all/bulk_delete",e)}},t.licenseChanged=(0,o.createAction)("LICENSE/CHANGED")),O=(t.fetchLicense=function(){return function(e){r.default.get("/api/license").then(function(t){var n=t.data;e(E(n))})}},t.toggleLicenseModal=(0,o.createAction)("UI/TOGGLE_LICENSE_MODAL"),t.toggleAboutModal=(0,o.createAction)("UI/TOGGLE_ABOUT_MODAL"),t.viewModeChanged=(0,o.createAction)("UI/VIEW_MODE_CHANGED"),t.updateGlobalStyle=(0,o.createAction)("UI/UPDATE_GLOBAL_STYLE"),t.userReceived=(0,o.createAction)("USER/RECEIVED")),g=(t.fetchUser=function(e){return function(t){e?r.default.get("/api/my-account").then(function(e){t(O(e.data))}):t(O({id:"anonymous",roles:null}))}},t.botInfoReceived=(0,o.createAction)("BOT/INFO_RECEIVED")),S=(t.fetchBotInformation=function(){return function(e){r.default.get("/api/bot/information").then(function(t){e(g(t.data))})}},t.modulesReceived=(0,o.createAction)("MODULES/RECEIVED")),_=(t.fetchModules=function(){return function(e){r.default.get("/api/modules").then(function(t){e(S(t.data))})}},t.allNotificationsReceived=(0,o.createAction)("NOTIFICATIONS/ALL_RECEIVED")),I=t.newNotificationsReceived=(0,o.createAction)("NOTIFICATIONS/NEW_RECEIVED"),k=(t.fetchNotifications=function(){return function(e){r.default.get("/api/notifications/inbox").then(function(t){e(_(t.data))})}},t.replaceNotifications=function(e){return function(t){t(_(e))}},t.addNotifications=function(e){return function(t){t(I(e))}},t.buildNewSkill=(0,o.createAction)("SKILLS/BUILD"),t.cancelNewSkill=(0,o.createAction)("SKILLS/BUILD/CANCEL"),t.insertNewSkill=(0,o.createAction)("SKILLS/INSERT"),t.insertNewSkillNode=(0,o.createAction)("SKILLS/INSERT/NODE"),t.updateSkill=(0,o.createAction)("SKILLS/UPDATE"),t.editSkill=(0,o.createAction)("SKILLS/EDIT"));t.requestEditSkill=function(e){return function(t,n){var o=n(),r=a.default.find(o.flows.flowsByName[o.flows.currentFlow].nodes,{id:e}),l=r&&o.flows.flowsByName[r.flow];l&&t(k({skillId:"skill-"+r.skill,flowName:r.flow,nodeId:e,data:l.skillData}))}}},178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(46),a=i(n(559)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(16)),u=i(n(73));function i(e){return e&&e.__esModule?e:{default:e}}var c=("object"===("undefined"==typeof window?"undefined":o(window))&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"Botpress",actionCreators:l}):r.compose)((0,r.applyMiddleware)(a.default));t.default=(0,r.createStore)(u.default,c)},210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.moduleViewNames=void 0;var o,r=(o=n(11))&&o.__esModule?o:{default:o};t.moduleViewNames=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"overlay";return r.default.flatten((e||[]).filter(Boolean).map(function(e){return r.default.filter(e.plugins||[],{position:t}).map(function(t){return{moduleName:e.name,viewName:t.entry}})}))}},212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(1),a=c(r),l=c(n(0)),u=c(n(18)),i=c(n(151));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),o.componentId="component-"+(0,i.default)(),s(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"componentDidUpdate",value:function(){this.internalRender()}},{key:"componentDidMount",value:function(){this.internalRender()}},{key:"componentWillUnmount",value:function(){try{u.default.unmountComponentAtNode(u.default.findDOMNode(this))}catch(e){console.error(e)}}},{key:"render",value:function(){return a.default.createElement("div",{className:"component-mount"})}},{key:"internalRender",value:function(){var e=u.default.findDOMNode(this);try{var t=Object.assign({},this.props);delete t.component,u.default.render(a.default.createElement(this.props.component,t),e)}catch(t){var n=a.default.createElement("div",{className:"panel panel-danger"},a.default.createElement("div",{className:"panel-heading"},"Could not display component"),a.default.createElement("div",{className:"panel-body"},a.default.createElement("h4",null,"An error occurred while loading the component"),a.default.createElement("p",null,t.message)),a.default.createElement("div",{className:"panel-footer"},"Developer? ",a.default.createElement("a",{href:"https://github.com/botpress/botpress/tree/master/docs"},"click here"),"to see why this might happen"));u.default.render(n,e),console.error&&console.error("Error loading component",t)}}}]),t}();d.propTypes={component:l.default.func.isRequired},t.default=d},257:function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(30),l=n(556),u=(r=n(11))&&r.__esModule?r:{default:r},i=n(16);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var d=new l.Howl({src:["/audio/notification.mp3"]}),f=(0,a.handleActions)((c(o={},i.allNotificationsReceived,function(e,t){var n=t.payload;return[].concat(s(n))}),c(o,i.newNotificationsReceived,function(e,t){var n=t.payload;return u.default.some(n,{sound:!0})&&d.play(),[].concat(s(e.unshift.apply(e,s(n))))}),o),[]);t.default=f},258:function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(30),l=n(16);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=(0,a.handleActions)((u(o={},l.modulesReceived,function(e,t){var n=t.payload;return r({},e,{installed:n.filter(function(e){return e.name.startsWith("skill-")}).map(function(e){return{id:e.name,name:e.menuText,icon:e.menuIcon}})})}),u(o,l.buildNewSkill,function(e,t){var n=t.payload;return r({},e,{builder:r({},e.builder,{opened:!0,action:"new",data:{},skillId:n})})}),u(o,l.cancelNewSkill,function(e){return r({},e,{builder:r({},e.builder,{opened:!1})})}),u(o,l.insertNewSkill,function(e,t){var n=t.payload;return r({},e,{builder:r({},e.builder,{opened:!1,data:n.data,skillId:n.skillId})})}),u(o,l.editSkill,function(e,t){var n=t.payload;return r({},e,{builder:r({},e.builder,{opened:!0,action:"edit",skillId:n.skillId,data:n.data,editFlowName:n.flowName,editNodeId:n.nodeId})})}),u(o,l.updateSkill,function(e){return r({},e,{builder:r({},e.builder,{opened:!1})})}),o),{installed:[],builder:{opened:!1,data:{},skillId:null,action:null,editFlowName:null,editNodeId:null}});t.default=i},259:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,a,l=n(30),u=n(16),i=(0,l.handleActions)((o={},a=function(e,t){var n=t.payload;return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n))},(r=u.modulesReceived)in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a,o),[]);t.default=i},260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,a,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=n(30),i=n(16),c=(0,u.handleActions)((o={},a=function(e,t){var n=t.payload;return l({},n)},(r=i.botInfoReceived)in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a,o),{});t.default=c},261:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,a,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=n(30),i=n(16),c=(0,u.handleActions)((o={},a=function(e,t){var n=t.payload;return l({},e,n)},(r=i.userReceived)in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a,o),{});t.default=c},262:function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},a=n(30),l=n(16);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=(0,a.handleActions)((u(o={},l.toggleLicenseModal,function(e){return r({},e,{licenseModalOpened:!e.licenseModalOpened})}),u(o,l.toggleAboutModal,function(e){return r({},e,{aboutModalOpened:!e.aboutModalOpened})}),u(o,l.viewModeChanged,function(e,t){var n=t.payload;return r({},e,{viewMode:n.toString()})}),u(o,l.updateGlobalStyle,function(e,t){var n=t.payload;return r({},e,{customStyle:Object.assign({},e.customStyle,n)})}),o),{licenseModalOpened:!1,aboutModalOpened:!1,viewMode:-1,customStyle:{}});t.default=i},263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r,a,l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},u=n(30),i=n(16),c=(0,u.handleActions)((o={},a=function(e,t){var n=t.payload;return l({},e,n)},(r=i.licenseChanged)in o?Object.defineProperty(o,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[r]=a,o),{name:null,text:null,licensed:null,status:null});t.default=c},264:function(e,t,n){"use strict";var o,r,a,l;Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i=n(30),c=p(n(201)),s=p(n(11)),d=n(146),f=n(16);function p(e){return e&&e.__esModule?e:{default:e}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var v={flowsByName:{},fetchingFlows:!1,currentFlow:null,currentFlowNode:null,showFlowNodeProps:!1,currentDiagramAction:null,currentSnapshot:null,undoStack:[],redoStack:[],nodeInBuffer:null,buffer:{action:null,transition:null}},y=function(e){var t=function(e,t){return s.default.isArray(t)?t.forEach(function(t){s.default.isString(t)?e+=t:(e+=t.node,e+=t.condition)}):e+="null",e};return s.default.values(e.flowsByName).reduce(function(e,n){if(!n)return e;var o="";return o+=n.name,o+=n.startNode,n.catchAll&&(o=t(o,n.catchAll.onReceive),o=t(o,n.catchAll.onEnter),o=t(o,n.catchAll.next)),s.default.orderBy(n.nodes,"id").forEach(function(e){o=t(o,e.onReceive),o=t(o,e.onEnter),o=t(o,e.next),o+=e.id,o+=e.flow,o+=e.type,o+=e.name,o+=e.x,o+=e.y}),s.default.orderBy(n.links,function(e){return e.source+e.target}).forEach(function(e){o+=e.source,o+=e.target,e.points&&e.points.forEach(function(e){o+=e.x,o+=e.y})}),e[n.name]=(0,d.hashCode)(o),e},{})},h=function(e){return u({},e,{currentHashes:y(e)})},N=function(e){return u({},s.default.pick(e,["currentFlow","currentFlowNode","flowsByName"]),{createdAt:new Date})},b=function(e){return!e.currentSnapshot||new Date-e.currentSnapshot.createdAt<500?u({},e,{currentSnapshot:N(e)}):u({},e,{undoStack:[e.currentSnapshot].concat(m(e.undoStack.slice(0,25))),redoStack:[],currentSnapshot:N(e)})},F=function(e){return function(t){var n,o="undoStack"===e?"redoStack":"undoStack";if(0===t[e].length)return t;var r=t[e][0];return u({},t,(w(n={currentSnapshot:r,currentFlow:r.currentFlow,currentFlowNode:r.currentFlowNode,flowsByName:r.flowsByName},e,t[e].slice(1)),w(n,o,[t.currentSnapshot].concat(m(t[o]))),n))}},E=(0,i.handleActions)((w(o={},f.requestFlows,function(e){return u({},e,{fetchingFlows:!0})}),w(o,f.receiveFlows,function(e,t){var n=t.payload,o=s.default.keys(n).filter(function(e){return!n[e].skillData}),r=s.default.keys(n).includes("main.flow.json")?"main.flow.json":s.default.first(o),a=u({},e,{fetchingFlows:!1,flowsByName:n,currentFlow:e.currentFlow||r});return u({},a,{currentSnapshot:N(a)})}),w(o,f.requestSaveFlows,function(e){return u({},e,{savingFlows:!0})}),w(o,f.receiveSaveFlows,function(e){return u({},e,{savingFlows:!1})}),w(o,f.switchFlowNode,function(e,t){var n=t.payload;return u({},e,{currentFlowNode:n})}),w(o,f.openFlowNodeProps,function(e){return u({},e,{showFlowNodeProps:!0})}),w(o,f.closeFlowNodeProps,function(e){return u({},e,{showFlowNodeProps:!1})}),w(o,f.switchFlow,function(e,t){var n=t.payload;return e.currentFlow===n?e:u({},e,{currentFlowNode:null,currentFlow:n})}),w(o,f.setDiagramAction,function(e,t){var n=t.payload;return u({},e,{currentDiagramAction:n})}),w(o,f.handleRefreshFlowLinks,function(e){return u({},e,{flowsByName:u({},e.flowsByName,w({},e.currentFlow,u({},e.flowsByName[e.currentFlow],{nodes:e.flowsByName[e.currentFlow].nodes.map(function(e){return u({},e,{lastModified:new Date})})})))})}),o),v);E=(0,c.default)(E,(0,i.handleActions)((w(r={},f.renameFlow,function(e,t){var n,o,r,a=t.payload;return u({},e,{flowsByName:(n={flow:e.currentFlow,name:a,flows:s.default.values(e.flowsByName)},o=n.flow,r=n.name,n.flows.reduce(function(e,t){if(t.name===o&&(t.name=r,t.location=r),t.nodes){var n=JSON.stringify(t.nodes);n=n.replace(o,r),t.nodes=JSON.parse(n)}return e[t.name]=t,e},{})),currentFlow:a})}),w(r,f.updateFlow,function(e,t){var n=t.payload,o=e.flowsByName[e.currentFlow],r=n.links?o.nodes.map(function(e){var t=n.links.filter(function(t){return t.source===e.id}),r=e.next.map(function(e,n){var r=t.find(function(e){return Number(e.sourcePort.replace("out",""))===n}),a=s.default.find(o.nodes,{id:(r||{}).target}),l="";return(e.node.includes(".flow.json")||"END"===e.node||e.node.startsWith("#"))&&(l=e.node),u({},e,{node:a&&a.name||l})});return u({},e,{next:r,lastModified:new Date})}):o.nodes,a=(n.links||o.links).map(function(e){return u({},e,{points:e.points.map(function(e){var t=e.x,n=e.y;return{x:Math.round(t),y:Math.round(n)}})})});return u({},e,{flowsByName:u({},e.flowsByName,w({},e.currentFlow,u({},o,{nodes:r},n,{links:a})))})}),w(r,f.createFlow,function(e,t){var n=t.payload;return u({},e,{flowsByName:u({},e.flowsByName,w({},n,{version:"0.1",name:n,location:n,startNode:"entry",catchAll:{},links:[],nodes:[{id:(0,d.prettyId)(),name:"entry",onEnter:[],onReceive:null,next:[],x:100,y:100}]})),currentFlow:n,currentFlowNode:null})}),w(r,f.deleteFlow,function(e,t){var n=t.payload;return u({},e,{currentFlow:e.currentFlow===n?null:e.currentFlow,currentFlowNode:e.currentFlow===n?null:e.currentFlowNode,flowsByName:s.default.omit(e.flowsByName,n)})}),w(r,f.insertNewSkill,function(e,t){var n=t.payload,o=n.skillId.replace(/^botpress-skill-/i,"").replace(/^@botpress\/skill-/i,"").replace(/^skill-/i,""),r=(0,d.prettyId)(6),a="skills/"+o+"-"+r+".flow.json",l=Object.assign({},n.generatedFlow,{skillData:n.data,name:a,location:a}),i={id:"skill-"+r,type:"skill-call",skill:o,name:o+"-"+r,flow:a,next:n.transitions||[],onEnter:null,onReceive:null};return u({},e,{currentDiagramAction:"insert_skill",nodeInBuffer:i,flowsByName:u({},e.flowsByName,w({},l.name,l))})}),w(r,f.updateSkill,function(e,t){var n,o=t.payload,r=Object.assign({},e.flowsByName[o.editFlowName],o.generatedFlow,{skillData:o.data,name:o.editFlowName,location:o.editFlowName}),a=e.flowsByName[e.currentFlow].nodes.map(function(e){return e.id!==o.editNodeId?e:Object.assign({},e,{next:o.transitions})});return u({},e,{flowsByName:u({},e.flowsByName,(n={},w(n,o.editFlowName,r),w(n,e.currentFlow,u({},e.flowsByName[e.currentFlow],{nodes:a})),n))})}),w(r,f.insertNewSkillNode,function(e,t){var n=t.payload;return u({},e,{flowsByName:u({},e.flowsByName,w({},e.currentFlow,u({},e.flowsByName[e.currentFlow],{nodes:[].concat(m(e.flowsByName[e.currentFlow].nodes),[s.default.merge(e.nodeInBuffer,s.default.pick(n,["x","y"]))])})))})}),w(r,f.duplicateFlow,function(e,t){var n=t.payload,o=n.flowNameToDuplicate,r=n.name;return u({},e,{flowsByName:u({},e.flowsByName,w({},r,u({},e.flowsByName[o],{name:r,location:r,nodes:e.flowsByName[o].nodes.map(function(e){return u({},e,{id:(0,d.prettyId)()})})}))),currentFlow:r,currentFlowNode:null})}),w(r,f.updateFlowNode,function(e,t){var n=t.payload,o=e.flowsByName[e.currentFlow],r=s.default.find(e.flowsByName[e.currentFlow].nodes,{id:e.currentFlowNode}),a=function(e){return e===(r||{}).name&&n.name};return u({},e,{flowsByName:u({},e.flowsByName,w({},e.currentFlow,u({},o,{startNode:a(o.startNode)?n.name:o.startNode,nodes:o.nodes.map(function(t){return t.id!==e.currentFlowNode?u({},t,{next:t.next.map(function(e){return u({},e,{node:a(e.node)?n.name:e.node})})}):u({},t,n,{lastModified:new Date})})})))})}),w(r,f.removeFlowNode,function(e,t){var n=t.payload,o=[],r=s.default.find(e.flowsByName[e.currentFlow].nodes,{id:n});return"skill-call"===r.type&&function(e,t){return s.default.flatten(s.default.values(e.flowsByName).map(function(e){return e.nodes})).filter(function(e){return e.flow===t||s.default.find(e.next,{node:t})}).map(function(e){return e.id})}(e,r.flow).length<=1&&o.push(r.flow),u({},e,{flowsByName:u({},s.default.omit(e.flowsByName,o),w({},e.currentFlow,u({},e.flowsByName[e.currentFlow],{nodes:e.flowsByName[e.currentFlow].nodes.filter(function(e){return e.id!==n})})))})}),w(r,f.copyFlowNode,function(e){var t=s.default.find(e.flowsByName[e.currentFlow].nodes,{id:e.currentFlowNode});return t?u({},e,{nodeInBuffer:u({},t,{next:t.next.map(function(e){return u({},e,{node:""})})})}):e}),w(r,f.pasteFlowNode,function(e,t){var n=t.payload,o=n.x,r=n.y,a=e.flowsByName[e.currentFlow],l=(0,d.prettyId)(),i=function(e,t){var n=e.filter(function(e){return e.startsWith(t+"-copy")});if(!n.length)return t+"-copy";for(var o=1;;){if(!n.find(function(e){return e===t+"-copy-"+o}))return t+"-copy-"+o;o+=1}}(a.nodes.map(function(e){return e.name}),e.nodeInBuffer.name);return u({},e,{currentFlowNode:l,flowsByName:u({},e.flowsByName,w({},e.currentFlow,u({},a,{nodes:[].concat(m(a.nodes),[u({},e.nodeInBuffer,{id:l,name:i,lastModified:new Date,x:o,y:r})])})))})}),w(r,f.copyFlowNodeElement,function(e,t){var n=t.payload;return u({},e,{buffer:u({},e.buffer,n)})}),w(r,f.pasteFlowNodeElement,function(e,t){var n=t.payload,o=e.buffer[{onEnter:"action",onReceive:"action",next:"transition"}[n]];if(!o)return e;var r=e.flowsByName[e.currentFlow],a=s.default.find(r.nodes,{id:e.currentFlowNode});return function(t){return u({},e,{flowsByName:u({},e.flowsByName,w({},e.currentFlow,u({},r,t)))})}(a?{nodes:[].concat(m(r.nodes.filter(function(t){return t.id!==e.currentFlowNode})),[u({},a,w({},n,[].concat(m(a[n]||[]),[o])))])}:{catchAll:u({},r.catchAll,w({},n,[].concat(m(r.catchAll[n]),[o])))})}),w(r,f.createFlowNode,function(e,t){var n=t.payload;return u({},e,{flowsByName:u({},e.flowsByName,w({},e.currentFlow,u({},e.flowsByName[e.currentFlow],{nodes:[].concat(m(e.flowsByName[e.currentFlow].nodes),[s.default.merge({id:(0,d.prettyId)(),name:"node-"+(0,d.prettyId)(4),x:0,y:0,next:[],onEnter:[],onReceive:null},n)])})))})}),r),v)),E=(0,c.default)(E,(0,i.handleActions)((w(a={},f.receiveFlows,function(e){var t=y(e);return u({},e,{currentHashes:t,initialHashes:t})}),w(a,f.receiveSaveFlows,function(e){var t=y(e);return u({},e,{currentHashes:t,initialHashes:t})}),w(a,f.updateFlow,h),w(a,f.renameFlow,h),w(a,f.updateFlowNode,h),w(a,f.createFlowNode,h),w(a,f.createFlow,h),w(a,f.deleteFlow,h),w(a,f.duplicateFlow,h),w(a,f.removeFlowNode,h),w(a,f.pasteFlowNode,h),w(a,f.insertNewSkillNode,h),w(a,f.updateSkill,h),w(a,f.pasteFlowNodeElement,h),a),v)),E=(0,c.default)(E,(0,i.handleActions)((w(l={},f.updateFlow,b),w(l,f.renameFlow,b),w(l,f.updateFlowNode,b),w(l,f.createFlowNode,b),w(l,f.createFlow,b),w(l,f.deleteFlow,b),w(l,f.duplicateFlow,b),w(l,f.removeFlowNode,b),w(l,f.pasteFlowNode,b),w(l,f.insertNewSkill,b),w(l,f.insertNewSkillNode,b),w(l,f.updateSkill,b),w(l,f.pasteFlowNodeElement,b),w(l,f.handleFlowEditorUndo,F("undoStack")),w(l,f.handleFlowEditorRedo,F("redoStack")),l),v)),t.default=E},265:function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0});var r,a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=n(30),u=((r=n(11))&&r.__esModule,n(16));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=(0,l.handleActions)((i(o={},u.receiveContentCategories,function(e,t){var n=t.payload;return a({},e,{categories:n})}),i(o,u.receiveContentItems,function(e,t){var n=t.payload;return a({},e,{currentItems:n})}),i(o,u.receiveContentItemsRecent,function(e,t){var n=t.payload;return a({},e,{recentItems:n})}),i(o,u.receiveContentItem,function(e,t){var n=t.payload;return a({},e,{itemsById:a({},e.itemsById,i({},n.id,n))})}),i(o,u.receiveContentItemsCount,function(e,t){var n=t.payload;return a({},e,{itemsCount:n.data.count})}),o),{categories:null,currentItems:[],recentItems:[],itemsById:{},itemsCount:0})},266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canFlowRedo=t.canFlowUndo=t.getDirtyFlows=t.getCurrentFlowNode=t.getCurrentFlow=void 0;var o,r=(o=n(11))&&o.__esModule?o:{default:o},a=t.getCurrentFlow=function(e){return e.flows.flowsByName[e.flows.currentFlow]||null};t.getCurrentFlowNode=function(e){if(e.flows&&e.flows.currentFlow&&e.flows.currentFlowNode){var t=a(e);return t&&r.default.find(t.nodes,{id:e.flows.currentFlowNode})}},t.getDirtyFlows=function(e){if(!e.flows)return[];var t=r.default.keys(e.flows.currentHashes),n=r.default.keys(e.flows.initialHashes),o=r.default.union(t,n),a=r.default.union(r.default.xor(o,t),r.default.xor(o,n));return r.default.keys(e.flows.flowsByName).forEach(function(t){e.flows.initialHashes[t]!==e.flows.currentHashes[t]&&a.push(t)}),a},t.canFlowUndo=function(e){return e.flows.undoStack.length>0},t.canFlowRedo=function(e){return e.flows.redoStack.length>0}},267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=(o=n(177))&&o.__esModule?o:{default:o};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.maxQueue,o=void 0===n?100:n,a=t.maxInterval,l=[],u={},i=function(){if(l.length){var t=l;l=[],e(t).then(function(e){var n=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var i=a.value;u[i].resolve(e[i]),delete u[i]}}catch(e){o=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}}).catch(function(e){var n=!0,o=!1,r=void 0;try{for(var a,l=t[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var i=a.value;u[i].reject(e),delete u[i]}}catch(e){o=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}})}},c=setInterval(i,void 0===a?20:a);return{add:function(e){if(u[e])return u[e].promise;l.push(e);var t=new r.default(function(t,n){u[e]={resolve:t,reject:n}});return u[e].promise=t,l.length>=o&&i(),t},destroy:function(){clearInterval(c)}}}},533:function(e,t){},629:function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(623);var r=p(n(588)),a=p(n(586)),l=(p(n(579)),p(n(578)),n(21)),u=p(n(173)),i=p(n(31)),c=p(n(178)),s=n(16),d=p(n(132)),f=n(210);function p(e){return e&&e.__esModule?e:{default:e}}var w=(0,n(75).getToken)();w&&(i.default.defaults.headers.common.Authorization="Bearer "+w.token);var m=u.default.parse(location.search),v=m.m,y=m.v,h={"platform-webchat":"channel-web"}[v]||v,N=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentDidMount",value:function(){this.props.fetchModules()}},{key:"render",value:function(){var e=(0,f.moduleViewNames)(this.props.modules.filter(function(e){return e.isPlugin})),t=function(){return r.default.createElement("h1",null,"Module $",h," with view $",y," not found")};return r.default.createElement("div",null,r.default.createElement(d.default,{moduleName:h,viewName:y,lite:!0,onNotFound:t}),e.map(function(e,n){var o=e.moduleName,a=e.viewName;return r.default.createElement(d.default,{key:n,moduleName:o,viewName:a,onNotFound:t})}))}}]),t}(),b={fetchModules:s.fetchModules},F=(0,l.connect)(function(e){return{modules:e.modules}},b)(N);a.default.render(r.default.createElement(l.Provider,{store:c.default},r.default.createElement(F,null)),document.getElementById("app"))},73:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(266);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var r=n(46),a=w(n(265)),l=w(n(264)),u=w(n(263)),i=w(n(262)),c=w(n(261)),s=w(n(260)),d=w(n(259)),f=w(n(258)),p=w(n(257));function w(e){return e&&e.__esModule?e:{default:e}}var m=(0,r.combineReducers)({content:a.default,flows:l.default,license:u.default,ui:i.default,user:c.default,bot:s.default,modules:d.default,notifications:p.default,skills:f.default});t.default=m},75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUniqueVisitorId=t.login=t.logout=t.setToken=t.getToken=t.authEvents=void 0;var o=l(n(184)),r=l(n(31)),a=l(n(151));function l(e){return e&&e.__esModule?e:{default:e}}var u=t.authEvents=new o.default,i=(t.getToken=function(){var e=localStorage.getItem("bp/token");return!!e&&JSON.parse(e)},t.setToken=function(e){localStorage.setItem("bp/token",JSON.stringify({token:e,time:new Date})),r.default.defaults.headers.common.Authorization="Bearer "+e,u.emit("new_token")});t.logout=function(){localStorage.removeItem("bp/token"),u.emit("logout")},t.login=function(e,t){return r.default.post("/api/login",{user:e,password:t}).then(function(e){if(!e.data.success)throw new Error(e.data.reason);i(e.data.token),u.emit("login")})},t.getUniqueVisitorId=function(){var e=localStorage.getItem("bp/socket/user");return e||(e=(0,a.default)(),localStorage.setItem("bp/socket/user",e)),window.__BP_VISITOR_ID=e,e}}});
//# sourceMappingURL=lite.2bc02e75f9b6dbe979ca.js.map